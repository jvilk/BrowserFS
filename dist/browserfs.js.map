{
  "version": 3,
  "sources": [
    "node_modules/grunt-browserify/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "node_modules/async/lib/async.js",
    "node_modules/pako/dist/pako_inflate.min.js",
    "src/backend/IndexedDB.d.ts",
    "src/backend/IndexedDB.ts",
    "src/backend/XmlHttpRequest.ts",
    "src/backend/async_mirror.ts",
    "src/backend/dropbox.ts",
    "src/backend/html5fs.ts",
    "src/backend/in_memory.ts",
    "src/backend/localStorage.ts",
    "src/backend/mountable_file_system.ts",
    "src/backend/overlay.ts",
    "src/backend/workerfs.ts",
    "src/backend/zipfs.ts",
    "src/core/api_error.ts",
    "src/core/browserfs.ts",
    "src/core/buffer.ts",
    "src/core/buffer_core.ts",
    "src/core/buffer_core_array.ts",
    "src/core/buffer_core_arraybuffer.ts",
    "src/core/buffer_core_imagedata.ts",
    "src/core/file.ts",
    "src/core/file_flag.ts",
    "src/core/file_system.ts",
    "src/core/global.ts",
    "src/core/node_eventemitter.ts",
    "src/core/node_fs.ts",
    "src/core/node_fs_stats.ts",
    "src/core/node_path.ts",
    "src/core/node_process.ts",
    "src/core/string_util.ts",
    "src/core/util.ts",
    "src/generic/emscripten_fs.ts",
    "src/generic/file_index.ts",
    "src/generic/inode.ts",
    "src/generic/key_value_filesystem.ts",
    "src/generic/preload_file.ts",
    "src/generic/xhr.ts",
    "src/main.ts"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvqCA;AACA;AACA;;ACFA;;;;;;;;ACAA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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "/*!\n * async\n * https://github.com/caolan/async\n *\n * Copyright 2010-2014 Caolan McMahon\n * Released under the MIT license\n */\n(function () {\n\n    var async = {};\n    function noop() {}\n\n    // global on the server, window in the browser\n    var root, previous_async;\n\n    if (typeof window == 'object' && this === window) {\n        root = window;\n    }\n    else if (typeof global == 'object' && this === global) {\n        root = global;\n    }\n    else {\n        root = this;\n    }\n\n    if (root != null) {\n      previous_async = root.async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    function only_once(fn) {\n        var called = false;\n        return function() {\n            if (called) throw new Error(\"Callback was already called.\");\n            called = true;\n            fn.apply(this, arguments);\n        };\n    }\n\n    function _once(fn) {\n        var called = false;\n        return function() {\n            if (called) return;\n            called = true;\n            fn.apply(this, arguments);\n        };\n    }\n\n    //// cross-browser compatiblity functions ////\n\n    var _toString = Object.prototype.toString;\n\n    var _isArray = Array.isArray || function (obj) {\n        return _toString.call(obj) === '[object Array]';\n    };\n\n    function _isArrayLike(arr) {\n        return _isArray(arr) || (\n            // has a positive integer length property\n            typeof arr.length === \"number\" &&\n            arr.length >= 0 &&\n            arr.length % 1 === 0\n        );\n    }\n\n    function _each(coll, iterator) {\n        return _isArrayLike(coll) ?\n            _arrayEach(coll, iterator) :\n            _forEachOf(coll, iterator);\n    }\n\n    function _arrayEach(arr, iterator) {\n      var index = -1,\n          length = arr.length;\n\n      while (++index < length) {\n        iterator(arr[index], index, arr);\n      }\n    }\n\n    function _map(arr, iterator) {\n      var index = -1,\n          length = arr.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iterator(arr[index], index, arr);\n      }\n      return result;\n    }\n\n    function _range(count) {\n        return _map(Array(count), function (v, i) { return i; });\n    }\n\n    function _reduce(arr, iterator, memo) {\n        _arrayEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    }\n\n    function _forEachOf(object, iterator) {\n        _arrayEach(_keys(object), function (key) {\n            iterator(object[key], key);\n        });\n    }\n\n    var _keys = Object.keys || function (obj) {\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    function _keyIterator(coll) {\n        var i = -1;\n        var len;\n        var keys;\n        if (_isArrayLike(coll)) {\n            len = coll.length;\n            return function next() {\n                i++;\n                return i < len ? i : null;\n            };\n        } else {\n            keys = _keys(coll);\n            len = keys.length;\n            return function next() {\n                i++;\n                return i < len ? keys[i] : null;\n            };\n        }\n    }\n\n    function _baseSlice(arr, start) {\n        start = start || 0;\n        var index = -1;\n        var length = arr.length;\n\n        if (start) {\n          length -= start;\n          length = length < 0 ? 0 : length;\n        }\n        var result = Array(length);\n\n        while (++index < length) {\n          result[index] = arr[index + start];\n        }\n        return result;\n    }\n\n    function _withoutIndex(iterator) {\n        return function (value, index, callback) {\n            return iterator(value, callback);\n        };\n    }\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n\n    // capture the global reference to guard against fakeTimer mocks\n    var _setImmediate;\n    if (typeof setImmediate === 'function') {\n        _setImmediate = setImmediate;\n    }\n\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        if (_setImmediate) {\n            async.nextTick = function (fn) {\n                // not a direct alias for IE10 compatibility\n                _setImmediate(fn);\n            };\n            async.setImmediate = async.nextTick;\n        }\n        else {\n            async.nextTick = function (fn) {\n                setTimeout(fn, 0);\n            };\n            async.setImmediate = async.nextTick;\n        }\n    }\n    else {\n        async.nextTick = process.nextTick;\n        if (_setImmediate) {\n            async.setImmediate = function (fn) {\n              // not a direct alias for IE10 compatibility\n              _setImmediate(fn);\n            };\n        }\n        else {\n            async.setImmediate = async.nextTick;\n        }\n    }\n\n    async.forEach =\n    async.each = function (arr, iterator, callback) {\n        return async.eachOf(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachSeries =\n    async.eachSeries = function (arr, iterator, callback) {\n        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);\n    };\n\n\n    async.forEachLimit =\n    async.eachLimit = function (arr, limit, iterator, callback) {\n        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);\n    };\n\n    async.forEachOf =\n    async.eachOf = function (object, iterator, callback) {\n        callback = _once(callback || noop);\n        object = object || [];\n        var size = _isArrayLike(object) ? object.length : _keys(object).length;\n        var completed = 0;\n        if (!size) {\n            return callback(null);\n        }\n        _each(object, function (value, key) {\n            iterator(object[key], key, only_once(done));\n        });\n        function done(err) {\n          if (err) {\n              callback(err);\n          }\n          else {\n              completed += 1;\n              if (completed >= size) {\n                  callback(null);\n              }\n          }\n        }\n    };\n\n    async.forEachOfSeries =\n    async.eachOfSeries = function (obj, iterator, callback) {\n        callback = _once(callback || noop);\n        obj = obj || [];\n        var nextKey = _keyIterator(obj);\n        var key = nextKey();\n        function iterate() {\n            var sync = true;\n            if (key === null) {\n                return callback(null);\n            }\n            iterator(obj[key], key, only_once(function (err) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    key = nextKey();\n                    if (key === null) {\n                        return callback(null);\n                    } else {\n                        if (sync) {\n                            async.nextTick(iterate);\n                        } else {\n                            iterate();\n                        }\n                    }\n                }\n            }));\n            sync = false;\n        }\n        iterate();\n    };\n\n\n\n    async.forEachOfLimit =\n    async.eachOfLimit = function (obj, limit, iterator, callback) {\n        _eachOfLimit(limit)(obj, iterator, callback);\n    };\n\n    function _eachOfLimit(limit) {\n\n        return function (obj, iterator, callback) {\n            callback = _once(callback || noop);\n            obj = obj || [];\n            var nextKey = _keyIterator(obj);\n            if (limit <= 0) {\n                return callback(null);\n            }\n            var done = false;\n            var running = 0;\n            var errored = false;\n\n            (function replenish () {\n                if (done && running <= 0) {\n                    return callback(null);\n                }\n\n                while (running < limit && !errored) {\n                    var key = nextKey();\n                    if (key === null) {\n                        done = true;\n                        if (running <= 0) {\n                            callback(null);\n                        }\n                        return;\n                    }\n                    running += 1;\n                    iterator(obj[key], key, only_once(function (err) {\n                        running -= 1;\n                        if (err) {\n                            callback(err);\n                            errored = true;\n                        }\n                        else {\n                            replenish();\n                        }\n                    }));\n                }\n            })();\n        };\n    }\n\n\n    function doParallel(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOf, obj, iterator, callback);\n        };\n    }\n    function doParallelLimit(limit, fn) {\n        return function (obj, iterator, callback) {\n            return fn(_eachOfLimit(limit), obj, iterator, callback);\n        };\n    }\n    function doSeries(fn) {\n        return function (obj, iterator, callback) {\n            return fn(async.eachOfSeries, obj, iterator, callback);\n        };\n    }\n\n    function _asyncMap(eachfn, arr, iterator, callback) {\n        callback = _once(callback || noop);\n        var results = [];\n        eachfn(arr, function (value, index, callback) {\n            iterator(value, function (err, v) {\n                results[index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n    async.mapLimit = function (arr, limit, iterator, callback) {\n        return _mapLimit(limit)(arr, iterator, callback);\n    };\n\n    function _mapLimit(limit) {\n        return doParallelLimit(limit, _asyncMap);\n    }\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.inject =\n    async.foldl =\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.eachOfSeries(arr, function (x, i, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err || null, memo);\n        });\n    };\n\n    async.foldr =\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n\n    function _filter(eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, index, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n\n    async.select =\n    async.filter = doParallel(_filter);\n\n    async.selectSeries =\n    async.filterSeries = doSeries(_filter);\n\n    function _reject(eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, index, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function () {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    }\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    function _detect(eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, index, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = noop;\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function () {\n            main_callback();\n        });\n    }\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.any =\n    async.some = function (arr, iterator, main_callback) {\n        async.eachOf(arr, function (x, _, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = noop;\n                }\n                callback();\n            });\n        }, function () {\n            main_callback(false);\n        });\n    };\n\n    async.all =\n    async.every = function (arr, iterator, main_callback) {\n        async.eachOf(arr, function (x, _, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = noop;\n                }\n                callback();\n            });\n        }, function () {\n            main_callback(true);\n        });\n    };\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                callback(null, _map(results.sort(comparator), function (x) {\n                    return x.value;\n                }));\n            }\n\n        });\n\n        function comparator(left, right) {\n            var a = left.criteria, b = right.criteria;\n            return a < b ? -1 : a > b ? 1 : 0;\n        }\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = _once(callback || noop);\n        var keys = _keys(tasks);\n        var remainingTasks = keys.length;\n        if (!remainingTasks) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        function addListener(fn) {\n            listeners.unshift(fn);\n        }\n        function removeListener(fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        }\n        function taskComplete() {\n            remainingTasks--;\n            _arrayEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        }\n\n        addListener(function () {\n            if (!remainingTasks) {\n                callback(null, results);\n            }\n        });\n\n        _arrayEach(keys, function (k) {\n            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];\n            function taskCallback(err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                if (err) {\n                    var safeResults = {};\n                    _arrayEach(_keys(results), function(rkey) {\n                        safeResults[rkey] = results[rkey];\n                    });\n                    safeResults[k] = args;\n                    callback(err, safeResults);\n                }\n                else {\n                    results[k] = args;\n                    async.setImmediate(taskComplete);\n                }\n            }\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            // prevent dead-locks\n            var len = requires.length;\n            var dep;\n            while (len--) {\n                if (!(dep = tasks[requires[len]])) {\n                    throw new Error('Has inexistant dependency');\n                }\n                if (_isArray(dep) && !!~dep.indexOf(k)) {\n                    throw new Error('Has cyclic dependencies');\n                }\n            }\n            function ready() {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            }\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                addListener(listener);\n            }\n            function listener() {\n                if (ready()) {\n                    removeListener(listener);\n                    task[task.length - 1](taskCallback, results);\n                }\n            }\n        });\n    };\n\n    async.retry = function(times, task, callback) {\n        var DEFAULT_TIMES = 5;\n        var attempts = [];\n        // Use defaults if times not passed\n        if (typeof times === 'function') {\n            callback = task;\n            task = times;\n            times = DEFAULT_TIMES;\n        }\n        // Make sure times is a number\n        times = parseInt(times, 10) || DEFAULT_TIMES;\n\n        function wrappedTask(wrappedCallback, wrappedResults) {\n            function retryAttempt(task, finalAttempt) {\n                return function(seriesCallback) {\n                    task(function(err, result){\n                        seriesCallback(!err || finalAttempt, {err: err, result: result});\n                    }, wrappedResults);\n                };\n            }\n\n            while (times) {\n                attempts.push(retryAttempt(task, !(times-=1)));\n            }\n            async.series(attempts, function(done, data){\n                data = data[data.length - 1];\n                (wrappedCallback || callback)(data.err, data.result);\n            });\n        }\n\n        // If a callback is passed, run this as a controll flow\n        return callback ? wrappedTask() : wrappedTask;\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = _once(callback || noop);\n        if (!_isArray(tasks)) {\n          var err = new Error('First argument to waterfall must be an array of functions');\n          return callback(err);\n        }\n        if (!tasks.length) {\n            return callback();\n        }\n        function wrapIterator(iterator) {\n            return function (err) {\n                if (err) {\n                    callback.apply(null, arguments);\n                }\n                else {\n                    var args = _baseSlice(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    ensureAsync(iterator).apply(null, args);\n                }\n            };\n        }\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    function _parallel(eachfn, tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        eachfn(tasks, function (task, key, callback) {\n            task(function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    }\n\n    async.parallel = function (tasks, callback) {\n        _parallel(async.eachOf, tasks, callback);\n    };\n\n    async.parallelLimit = function(tasks, limit, callback) {\n        _parallel(_eachOfLimit(limit), tasks, callback);\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || noop;\n        var results = _isArrayLike(tasks) ? [] : {};\n\n        async.eachOfSeries(tasks, function (task, key, callback) {\n            task(function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (args.length <= 1) {\n                    args = args[0];\n                }\n                results[key] = args;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n\n    async.iterator = function (tasks) {\n        function makeCallback(index) {\n            function fn() {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            }\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        }\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = _baseSlice(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(_baseSlice(arguments))\n            );\n        };\n    };\n\n    function _concat(eachfn, arr, fn, callback) {\n        var result = [];\n        eachfn(arr, function (x, index, cb) {\n            fn(x, function (err, y) {\n                result = result.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, result);\n        });\n    }\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback(null);\n        }\n    };\n\n    async.doWhilst = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            var args = _baseSlice(arguments, 1);\n            if (test.apply(null, args)) {\n                async.doWhilst(iterator, test, callback);\n            }\n            else {\n                callback(null);\n            }\n        });\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback(null);\n        }\n    };\n\n    async.doUntil = function (iterator, test, callback) {\n        iterator(function (err) {\n            if (err) {\n                return callback(err);\n            }\n            var args = _baseSlice(arguments, 1);\n            if (!test.apply(null, args)) {\n                async.doUntil(iterator, test, callback);\n            }\n            else {\n                callback(null);\n            }\n        });\n    };\n\n    function _queue(worker, concurrency, payload) {\n        if (concurrency == null) {\n            concurrency = 1;\n        }\n        else if(concurrency === 0) {\n            throw new Error('Concurrency must not be zero');\n        }\n        function _insert(q, data, pos, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0 && q.idle()) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                   q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    callback: callback || noop\n                };\n\n                if (pos) {\n                  q.tasks.unshift(item);\n                } else {\n                  q.tasks.push(item);\n                }\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n            });\n            async.setImmediate(q.process);\n        }\n        function _next(q, tasks) {\n            return function(){\n                workers -= 1;\n                var args = arguments;\n                _arrayEach(tasks, function (task) {\n                    task.callback.apply(task, args);\n                });\n                if (q.tasks.length + workers === 0) {\n                    q.drain();\n                }\n                q.process();\n            };\n        }\n\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: noop,\n            empty: noop,\n            drain: noop,\n            started: false,\n            paused: false,\n            push: function (data, callback) {\n                _insert(q, data, false, callback);\n            },\n            kill: function () {\n                q.drain = noop;\n                q.tasks = [];\n            },\n            unshift: function (data, callback) {\n                _insert(q, data, true, callback);\n            },\n            process: function () {\n                if (!q.paused && workers < q.concurrency && q.tasks.length) {\n                    while(workers < q.concurrency && q.tasks.length){\n                        var tasks = payload ?\n                            q.tasks.splice(0, payload) :\n                            q.tasks.splice(0, q.tasks.length);\n\n                        var data = _map(tasks, function (task) {\n                            return task.data;\n                        });\n\n                        if (q.tasks.length === 0) {\n                            q.empty();\n                        }\n                        workers += 1;\n                        var cb = only_once(_next(q, tasks));\n                        worker(data, cb);\n                    }\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            },\n            idle: function() {\n                return q.tasks.length + workers === 0;\n            },\n            pause: function () {\n                q.paused = true;\n            },\n            resume: function () {\n                if (q.paused === false) { return; }\n                q.paused = false;\n                var resumeCount = Math.min(q.concurrency, q.tasks.length);\n                // Need to call q.process once per concurrent\n                // worker to preserve full concurrency after pause\n                for (var w = 1; w <= resumeCount; w++) {\n                    async.setImmediate(q.process);\n                }\n            }\n        };\n        return q;\n    }\n\n    async.queue = function (worker, concurrency) {\n        var q = _queue(function (items, cb) {\n            worker(items[0], cb);\n        }, concurrency, 1);\n\n        return q;\n    };\n\n    async.priorityQueue = function (worker, concurrency) {\n\n        function _compareTasks(a, b){\n            return a.priority - b.priority;\n        }\n\n        function _binarySearch(sequence, item, compare) {\n          var beg = -1,\n              end = sequence.length - 1;\n          while (beg < end) {\n              var mid = beg + ((end - beg + 1) >>> 1);\n              if (compare(item, sequence[mid]) >= 0) {\n                  beg = mid;\n              } else {\n                  end = mid - 1;\n              }\n          }\n          return beg;\n        }\n\n        function _insert(q, data, priority, callback) {\n            if (callback != null && typeof callback !== \"function\") {\n                throw new Error(\"task callback must be a function\");\n            }\n            q.started = true;\n            if (!_isArray(data)) {\n                data = [data];\n            }\n            if(data.length === 0) {\n                // call drain immediately if there are no tasks\n                return async.setImmediate(function() {\n                    q.drain();\n                });\n            }\n            _arrayEach(data, function(task) {\n                var item = {\n                    data: task,\n                    priority: priority,\n                    callback: typeof callback === 'function' ? callback : noop\n                };\n\n                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);\n\n                if (q.tasks.length === q.concurrency) {\n                    q.saturated();\n                }\n                async.setImmediate(q.process);\n            });\n        }\n\n        // Start with a normal queue\n        var q = async.queue(worker, concurrency);\n\n        // Override push to accept second parameter representing priority\n        q.push = function (data, priority, callback) {\n            _insert(q, data, priority, callback);\n        };\n\n        // Remove unshift function\n        delete q.unshift;\n\n        return q;\n    };\n\n    async.cargo = function (worker, payload) {\n        return _queue(worker, 1, payload);\n    };\n\n    function _console_fn(name) {\n        return function (fn) {\n            var args = _baseSlice(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = _baseSlice(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _arrayEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    }\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        function memoized() {\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                async.nextTick(function () {\n                    callback.apply(null, memo[key]);\n                });\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = _baseSlice(arguments);\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        }\n        memoized.memo = memo;\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n    function _times(mapper) {\n        return function (count, iterator, callback) {\n            mapper(_range(count), iterator, callback);\n        };\n    }\n\n    async.times = _times(async.map);\n    async.timesSeries = _times(async.mapSeries);\n    async.timesLimit = function (count, limit, iterator, callback) {\n        return async.mapLimit(_range(count), limit, iterator, callback);\n    };\n\n    async.seq = function (/* functions... */) {\n        var fns = arguments;\n        return function () {\n            var that = this;\n            var args = _baseSlice(arguments);\n\n            var callback = args.slice(-1)[0];\n            if (typeof callback == 'function') {\n                args.pop();\n            } else {\n                callback = noop;\n            }\n\n            async.reduce(fns, args, function (newargs, fn, cb) {\n                fn.apply(that, newargs.concat([function () {\n                    var err = arguments[0];\n                    var nextargs = _baseSlice(arguments, 1);\n                    cb(err, nextargs);\n                }]));\n            },\n            function (err, results) {\n                callback.apply(that, [err].concat(results));\n            });\n        };\n    };\n\n    async.compose = function (/* functions... */) {\n      return async.seq.apply(null, Array.prototype.reverse.call(arguments));\n    };\n\n\n    function _applyEach(eachfn, fns /*args...*/) {\n        function go() {\n            var that = this;\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            return eachfn(fns, function (fn, _, cb) {\n                fn.apply(that, args.concat([cb]));\n            },\n            callback);\n        }\n        if (arguments.length > 2) {\n            var args = _baseSlice(arguments, 2);\n            return go.apply(this, args);\n        }\n        else {\n            return go;\n        }\n    }\n\n    async.applyEach = function (/*fns, args...*/) {\n        var args = _baseSlice(arguments);\n        return _applyEach.apply(null, [async.eachOf].concat(args));\n    };\n    async.applyEachSeries = function (/*fns, args...*/) {\n        var args = _baseSlice(arguments);\n        return _applyEach.apply(null, [async.eachOfSeries].concat(args));\n    };\n\n\n    async.forever = function (fn, callback) {\n        var done = only_once(callback || noop);\n        var task = ensureAsync(fn);\n        function next(err) {\n            if (err) {\n                return done(err);\n            }\n            task(next);\n        }\n        next();\n    };\n\n    function ensureAsync(fn) {\n        return function (/*...args, callback*/) {\n            var args = _baseSlice(arguments);\n            var callback = args.pop();\n            args.push(function () {\n                var innerArgs = arguments;\n                if (sync) {\n                    async.setImmediate(function () {\n                        callback.apply(null, innerArgs);\n                    });\n                } else {\n                    callback.apply(null, innerArgs);\n                }\n            });\n            var sync = true;\n            fn.apply(this, args);\n            sync = false;\n        };\n    }\n\n    async.ensureAsync = ensureAsync;\n\n    // Node.js\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    // AMD / RequireJS\n    else if (typeof define !== 'undefined' && define.amd) {\n        define([], function () {\n            return async;\n        });\n    }\n    // included directly via <script> tag\n    else {\n        root.async = async;\n    }\n\n}());\n",
    "/* pako 0.2.7 nodeca/pako */\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.pako=e()}}(function(){return function e(t,i,n){function a(o,s){if(!i[o]){if(!t[o]){var f=\"function\"==typeof require&&require;if(!s&&f)return f(o,!0);if(r)return r(o,!0);var l=new Error(\"Cannot find module '\"+o+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return a(i?i:e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var r=\"function\"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(e,t,i){\"use strict\";var n=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)return void e.set(t.subarray(i,i+n),a);for(var r=0;n>r;r++)e[a+r]=t[i+r]},flattenChunks:function(e){var t,i,n,a,r,o;for(n=0,t=0,i=e.length;i>t;t++)n+=e[t].length;for(o=new Uint8Array(n),a=0,t=0,i=e.length;i>t;t++)r=e[t],o.set(r,a),a+=r.length;return o}},r={arraySet:function(e,t,i,n,a){for(var r=0;n>r;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(n)},{}],2:[function(e,t,i){\"use strict\";function n(e,t){if(65537>t&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var i=\"\",n=0;t>n;n++)i+=String.fromCharCode(e[n]);return i}var a=e(\"./common\"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(s){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){o=!1}for(var f=new a.Buf8(256),l=0;256>l;l++)f[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;f[254]=f[254]=1,i.string2buf=function(e){var t,i,n,r,o,s=e.length,f=0;for(r=0;s>r;r++)i=e.charCodeAt(r),55296===(64512&i)&&s>r+1&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),f+=128>i?1:2048>i?2:65536>i?3:4;for(t=new a.Buf8(f),o=0,r=0;f>o;r++)i=e.charCodeAt(r),55296===(64512&i)&&s>r+1&&(n=e.charCodeAt(r+1),56320===(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),128>i?t[o++]=i:2048>i?(t[o++]=192|i>>>6,t[o++]=128|63&i):65536>i?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},i.buf2binstring=function(e){return n(e,e.length)},i.binstring2buf=function(e){for(var t=new a.Buf8(e.length),i=0,n=t.length;n>i;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,a,r,o,s=t||e.length,l=new Array(2*s);for(a=0,i=0;s>i;)if(r=e[i++],128>r)l[a++]=r;else if(o=f[r],o>4)l[a++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&s>i;)r=r<<6|63&e[i++],o--;o>1?l[a++]=65533:65536>r?l[a++]=r:(r-=65536,l[a++]=55296|r>>10&1023,l[a++]=56320|1023&r)}return n(l,a)},i.utf8border=function(e,t){var i;for(t=t||e.length,t>e.length&&(t=e.length),i=t-1;i>=0&&128===(192&e[i]);)i--;return 0>i?t:0===i?t:i+f[e[i]]>t?i:t}},{\"./common\":1}],3:[function(e,t,i){\"use strict\";function n(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){o=i>2e3?2e3:i,i-=o;do a=a+t[n++]|0,r=r+a|0;while(--o);a%=65521,r%=65521}return a|r<<16|0}t.exports=n},{}],4:[function(e,t,i){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,i){\"use strict\";function n(){for(var e,t=[],i=0;256>i;i++){e=i;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}function a(e,t,i,n){var a=r,o=n+i;e=-1^e;for(var s=n;o>s;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}var r=n();t.exports=a},{}],6:[function(e,t,i){\"use strict\";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}t.exports=n},{}],7:[function(e,t,i){\"use strict\";var n=30,a=12;t.exports=function(e,t){var i,r,o,s,f,l,d,u,h,c,b,w,m,k,_,g,v,p,x,y,S,E,B,Z,A;i=e.state,r=e.next_in,Z=e.input,o=r+(e.avail_in-5),s=e.next_out,A=e.output,f=s-(t-e.avail_out),l=s+(e.avail_out-257),d=i.dmax,u=i.wsize,h=i.whave,c=i.wnext,b=i.window,w=i.hold,m=i.bits,k=i.lencode,_=i.distcode,g=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{15>m&&(w+=Z[r++]<<m,m+=8,w+=Z[r++]<<m,m+=8),p=k[w&g];t:for(;;){if(x=p>>>24,w>>>=x,m-=x,x=p>>>16&255,0===x)A[s++]=65535&p;else{if(!(16&x)){if(0===(64&x)){p=k[(65535&p)+(w&(1<<x)-1)];continue t}if(32&x){i.mode=a;break e}e.msg=\"invalid literal/length code\",i.mode=n;break e}y=65535&p,x&=15,x&&(x>m&&(w+=Z[r++]<<m,m+=8),y+=w&(1<<x)-1,w>>>=x,m-=x),15>m&&(w+=Z[r++]<<m,m+=8,w+=Z[r++]<<m,m+=8),p=_[w&v];i:for(;;){if(x=p>>>24,w>>>=x,m-=x,x=p>>>16&255,!(16&x)){if(0===(64&x)){p=_[(65535&p)+(w&(1<<x)-1)];continue i}e.msg=\"invalid distance code\",i.mode=n;break e}if(S=65535&p,x&=15,x>m&&(w+=Z[r++]<<m,m+=8,x>m&&(w+=Z[r++]<<m,m+=8)),S+=w&(1<<x)-1,S>d){e.msg=\"invalid distance too far back\",i.mode=n;break e}if(w>>>=x,m-=x,x=s-f,S>x){if(x=S-x,x>h&&i.sane){e.msg=\"invalid distance too far back\",i.mode=n;break e}if(E=0,B=b,0===c){if(E+=u-x,y>x){y-=x;do A[s++]=b[E++];while(--x);E=s-S,B=A}}else if(x>c){if(E+=u+c-x,x-=c,y>x){y-=x;do A[s++]=b[E++];while(--x);if(E=0,y>c){x=c,y-=x;do A[s++]=b[E++];while(--x);E=s-S,B=A}}}else if(E+=c-x,y>x){y-=x;do A[s++]=b[E++];while(--x);E=s-S,B=A}for(;y>2;)A[s++]=B[E++],A[s++]=B[E++],A[s++]=B[E++],y-=3;y&&(A[s++]=B[E++],y>1&&(A[s++]=B[E++]))}else{E=s-S;do A[s++]=A[E++],A[s++]=A[E++],A[s++]=A[E++],y-=3;while(y>2);y&&(A[s++]=A[E++],y>1&&(A[s++]=A[E++]))}break}}break}}while(o>r&&l>s);y=m>>3,r-=y,m-=y<<3,w&=(1<<m)-1,e.next_in=r,e.next_out=s,e.avail_in=o>r?5+(o-r):5-(r-o),e.avail_out=l>s?257+(l-s):257-(s-l),i.hold=w,i.bits=m}},{}],8:[function(e,t,i){\"use strict\";function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new k.Buf32(be),t.distcode=t.distdyn=new k.Buf32(we),t.sane=1,t.back=-1,A):R}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,r(e)):R}function s(e,t){var i,n;return e&&e.state?(n=e.state,0>t?(i=0,t=-t):(i=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?R:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,o(e))):R}function f(e,t){var i,n;return e?(n=new a,e.state=n,n.window=null,i=s(e,t),i!==A&&(e.state=null),i):R}function l(e){return f(e,ke)}function d(e){if(_e){var t;for(w=new k.Buf32(512),m=new k.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(p(y,e.lens,0,288,w,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;p(S,e.lens,0,32,m,0,e.work,{bits:5}),_e=!1}e.lencode=w,e.lenbits=9,e.distcode=m,e.distbits=5}function u(e,t,i,n){var a,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new k.Buf8(r.wsize)),n>=r.wsize?(k.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),k.arraySet(r.window,t,i-n,a,r.wnext),n-=a,n?(k.arraySet(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0}function h(e,t){var i,a,r,o,s,f,l,h,c,b,w,m,be,we,me,ke,_e,ge,ve,pe,xe,ye,Se,Ee,Be=0,Ze=new k.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return R;i=e.state,i.mode===G&&(i.mode=X),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,a=e.input,f=e.avail_in,h=i.hold,c=i.bits,b=f,w=l,ye=A;e:for(;;)switch(i.mode){case F:if(0===i.wrap){i.mode=X;break}for(;16>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(2&i.wrap&&35615===h){i.check=0,Ze[0]=255&h,Ze[1]=h>>>8&255,i.check=g(i.check,Ze,2,0),h=0,c=0,i.mode=U;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg=\"incorrect header check\",i.mode=ue;break}if((15&h)!==T){e.msg=\"unknown compression method\",i.mode=ue;break}if(h>>>=4,c-=4,xe=(15&h)+8,0===i.wbits)i.wbits=xe;else if(xe>i.wbits){e.msg=\"invalid window size\",i.mode=ue;break}i.dmax=1<<xe,e.adler=i.check=1,i.mode=512&h?Y:G,h=0,c=0;break;case U:for(;16>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(i.flags=h,(255&i.flags)!==T){e.msg=\"unknown compression method\",i.mode=ue;break}if(57344&i.flags){e.msg=\"unknown header flags set\",i.mode=ue;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&(Ze[0]=255&h,Ze[1]=h>>>8&255,i.check=g(i.check,Ze,2,0)),h=0,c=0,i.mode=D;case D:for(;32>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}i.head&&(i.head.time=h),512&i.flags&&(Ze[0]=255&h,Ze[1]=h>>>8&255,Ze[2]=h>>>16&255,Ze[3]=h>>>24&255,i.check=g(i.check,Ze,4,0)),h=0,c=0,i.mode=L;case L:for(;16>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&(Ze[0]=255&h,Ze[1]=h>>>8&255,i.check=g(i.check,Ze,2,0)),h=0,c=0,i.mode=H;case H:if(1024&i.flags){for(;16>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&(Ze[0]=255&h,Ze[1]=h>>>8&255,i.check=g(i.check,Ze,2,0)),h=0,c=0}else i.head&&(i.head.extra=null);i.mode=j;case j:if(1024&i.flags&&(m=i.length,m>f&&(m=f),m&&(i.head&&(xe=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),k.arraySet(i.head.extra,a,o,m,xe)),512&i.flags&&(i.check=g(i.check,a,m,o)),f-=m,o+=m,i.length-=m),i.length))break e;i.length=0,i.mode=M;case M:if(2048&i.flags){if(0===f)break e;m=0;do xe=a[o+m++],i.head&&xe&&i.length<65536&&(i.head.name+=String.fromCharCode(xe));while(xe&&f>m);if(512&i.flags&&(i.check=g(i.check,a,m,o)),f-=m,o+=m,xe)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=K;case K:if(4096&i.flags){if(0===f)break e;m=0;do xe=a[o+m++],i.head&&xe&&i.length<65536&&(i.head.comment+=String.fromCharCode(xe));while(xe&&f>m);if(512&i.flags&&(i.check=g(i.check,a,m,o)),f-=m,o+=m,xe)break e}else i.head&&(i.head.comment=null);i.mode=P;case P:if(512&i.flags){for(;16>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(h!==(65535&i.check)){e.msg=\"header crc mismatch\",i.mode=ue;break}h=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=G;break;case Y:for(;32>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}e.adler=i.check=n(h),h=0,c=0,i.mode=q;case q:if(0===i.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=f,i.hold=h,i.bits=c,N;e.adler=i.check=1,i.mode=G;case G:if(t===B||t===Z)break e;case X:if(i.last){h>>>=7&c,c-=7&c,i.mode=fe;break}for(;3>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}switch(i.last=1&h,h>>>=1,c-=1,3&h){case 0:i.mode=W;break;case 1:if(d(i),i.mode=te,t===Z){h>>>=2,c-=2;break e}break;case 2:i.mode=V;break;case 3:e.msg=\"invalid block type\",i.mode=ue}h>>>=2,c-=2;break;case W:for(h>>>=7&c,c-=7&c;32>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if((65535&h)!==(h>>>16^65535)){e.msg=\"invalid stored block lengths\",i.mode=ue;break}if(i.length=65535&h,h=0,c=0,i.mode=J,t===Z)break e;case J:i.mode=Q;case Q:if(m=i.length){if(m>f&&(m=f),m>l&&(m=l),0===m)break e;k.arraySet(r,a,o,m,s),f-=m,o+=m,l-=m,s+=m,i.length-=m;break}i.mode=G;break;case V:for(;14>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(i.nlen=(31&h)+257,h>>>=5,c-=5,i.ndist=(31&h)+1,h>>>=5,c-=5,i.ncode=(15&h)+4,h>>>=4,c-=4,i.nlen>286||i.ndist>30){e.msg=\"too many length or distance symbols\",i.mode=ue;break}i.have=0,i.mode=$;case $:for(;i.have<i.ncode;){for(;3>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}i.lens[Ae[i.have++]]=7&h,h>>>=3,c-=3}for(;i.have<19;)i.lens[Ae[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Se={bits:i.lenbits},ye=p(x,i.lens,0,19,i.lencode,0,i.work,Se),i.lenbits=Se.bits,ye){e.msg=\"invalid code lengths set\",i.mode=ue;break}i.have=0,i.mode=ee;case ee:for(;i.have<i.nlen+i.ndist;){for(;Be=i.lencode[h&(1<<i.lenbits)-1],me=Be>>>24,ke=Be>>>16&255,_e=65535&Be,!(c>=me);){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(16>_e)h>>>=me,c-=me,i.lens[i.have++]=_e;else{if(16===_e){for(Ee=me+2;Ee>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(h>>>=me,c-=me,0===i.have){e.msg=\"invalid bit length repeat\",i.mode=ue;break}xe=i.lens[i.have-1],m=3+(3&h),h>>>=2,c-=2}else if(17===_e){for(Ee=me+3;Ee>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}h>>>=me,c-=me,xe=0,m=3+(7&h),h>>>=3,c-=3}else{for(Ee=me+7;Ee>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}h>>>=me,c-=me,xe=0,m=11+(127&h),h>>>=7,c-=7}if(i.have+m>i.nlen+i.ndist){e.msg=\"invalid bit length repeat\",i.mode=ue;break}for(;m--;)i.lens[i.have++]=xe}}if(i.mode===ue)break;if(0===i.lens[256]){e.msg=\"invalid code -- missing end-of-block\",i.mode=ue;break}if(i.lenbits=9,Se={bits:i.lenbits},ye=p(y,i.lens,0,i.nlen,i.lencode,0,i.work,Se),i.lenbits=Se.bits,ye){e.msg=\"invalid literal/lengths set\",i.mode=ue;break}if(i.distbits=6,i.distcode=i.distdyn,Se={bits:i.distbits},ye=p(S,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Se),i.distbits=Se.bits,ye){e.msg=\"invalid distances set\",i.mode=ue;break}if(i.mode=te,t===Z)break e;case te:i.mode=ie;case ie:if(f>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=f,i.hold=h,i.bits=c,v(e,w),s=e.next_out,r=e.output,l=e.avail_out,o=e.next_in,a=e.input,f=e.avail_in,h=i.hold,c=i.bits,i.mode===G&&(i.back=-1);break}for(i.back=0;Be=i.lencode[h&(1<<i.lenbits)-1],me=Be>>>24,ke=Be>>>16&255,_e=65535&Be,!(c>=me);){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(ke&&0===(240&ke)){for(ge=me,ve=ke,pe=_e;Be=i.lencode[pe+((h&(1<<ge+ve)-1)>>ge)],me=Be>>>24,ke=Be>>>16&255,_e=65535&Be,!(c>=ge+me);){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}h>>>=ge,c-=ge,i.back+=ge}if(h>>>=me,c-=me,i.back+=me,i.length=_e,0===ke){i.mode=se;break}if(32&ke){i.back=-1,i.mode=G;break}if(64&ke){e.msg=\"invalid literal/length code\",i.mode=ue;break}i.extra=15&ke,i.mode=ne;case ne:if(i.extra){for(Ee=i.extra;Ee>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ae;case ae:for(;Be=i.distcode[h&(1<<i.distbits)-1],me=Be>>>24,ke=Be>>>16&255,_e=65535&Be,!(c>=me);){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(0===(240&ke)){for(ge=me,ve=ke,pe=_e;Be=i.distcode[pe+((h&(1<<ge+ve)-1)>>ge)],me=Be>>>24,ke=Be>>>16&255,_e=65535&Be,!(c>=ge+me);){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}h>>>=ge,c-=ge,i.back+=ge}if(h>>>=me,c-=me,i.back+=me,64&ke){e.msg=\"invalid distance code\",i.mode=ue;break}i.offset=_e,i.extra=15&ke,i.mode=re;case re:if(i.extra){for(Ee=i.extra;Ee>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg=\"invalid distance too far back\",i.mode=ue;break}i.mode=oe;case oe:if(0===l)break e;if(m=w-l,i.offset>m){if(m=i.offset-m,m>i.whave&&i.sane){e.msg=\"invalid distance too far back\",i.mode=ue;break}m>i.wnext?(m-=i.wnext,be=i.wsize-m):be=i.wnext-m,m>i.length&&(m=i.length),we=i.window}else we=r,be=s-i.offset,m=i.length;m>l&&(m=l),l-=m,i.length-=m;do r[s++]=we[be++];while(--m);0===i.length&&(i.mode=ie);break;case se:if(0===l)break e;r[s++]=i.length,l--,i.mode=ie;break;case fe:if(i.wrap){for(;32>c;){if(0===f)break e;f--,h|=a[o++]<<c,c+=8}if(w-=l,e.total_out+=w,i.total+=w,w&&(e.adler=i.check=i.flags?g(i.check,r,w,s-w):_(i.check,r,w,s-w)),w=l,(i.flags?h:n(h))!==i.check){e.msg=\"incorrect data check\",i.mode=ue;break}h=0,c=0}i.mode=le;case le:if(i.wrap&&i.flags){for(;32>c;){if(0===f)break e;f--,h+=a[o++]<<c,c+=8}if(h!==(4294967295&i.total)){e.msg=\"incorrect length check\",i.mode=ue;break}h=0,c=0}i.mode=de;case de:ye=z;break e;case ue:ye=C;break e;case he:return O;case ce:default:return R}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=f,i.hold=h,i.bits=c,(i.wsize||w!==e.avail_out&&i.mode<ue&&(i.mode<fe||t!==E))&&u(e,e.output,e.next_out,w-e.avail_out)?(i.mode=he,O):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,i.total+=w,i.wrap&&w&&(e.adler=i.check=i.flags?g(i.check,r,w,e.next_out-w):_(i.check,r,w,e.next_out-w)),e.data_type=i.bits+(i.last?64:0)+(i.mode===G?128:0)+(i.mode===te||i.mode===J?256:0),(0===b&&0===w||t===E)&&ye===A&&(ye=I),ye)}function c(e){if(!e||!e.state)return R;var t=e.state;return t.window&&(t.window=null),e.state=null,A}function b(e,t){var i;return e&&e.state?(i=e.state,0===(2&i.wrap)?R:(i.head=t,t.done=!1,A)):R}var w,m,k=e(\"../utils/common\"),_=e(\"./adler32\"),g=e(\"./crc32\"),v=e(\"./inffast\"),p=e(\"./inftrees\"),x=0,y=1,S=2,E=4,B=5,Z=6,A=0,z=1,N=2,R=-2,C=-3,O=-4,I=-5,T=8,F=1,U=2,D=3,L=4,H=5,j=6,M=7,K=8,P=9,Y=10,q=11,G=12,X=13,W=14,J=15,Q=16,V=17,$=18,ee=19,te=20,ie=21,ne=22,ae=23,re=24,oe=25,se=26,fe=27,le=28,de=29,ue=30,he=31,ce=32,be=852,we=592,me=15,ke=me,_e=!0;i.inflateReset=o,i.inflateReset2=s,i.inflateResetKeep=r,i.inflateInit=l,i.inflateInit2=f,i.inflate=h,i.inflateEnd=c,i.inflateGetHeader=b,i.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":1,\"./adler32\":3,\"./crc32\":5,\"./inffast\":7,\"./inftrees\":9}],9:[function(e,t,i){\"use strict\";var n=e(\"../utils/common\"),a=15,r=852,o=592,s=0,f=1,l=2,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,b,w,m,k,_){var g,v,p,x,y,S,E,B,Z,A=_.bits,z=0,N=0,R=0,C=0,O=0,I=0,T=0,F=0,U=0,D=0,L=null,H=0,j=new n.Buf16(a+1),M=new n.Buf16(a+1),K=null,P=0;for(z=0;a>=z;z++)j[z]=0;for(N=0;b>N;N++)j[t[i+N]]++;for(O=A,C=a;C>=1&&0===j[C];C--);if(O>C&&(O=C),0===C)return w[m++]=20971520,w[m++]=20971520,_.bits=1,0;for(R=1;C>R&&0===j[R];R++);for(R>O&&(O=R),F=1,z=1;a>=z;z++)if(F<<=1,F-=j[z],0>F)return-1;if(F>0&&(e===s||1!==C))return-1;for(M[1]=0,z=1;a>z;z++)M[z+1]=M[z]+j[z];for(N=0;b>N;N++)0!==t[i+N]&&(k[M[t[i+N]]++]=N);if(e===s?(L=K=k,S=19):e===f?(L=d,H-=257,K=u,P-=257,S=256):(L=h,K=c,S=-1),D=0,N=0,z=R,y=m,I=O,T=0,p=-1,U=1<<O,x=U-1,e===f&&U>r||e===l&&U>o)return 1;for(var Y=0;;){Y++,E=z-T,k[N]<S?(B=0,Z=k[N]):k[N]>S?(B=K[P+k[N]],Z=L[H+k[N]]):(B=96,Z=0),g=1<<z-T,v=1<<I,R=v;do v-=g,w[y+(D>>T)+v]=E<<24|B<<16|Z|0;while(0!==v);for(g=1<<z-1;D&g;)g>>=1;if(0!==g?(D&=g-1,D+=g):D=0,N++,0===--j[z]){if(z===C)break;z=t[i+k[N]]}if(z>O&&(D&x)!==p){for(0===T&&(T=O),y+=R,I=z-T,F=1<<I;C>I+T&&(F-=j[I+T],!(0>=F));)I++,F<<=1;if(U+=1<<I,e===f&&U>r||e===l&&U>o)return 1;p=D&x,w[p]=O<<24|I<<16|y-m|0}}return 0!==D&&(w[y+D]=z-T<<24|64<<16|0),_.bits=O,0}},{\"../utils/common\":1}],10:[function(e,t,i){\"use strict\";t.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],11:[function(e,t,i){\"use strict\";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}t.exports=n},{}],\"/lib/inflate.js\":[function(e,t,i){\"use strict\";function n(e,t){var i=new c(t);if(i.push(e,!0),i.err)throw i.msg;return i.result}function a(e,t){return t=t||{},t.raw=!0,n(e,t)}var r=e(\"./zlib/inflate.js\"),o=e(\"./utils/common\"),s=e(\"./utils/strings\"),f=e(\"./zlib/constants\"),l=e(\"./zlib/messages\"),d=e(\"./zlib/zstream\"),u=e(\"./zlib/gzheader\"),h=Object.prototype.toString,c=function(e){this.options=o.assign({chunkSize:16384,windowBits:0,to:\"\"},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var i=r.inflateInit2(this.strm,t.windowBits);if(i!==f.Z_OK)throw new Error(l[i]);this.header=new u,r.inflateGetHeader(this.strm,this.header)};c.prototype.push=function(e,t){var i,n,a,l,d,u=this.strm,c=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:t===!0?f.Z_FINISH:f.Z_NO_FLUSH,\"string\"==typeof e?u.input=s.binstring2buf(e):\"[object ArrayBuffer]\"===h.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new o.Buf8(c),u.next_out=0,u.avail_out=c),i=r.inflate(u,f.Z_NO_FLUSH),i!==f.Z_STREAM_END&&i!==f.Z_OK)return this.onEnd(i),this.ended=!0,!1;u.next_out&&(0===u.avail_out||i===f.Z_STREAM_END||0===u.avail_in&&(n===f.Z_FINISH||n===f.Z_SYNC_FLUSH))&&(\"string\"===this.options.to?(a=s.utf8border(u.output,u.next_out),l=u.next_out-a,d=s.buf2string(u.output,a),u.next_out=l,u.avail_out=c-l,l&&o.arraySet(u.output,u.output,a,l,0),this.onData(d)):this.onData(o.shrinkBuf(u.output,u.next_out)))}while(u.avail_in>0&&i!==f.Z_STREAM_END);return i===f.Z_STREAM_END&&(n=f.Z_FINISH),n===f.Z_FINISH?(i=r.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===f.Z_OK):n===f.Z_SYNC_FLUSH?(this.onEnd(f.Z_OK),u.avail_out=0,!0):!0},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===f.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=c,i.inflate=n,i.inflateRaw=a,i.ungzip=n},{\"./utils/common\":1,\"./utils/strings\":2,\"./zlib/constants\":4,\"./zlib/gzheader\":6,\"./zlib/inflate.js\":8,\"./zlib/messages\":10,\"./zlib/zstream\":11}]},{},[])(\"/lib/inflate.js\")});\n",
    null,
    "import buffer = require('../core/buffer');\nimport browserfs = require('../core/browserfs');\nimport kvfs = require('../generic/key_value_filesystem');\nimport api_error = require('../core/api_error');\nimport buffer_core_arraybuffer = require('../core/buffer_core_arraybuffer');\nimport global = require('../core/global');\nvar Buffer = buffer.Buffer,\n  ApiError = api_error.ApiError,\n  ErrorCode = api_error.ErrorCode,\n  /**\n   * Get the indexedDB constructor for the current browser.\n   */\n  indexedDB: IDBFactory = global.indexedDB ||\n                          (<any>global).mozIndexedDB ||\n                          (<any>global).webkitIndexedDB ||\n                          global.msIndexedDB;\n\n/**\n * Converts a DOMException or a DOMError from an IndexedDB event into a\n * standardized BrowserFS API error.\n */\nfunction convertError(e: {name: string}, message: string = e.toString()): api_error.ApiError {\n  switch(e.name) {\n    case \"NotFoundError\":\n      return new ApiError(ErrorCode.ENOENT, message);\n    case \"QuotaExceededError\":\n      return new ApiError(ErrorCode.ENOSPC, message);\n    default:\n      // The rest do not seem to map cleanly to standard error codes.\n      return new ApiError(ErrorCode.EIO, message);\n  }\n}\n\n/**\n * Produces a new onerror handler for IDB. Our errors are always fatal, so we\n * handle them generically: Call the user-supplied callback with a translated\n * version of the error, and let the error bubble up.\n */\nfunction onErrorHandler(cb: (e: api_error.ApiError) => void,\n  code: api_error.ErrorCode = ErrorCode.EIO, message: string = null): (e?: any) => void {\n  return function (e?: any): void {\n    // Prevent the error from canceling the transaction.\n    e.preventDefault();\n    cb(new ApiError(code, message));\n  };\n}\n\n/**\n * Converts a NodeBuffer into an ArrayBuffer.\n */\nfunction buffer2arraybuffer(buffer: NodeBuffer): ArrayBuffer {\n  // XXX: Typing hack.\n  var backing_mem: buffer_core_arraybuffer.BufferCoreArrayBuffer = <buffer_core_arraybuffer.BufferCoreArrayBuffer><any> (<buffer.BFSBuffer><any>buffer).getBufferCore();\n  if (!(backing_mem instanceof buffer_core_arraybuffer.BufferCoreArrayBuffer)) {\n    // Copy into an ArrayBuffer-backed Buffer.\n    buffer = new Buffer(this._buffer.length);\n    this._buffer.copy(buffer);\n    backing_mem = <buffer_core_arraybuffer.BufferCoreArrayBuffer><any> (<buffer.BFSBuffer><any>buffer).getBufferCore();\n  }\n  // Reach into the BC, grab the DV.\n  var dv = backing_mem.getDataView();\n  return dv.buffer;\n}\n\nexport class IndexedDBROTransaction implements kvfs.AsyncKeyValueROTransaction {\n  constructor(public tx: IDBTransaction, public store: IDBObjectStore) { }\n\n  get(key: string, cb: (e: api_error.ApiError, data?: NodeBuffer) => void): void {\n    try {\n      var r: IDBRequest = this.store.get(key);\n      r.onerror = onErrorHandler(cb);\n      r.onsuccess = (event) => {\n        // IDB returns the value 'undefined' when you try to get keys that\n        // don't exist. The caller expects this behavior.\n        var result: any = (<any>event.target).result;\n        if (result === undefined) {\n          cb(null, result);\n        } else {\n          // IDB data is stored as an ArrayBuffer\n          cb(null, new Buffer(result));\n        }\n      };\n    } catch (e) {\n      cb(convertError(e));\n    }\n  }\n}\n\nexport class IndexedDBRWTransaction extends IndexedDBROTransaction implements kvfs.AsyncKeyValueRWTransaction, kvfs.AsyncKeyValueROTransaction {\n  constructor(tx: IDBTransaction, store: IDBObjectStore) {\n    super(tx, store);\n  }\n\n  public put(key: string, data: NodeBuffer, overwrite: boolean, cb: (e: api_error.ApiError, committed?: boolean) => void): void {\n    try {\n      var arraybuffer = buffer2arraybuffer(data),\n        r: IDBRequest;\n      if (overwrite) {\n        r = this.store.put(arraybuffer, key);\n      } else {\n        // 'add' will never overwrite an existing key.\n        r = this.store.add(arraybuffer, key);\n      }\n      // XXX: NEED TO RETURN FALSE WHEN ADD HAS A KEY CONFLICT. NO ERROR.\n      r.onerror = onErrorHandler(cb);\n      r.onsuccess = (event) => {\n        cb(null, true);\n      };\n    } catch (e) {\n      cb(convertError(e));\n    }\n  }\n\n  public delete(key: string, cb: (e?: api_error.ApiError) => void): void {\n    try {\n      var r: IDBRequest = this.store.delete(key);\n      r.onerror = onErrorHandler(cb);\n      r.onsuccess = (event) => {\n        cb();\n      };\n    } catch (e) {\n      cb(convertError(e));\n    }\n  }\n\n  public commit(cb: (e?: api_error.ApiError) => void): void {\n    // Return to the event loop to commit the transaction.\n    setTimeout(cb, 0);\n  }\n\n  public abort(cb: (e?: api_error.ApiError) => void): void {\n    var _e: api_error.ApiError;\n    try {\n      this.tx.abort();\n    } catch (e) {\n      _e = convertError(e);\n    } finally {\n      cb(_e);\n    }\n  }\n}\n\nexport class IndexedDBStore implements kvfs.AsyncKeyValueStore {\n  private db: IDBDatabase;\n\n  /**\n   * Constructs an IndexedDB file system.\n   * @param cb Called once the database is instantiated and ready for use.\n   *   Passes an error if there was an issue instantiating the database.\n   * @param objectStoreName The name of this file system. You can have\n   *   multiple IndexedDB file systems operating at once, but each must have\n   *   a different name.\n   */\n  constructor(cb: (e: api_error.ApiError, store?: IndexedDBStore) => void, private storeName: string = 'browserfs') {\n    var openReq: IDBOpenDBRequest = indexedDB.open(this.storeName, 1);\n\n    openReq.onupgradeneeded = (event) => {\n      var db: IDBDatabase = (<any>event.target).result;\n      // Huh. This should never happen; we're at version 1. Why does another\n      // database exist?\n      if (db.objectStoreNames.contains(this.storeName)) {\n        db.deleteObjectStore(this.storeName);\n      }\n      db.createObjectStore(this.storeName);\n    };\n\n    openReq.onsuccess = (event) => {\n      this.db = (<any>event.target).result;\n      cb(null, this);\n    };\n\n    openReq.onerror = onErrorHandler(cb, ErrorCode.EACCES);\n  }\n\n  public name(): string {\n    return \"IndexedDB - \" + this.storeName;\n  }\n\n  public clear(cb: (e?: api_error.ApiError) => void): void {\n    try {\n      var tx = this.db.transaction(this.storeName, 'readwrite'),\n        objectStore = tx.objectStore(this.storeName),\n        r: IDBRequest = objectStore.clear();\n      r.onsuccess = (event) => {\n        // Use setTimeout to commit transaction.\n        setTimeout(cb, 0);\n      };\n      r.onerror = onErrorHandler(cb);\n    } catch (e) {\n      cb(convertError(e));\n    }\n  }\n\n  public beginTransaction(type: string = 'readonly'): kvfs.AsyncKeyValueROTransaction {\n    var tx = this.db.transaction(this.storeName, type),\n      objectStore = tx.objectStore(this.storeName);\n    if (type === 'readwrite') {\n      return new IndexedDBRWTransaction(tx, objectStore);\n    } else if (type === 'readonly') {\n      return new IndexedDBROTransaction(tx, objectStore);\n    } else {\n      throw new ApiError(ErrorCode.EINVAL, 'Invalid transaction type.');\n    }\n  }\n}\n\n/**\n * A file system that uses the IndexedDB key value file system.\n */\nexport class IndexedDBFileSystem extends kvfs.AsyncKeyValueFileSystem {\n  constructor(cb: (e: api_error.ApiError, fs?: IndexedDBFileSystem) => void, storeName?: string) {\n    super();\n    new IndexedDBStore((e, store?): void => {\n      if (e) {\n        cb(e);\n      } else {\n        this.init(store, (e?) => {\n          cb(e, this);\n        });\n      }\n    }, storeName);\n  }\n\n  public static isAvailable(): boolean {\n    return typeof indexedDB !== 'undefined';\n  }\n}\n\nbrowserfs.registerFileSystem('IndexedDB', IndexedDBFileSystem);\n",
    "import file_system = require('../core/file_system');\nimport file_index = require('../generic/file_index');\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\nimport file_flag = require('../core/file_flag');\nimport util = require('../core/util');\nimport file = require('../core/file');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport preload_file = require('../generic/preload_file');\nimport browserfs = require('../core/browserfs');\nimport xhr = require('../generic/xhr');\n\nvar Buffer = buffer.Buffer;\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\nvar FileFlag = file_flag.FileFlag;\nvar ActionType = file_flag.ActionType;\n\n/**\n * A simple filesystem backed by XmlHttpRequests.\n */\nexport class XmlHttpRequest extends file_system.BaseFileSystem implements file_system.FileSystem {\n  private _index: file_index.FileIndex;\n  public prefix_url: string;\n  /**\n   * Constructs the file system.\n   * @param [String] listing_url The path to the JSON file index generated by\n   *   tools/XHRIndexer.coffee. This can be relative to the current webpage URL\n   *   or absolutely specified.\n   * @param [String] prefix_url The url prefix to use for all web-server requests.\n   */\n  constructor(listing_url: string, prefix_url: string = '') {\n    super();\n    if (listing_url == null) {\n      listing_url = 'index.json';\n    }\n    // prefix_url must end in a directory separator.\n    if (prefix_url.length > 0 && prefix_url.charAt(prefix_url.length - 1) !== '/') {\n      prefix_url = prefix_url + '/';\n    }\n    this.prefix_url = prefix_url;\n    var listing = this._requestFileSync(listing_url, 'json');\n    if (listing == null) {\n      throw new Error(\"Unable to find listing at URL: \" + listing_url);\n    }\n    this._index = file_index.FileIndex.from_listing(listing);\n  }\n\n  public empty(): void {\n    this._index.fileIterator(function(file: node_fs_stats.Stats) {\n      file.file_data = null;\n    });\n  }\n\n  private getXhrPath(filePath: string): string {\n    if (filePath.charAt(0) === '/') {\n      filePath = filePath.slice(1);\n    }\n    return this.prefix_url + filePath;\n  }\n\n  /**\n   * Only requests the HEAD content, for the file size.\n   */\n  public _requestFileSizeAsync(path: string, cb: (err: api_error.ApiError, size?: number) => void): void {\n    xhr.getFileSizeAsync(this.getXhrPath(path), cb);\n  }\n  public _requestFileSizeSync(path: string): number {\n    return xhr.getFileSizeSync(this.getXhrPath(path));\n  }\n\n  /**\n   * Asynchronously download the given file.\n   */\n  private _requestFileAsync(p: string, type: 'buffer', cb: (err: api_error.ApiError, data?: NodeBuffer) => void): void;\n  private _requestFileAsync(p: string, type: 'json', cb: (err: api_error.ApiError, data?: any) => void): void;\n  private _requestFileAsync(p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void;\n  private _requestFileAsync(p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void {\n    xhr.asyncDownloadFile(this.getXhrPath(p), type, cb);\n  }\n\n  /**\n   * Synchronously download the given file.\n   */\n  private _requestFileSync(p: string, type: 'buffer'): NodeBuffer;\n  private _requestFileSync(p: string, type: 'json'): any;\n  private _requestFileSync(p: string, type: string): any;\n  private _requestFileSync(p: string, type: string): any {\n    return xhr.syncDownloadFile(this.getXhrPath(p), type);\n  }\n\n  public getName(): string {\n    return 'XmlHttpRequest';\n  }\n\n  public static isAvailable(): boolean {\n    // @todo Older browsers use a different name for XHR, iirc.\n    return typeof XMLHttpRequest !== \"undefined\" && XMLHttpRequest !== null;\n  }\n\n  public diskSpace(path: string, cb: (total: number, free: number) => void): void {\n    // Read-only file system. We could calculate the total space, but that's not\n    // important right now.\n    cb(0, 0);\n  }\n\n  public isReadOnly(): boolean {\n    return true;\n  }\n\n  public supportsLinks(): boolean {\n    return false;\n  }\n\n  public supportsProps(): boolean {\n    return false;\n  }\n\n  public supportsSynch(): boolean {\n    return true;\n  }\n\n  /**\n   * Special XHR function: Preload the given file into the index.\n   * @param [String] path\n   * @param [BrowserFS.Buffer] buffer\n   */\n  public preloadFile(path: string, buffer: NodeBuffer): void {\n    var inode = <file_index.FileInode<node_fs_stats.Stats>> this._index.getInode(path);\n    if (inode === null) {\n      throw ApiError.ENOENT(path);\n    }\n    var stats = inode.getData();\n    stats.size = buffer.length;\n    stats.file_data = buffer;\n  }\n\n  public stat(path: string, isLstat: boolean, cb: (e: api_error.ApiError, stat?: node_fs_stats.Stats) => void): void {\n    var inode = this._index.getInode(path);\n    if (inode === null) {\n      return cb(ApiError.ENOENT(path));\n    }\n    var stats: node_fs_stats.Stats;\n    if (inode.isFile()) {\n      stats = (<file_index.FileInode<node_fs_stats.Stats>> inode).getData();\n      // At this point, a non-opened file will still have default stats from the listing.\n      if (stats.size < 0) {\n        this._requestFileSizeAsync(path, function(e: api_error.ApiError, size?: number) {\n          if (e) {\n            return cb(e);\n          }\n          stats.size = size;\n          cb(null, stats.clone());\n        });\n      } else {\n        cb(null, stats.clone());\n      }\n    } else {\n      stats = (<file_index.DirInode> inode).getStats();\n      cb(null, stats);\n    }\n  }\n\n  public statSync(path: string, isLstat: boolean): node_fs_stats.Stats {\n    var inode = this._index.getInode(path);\n    if (inode === null) {\n      throw ApiError.ENOENT(path);\n    }\n    var stats: node_fs_stats.Stats;\n    if (inode.isFile()) {\n      stats = (<file_index.FileInode<node_fs_stats.Stats>> inode).getData();\n      // At this point, a non-opened file will still have default stats from the listing.\n      if (stats.size < 0) {\n        stats.size = this._requestFileSizeSync(path);\n      }\n    } else {\n      stats = (<file_index.DirInode> inode).getStats();\n    }\n    return stats;\n  }\n\n  public open(path: string, flags: file_flag.FileFlag, mode: number, cb: (e: api_error.ApiError, file?: file.File) => void): void {\n    // INVARIANT: You can't write to files on this file system.\n    if (flags.isWriteable()) {\n      return cb(new ApiError(ErrorCode.EPERM, path));\n    }\n    var _this = this;\n    // Check if the path exists, and is a file.\n    var inode = <file_index.FileInode<node_fs_stats.Stats>> this._index.getInode(path);\n    if (inode === null) {\n      return cb(ApiError.ENOENT(path));\n    }\n    if (inode.isDir()) {\n      return cb(ApiError.EISDIR(path));\n    }\n    var stats = inode.getData();\n    switch (flags.pathExistsAction()) {\n      case ActionType.THROW_EXCEPTION:\n      case ActionType.TRUNCATE_FILE:\n        return cb(ApiError.EEXIST(path));\n      case ActionType.NOP:\n        // Use existing file contents.\n        // XXX: Uh, this maintains the previously-used flag.\n        if (stats.file_data != null) {\n          return cb(null, new preload_file.NoSyncFile(_this, path, flags, stats.clone(), stats.file_data));\n        }\n        // @todo be lazier about actually requesting the file\n        this._requestFileAsync(path, 'buffer', function(err: api_error.ApiError, buffer?: NodeBuffer) {\n          if (err) {\n            return cb(err);\n          }\n          // we don't initially have file sizes\n          stats.size = buffer.length;\n          stats.file_data = buffer;\n          return cb(null, new preload_file.NoSyncFile(_this, path, flags, stats.clone(), buffer));\n        });\n        break;\n      default:\n        return cb(new ApiError(ErrorCode.EINVAL, 'Invalid FileMode object.'));\n    }\n  }\n\n  public openSync(path: string, flags: file_flag.FileFlag, mode: number): file.File {\n    // INVARIANT: You can't write to files on this file system.\n    if (flags.isWriteable()) {\n      throw new ApiError(ErrorCode.EPERM, path);\n    }\n    // Check if the path exists, and is a file.\n    var inode = <file_index.FileInode<node_fs_stats.Stats>> this._index.getInode(path);\n    if (inode === null) {\n      throw ApiError.ENOENT(path);\n    }\n    if (inode.isDir()) {\n      throw ApiError.EISDIR(path);\n    }\n    var stats = inode.getData();\n    switch (flags.pathExistsAction()) {\n      case ActionType.THROW_EXCEPTION:\n      case ActionType.TRUNCATE_FILE:\n        throw ApiError.EEXIST(path);\n      case ActionType.NOP:\n        // Use existing file contents.\n        // XXX: Uh, this maintains the previously-used flag.\n        if (stats.file_data != null) {\n          return new preload_file.NoSyncFile(this, path, flags, stats.clone(), stats.file_data);\n        }\n        // @todo be lazier about actually requesting the file\n        var buffer = this._requestFileSync(path, 'buffer');\n        // we don't initially have file sizes\n        stats.size = buffer.length;\n        stats.file_data = buffer;\n        return new preload_file.NoSyncFile(this, path, flags, stats.clone(), buffer);\n      default:\n        throw new ApiError(ErrorCode.EINVAL, 'Invalid FileMode object.');\n    }\n  }\n\n  public readdir(path: string, cb: (e: api_error.ApiError, listing?: string[]) => void): void {\n    try {\n      cb(null, this.readdirSync(path));\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public readdirSync(path: string): string[] {\n    // Check if it exists.\n    var inode = this._index.getInode(path);\n    if (inode === null) {\n      throw ApiError.ENOENT(path);\n    } else if (inode.isFile()) {\n      throw ApiError.ENOTDIR(path);\n    }\n    return (<file_index.DirInode> inode).getListing();\n  }\n\n  /**\n   * We have the entire file as a buffer; optimize readFile.\n   */\n  public readFile(fname: string, encoding: string, flag: file_flag.FileFlag, cb: (err: api_error.ApiError, data?: any) => void): void {\n    // Wrap cb in file closing code.\n    var oldCb = cb;\n    // Get file.\n    this.open(fname, flag, 0x1a4, function(err: api_error.ApiError, fd?: file.File) {\n      if (err) {\n        return cb(err);\n      }\n      cb = function(err: api_error.ApiError, arg?: buffer.Buffer) {\n        fd.close(function(err2: any) {\n          if (err == null) {\n            err = err2;\n          }\n          return oldCb(err, arg);\n        });\n      };\n      var fdCast = <preload_file.NoSyncFile> fd;\n      var fdBuff = <buffer.Buffer> fdCast.getBuffer();\n      if (encoding === null) {\n        if (fdBuff.length > 0) {\n          return cb(err, fdBuff.sliceCopy());\n        } else {\n          return cb(err, new buffer.Buffer(0));\n        }\n      }\n      try {\n        cb(null, fdBuff.toString(encoding));\n      } catch (e) {\n        cb(e);\n      }\n    });\n  }\n\n  /**\n   * Specially-optimized readfile.\n   */\n  public readFileSync(fname: string, encoding: string, flag: file_flag.FileFlag): any {\n    // Get file.\n    var fd = this.openSync(fname, flag, 0x1a4);\n    try {\n      var fdCast = <preload_file.NoSyncFile> fd;\n      var fdBuff = <buffer.Buffer> fdCast.getBuffer();\n      if (encoding === null) {\n        if (fdBuff.length > 0) {\n          return fdBuff.sliceCopy();\n        } else {\n          return new buffer.Buffer(0);\n        }\n      }\n      return fdBuff.toString(encoding);\n    } finally {\n      fd.closeSync();\n    }\n  }\n}\n\nbrowserfs.registerFileSystem('XmlHttpRequest', XmlHttpRequest);\n",
    "import file_system = require('../core/file_system');\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\nimport file_flag = require('../core/file_flag');\nimport util = require('../core/util');\nimport file = require('../core/file');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport preload_file = require('../generic/preload_file');\nimport browserfs = require('../core/browserfs');\nimport ApiError = api_error.ApiError;\nimport ErrorCode = api_error.ErrorCode;\n\ninterface IAsyncOperation {\n\tapiMethod: string;\n\targuments: any[];\n}\n\n/**\n * We define our own file to interpose on syncSync() for mirroring purposes.\n */\nclass MirrorFile extends preload_file.PreloadFile implements file.File {\n  constructor(fs: AsyncMirrorFS, path: string, flag: file_flag.FileFlag, stat: node_fs_stats.Stats, data: Buffer) {\n    super(fs, path, flag, stat, data);\n  }\n\n  public syncSync(): void {\n    if (this.isDirty()) {\n      (<AsyncMirrorFS> this._fs)._syncSync(this);\n      this.resetDirty();\n    }\n  }\n  \n  public closeSync(): void {\n    this.syncSync();\n  }\n}\n\n/**\n * AsyncMirrorFS mirrors a synchronous filesystem into an asynchronous filesystem\n * by:\n * * Performing operations over the in-memory copy, while asynchronously pipelining them\n *   to the backing store.\n * * During application loading, the contents of the async file system can be reloaded into\n *   the synchronous store, if desired.\n * The two stores will be kept in sync. The most common use-case is to pair a synchronous\n * in-memory filesystem with an asynchronous backing store.\n */\nclass AsyncMirrorFS extends file_system.SynchronousFileSystem implements file_system.FileSystem {\n  /**\n   * Queue of pending asynchronous operations.\n   */\n  private _queue: IAsyncOperation[] = [];\n  private _queueRunning: boolean = false;\n  private _sync: file_system.FileSystem;\n  private _async: file_system.FileSystem;\n  private _isInitialized: boolean = false;\n  constructor(sync: file_system.FileSystem, async: file_system.FileSystem) {\n    super();\n    this._sync = sync;\n    this._async = async;\n    if (!sync.supportsSynch()) {\n      throw new Error(\"Expected synchronous storage.\");\n    }\n    if (async.supportsSynch()) {\n      throw new Error(\"Expected asynchronous storage.\");\n    }\n  }\n\n  public getName(): string {\n\t \treturn \"AsyncMirror\";\n  }\n  \n  public static isAvailable(): boolean {\n    return true;\n  }\n  \n  public _syncSync(fd: preload_file.PreloadFile) {\n    this._sync.writeFileSync(fd.getPath(), fd.getBuffer(), null, file_flag.FileFlag.getFileFlag('w'), fd.getStats().mode);\n    this.enqueueOp({\n      apiMethod: 'writeFile',\n      arguments: [fd.getPath(), fd.getBuffer(), null, fd.getFlag(), fd.getStats().mode]\n    });\n  }\n  \n  /**\n   * Called once to load up files from async storage into sync storage.\n   */\n  public initialize(finalCb: (err?: ApiError) => void): void {\n    if (!this._isInitialized) {\n      var copyDirectory = (p: string, mode: number, cb: (err?: ApiError) => void) => {\n        if (p !== '/') {\n          this._sync.mkdirSync(p, mode);\n        }\n        this._async.readdir(p, (err, files) => {\n          if (err) {\n            cb(err);\n          } else {\n            var i = 0;\n            function copyNextFile(err?: ApiError) {\n              if (err) {\n                cb(err);\n              } else if (i < files.length) {\n                copyItem(`${p}/${files[i]}`, copyNextFile);\n                i++;\n              } else {\n                cb();\n              }\n            }\n            copyNextFile();\n          }\n        });\n      }, copyFile = (p: string, mode: number, cb: (err?: ApiError) => void) => {\n        this._async.readFile(p, null, file_flag.FileFlag.getFileFlag('r'), (err, data) => {\n          if (err) {\n            cb(err);\n          } else {\n            try {\n              this._sync.writeFileSync(p, data, null, file_flag.FileFlag.getFileFlag('w'), mode);\n            } catch (e) {\n              err = e;\n            } finally {\n              cb(err);\n            }\n          }\n        });\n      }, copyItem = (p: string, cb: (err?: ApiError) => void) => {\n        this._async.stat(p, false, (err, stats) => {\n          if (err) {\n            cb(err);\n          } else if (stats.isDirectory()) {\n            copyDirectory(p, stats.mode, cb);\n          } else {\n            copyFile(p, stats.mode, cb);\n          }\n        });\n      };\n      copyDirectory('/', 0, (err?: ApiError) => {\n        if (err) {\n          finalCb(err);\n        } else {\n          this._isInitialized = true;\n          finalCb();\n        }\n      });\n    } else {\n      finalCb();\n    }\n  }\n\n  public isReadOnly(): boolean { return false; }\n  public supportsSynch(): boolean { return true; }\n  public supportsLinks(): boolean { return false; }\n  public supportsProps(): boolean { return this._sync.supportsProps() && this._async.supportsProps(); }\n  \n  private enqueueOp(op: IAsyncOperation) {\n    this._queue.push(op);\n    if (!this._queueRunning) {\n      this._queueRunning = true;\n      var doNextOp = (err?: ApiError) => {\n        if (err) {\n          console.error(`WARNING: File system has desynchronized. Received following error: ${err}\\n$`);\n        }\n        if (this._queue.length > 0) {\n          var op = this._queue.shift(),\n            args = op.arguments;\n          args.push(doNextOp);\n          (<Function> (<any> this._async)[op.apiMethod]).apply(this._async, args);\n        } else {\n          this._queueRunning = false;\n        }\n      };\n      doNextOp();\n    }\n  }\n\n  public renameSync(oldPath: string, newPath: string): void {\n    this._sync.renameSync(oldPath, newPath);\n    this.enqueueOp({\n      apiMethod: 'rename',\n      arguments: [oldPath, newPath]\n    });\n  }\n  public statSync(p: string, isLstat: boolean): node_fs_stats.Stats {\n    return this._sync.statSync(p, isLstat);\n  }\n  public openSync(p: string, flag: file_flag.FileFlag, mode: number): file.File {\n    // Sanity check: Is this open/close permitted?\n    var fd = this._sync.openSync(p, flag, mode);\n    fd.closeSync();\n    return new MirrorFile(this, p, flag, this._sync.statSync(p, false), this._sync.readFileSync(p, null, file_flag.FileFlag.getFileFlag('r')));\n  }\n  public unlinkSync(p: string): void {\n    this._sync.unlinkSync(p);\n    this.enqueueOp({\n      apiMethod: 'unlink',\n      arguments: [p]\n    });\n  }\n  public rmdirSync(p: string): void {\n    this._sync.rmdirSync(p);\n    this.enqueueOp({\n      apiMethod: 'rmdir',\n      arguments: [p]\n    });\n  }\n  public mkdirSync(p: string, mode: number): void {\n    this._sync.mkdirSync(p, mode);\n    this.enqueueOp({\n      apiMethod: 'mkdir',\n      arguments: [p, mode]\n    });\n  }\n  public readdirSync(p: string): string[] {\n    return this._sync.readdirSync(p);\n  }\n  public existsSync(p: string): boolean {\n    return this._sync.existsSync(p);\n  }\n  public chmodSync(p: string, isLchmod: boolean, mode: number): void {\n    this._sync.chmodSync(p, isLchmod, mode);\n    this.enqueueOp({\n      apiMethod: 'chmod',\n      arguments: [p, isLchmod, mode]\n    });\n  }\n  public chownSync(p: string, isLchown: boolean, uid: number, gid: number): void {\n    this._sync.chownSync(p, isLchown, uid, gid);\n    this.enqueueOp({\n      apiMethod: 'chown',\n      arguments: [p, isLchown, uid, gid]\n    });\n  }\n  public utimesSync(p: string, atime: Date, mtime: Date): void {\n    this._sync.utimesSync(p, atime, mtime);\n    this.enqueueOp({\n      apiMethod: 'utimes',\n      arguments: [p, atime, mtime]\n    });\n  }\n}\n\nbrowserfs.registerFileSystem('AsyncMirrorFS', AsyncMirrorFS);\n\nexport = AsyncMirrorFS;\n",
    "/// <reference path=\"../../bower_components/DefinitelyTyped/async/async.d.ts\" />\n/// <reference path=\"../../bower_components/DefinitelyTyped/dropboxjs/dropboxjs.d.ts\" />\nimport preload_file = require('../generic/preload_file');\nimport file_system = require('../core/file_system');\nimport file_flag = require('../core/file_flag');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\nimport file = require('../core/file');\nimport path = require('../core/node_path');\nimport browserfs = require('../core/browserfs');\nimport buffer_core_arraybuffer = require('../core/buffer_core_arraybuffer');\nimport async = require('async');\n\nimport Buffer = buffer.Buffer;\nimport Stats = node_fs_stats.Stats;\nimport ApiError = api_error.ApiError;\nimport ErrorCode = api_error.ErrorCode;\nimport FileType = node_fs_stats.FileType;\n\nexport class DropboxFile extends preload_file.PreloadFile implements file.File {\n  constructor(_fs: file_system.FileSystem, _path: string, _flag: file_flag.FileFlag, _stat: Stats, contents?: NodeBuffer) {\n    super(_fs, _path, _flag, _stat, contents)\n  }\n\n  public sync(cb: (e?: api_error.ApiError) => void): void {\n    if (this.isDirty()) {\n      var buffer = this.getBuffer();\n      // XXX: Typing hack.\n      var backing_mem: buffer_core_arraybuffer.BufferCoreArrayBuffer = <buffer_core_arraybuffer.BufferCoreArrayBuffer><any> (<buffer.BFSBuffer><any>buffer).getBufferCore();\n      if (!(backing_mem instanceof buffer_core_arraybuffer.BufferCoreArrayBuffer)) {\n        // Copy into an ArrayBuffer-backed Buffer.\n        buffer = new Buffer(buffer.length);\n        this.getBuffer().copy(buffer);\n        backing_mem = <buffer_core_arraybuffer.BufferCoreArrayBuffer><any> (<buffer.BFSBuffer><any>buffer).getBufferCore();\n      }\n      // Reach into the BC, grab the DV.\n      var dv = backing_mem.getDataView();\n      // Create an appropriate view on the array buffer.\n      var abv = new DataView(dv.buffer, dv.byteOffset + (<buffer.BFSBuffer><any>buffer).getOffset(), buffer.length);\n      (<DropboxFileSystem> this._fs)._writeFileStrict(this.getPath(), abv, (e?: api_error.ApiError) => {\n        if (!e) {\n          this.resetDirty();\n        }\n        cb(e);\n      });\n    } else {\n      cb();\n    }\n  }\n\n  public close(cb: (e?: api_error.ApiError) => void): void {\n    this.sync(cb);\n  }\n}\n\nexport class DropboxFileSystem extends file_system.BaseFileSystem implements file_system.FileSystem {\n  // The Dropbox client.\n  private client: Dropbox.Client;\n  /**\n   * Arguments: an authenticated Dropbox.js client\n   */\n  constructor(client: Dropbox.Client) {\n    super();\n    this.client = client;\n  }\n\n  public getName(): string {\n    return 'Dropbox';\n  }\n\n  public static isAvailable(): boolean {\n    // Checks if the Dropbox library is loaded.\n    // @todo Check if the Dropbox library *can be used* in the current browser.\n    return typeof Dropbox !== 'undefined';\n  }\n\n  public isReadOnly(): boolean {\n    return false;\n  }\n\n  // Dropbox doesn't support symlinks, properties, or synchronous calls\n\n  public supportsSymlinks(): boolean {\n    return false;\n  }\n\n  public supportsProps(): boolean {\n    return false;\n  }\n\n  public supportsSynch(): boolean {\n    return false;\n  }\n\n  public empty(main_cb: (e?: api_error.ApiError) => void): void {\n    this.client.readdir('/', (error, paths, dir, files) => {\n      if (error) {\n        main_cb(this.convert(error));\n      } else {\n        var deleteFile = (file: Dropbox.File.Stat, cb: (err?: any) => void) => {\n          this.client.remove(file.path, (err, stat) => {\n            cb(err ? this.convert(err) : err);\n          });\n        };\n        var finished = (err: any) => {\n          if (err) {\n            main_cb(this.convert(err));\n          } else {\n            main_cb();\n          }\n        };\n        async.each(files, deleteFile, finished);\n      }\n    });\n  }\n\n public rename(oldPath: string, newPath: string, cb: (e?: api_error.ApiError) => void): void {\n    this.client.move(oldPath, newPath, (error, stat) => {\n      if (error) {\n        // XXX: Assume 404 for now.\n        var missingPath = (<any> error.response).error.indexOf(oldPath) > -1 ? oldPath : newPath;\n        cb(new ApiError(ErrorCode.ENOENT, missingPath + \" doesn't exist\"));\n      } else {\n        cb();\n      }\n    });\n  }\n\n  public stat(path: string, isLstat: boolean, cb: (err: api_error.ApiError, stat?: Stats) => void): void {\n    // Ignore lstat case -- Dropbox doesn't support symlinks\n    // Stat the file\n    this.client.stat(path, (error, stat) => {\n      // Dropbox keeps track of deleted files, so if a file has existed in the\n      // past but doesn't any longer, you wont get an error\n      if (error || ((stat != null) && stat.isRemoved)) {\n        cb(new ApiError(ErrorCode.ENOENT, path + \" doesn't exist\"));\n      } else {\n        var stats = new Stats(this._statType(stat), stat.size);\n        return cb(null, stats);\n      }\n    });\n  }\n\n  public open(path: string, flags: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError, fd?: file.File) => any): void {\n    // Try and get the file's contents\n    this.client.readFile(path, {\n      arrayBuffer: true\n    }, (error, content, db_stat, range) => {\n      if (error) {\n        // If the file's being opened for reading and doesn't exist, return an\n        // error\n        if (flags.isReadable()) {\n          cb(new ApiError(ErrorCode.ENOENT, path + \" doesn't exist\"));\n        } else {\n          switch (error.status) {\n            case 0:\n              return console.error('No connection');\n            // If it's being opened for writing or appending, create it so that\n            // it can be written to\n            case 404:\n              var ab = new ArrayBuffer(0);\n              return this._writeFileStrict(path, ab, (error2: api_error.ApiError, stat?: Dropbox.File.Stat) => {\n                if (error2) {\n                  cb(error2);\n                } else {\n                  var file = this._makeFile(path, flags, stat, new Buffer(ab));\n                  cb(null, file);\n                }\n              });\n            default:\n              return console.log(\"Unhandled error: \" + error);\n          }\n        }\n      } else {\n        // No error\n        var buffer: Buffer;\n        // Dropbox.js seems to set `content` to `null` rather than to an empty\n        // buffer when reading an empty file. Not sure why this is.\n        if (content === null) {\n          buffer = new Buffer(0);\n        } else {\n          buffer = new Buffer(content);\n        }\n        var file = this._makeFile(path, flags, db_stat, buffer);\n        return cb(null, file);\n      }\n    });\n  }\n\n  public _writeFileStrict(p: string, data: ArrayBuffer, cb: (e: api_error.ApiError, stat?: Dropbox.File.Stat) => void): void;\n  public _writeFileStrict(p: string, data: ArrayBufferView, cb: (e: api_error.ApiError, stat?: Dropbox.File.Stat) => void): void;\n  public _writeFileStrict(p: string, data: any, cb: (e: api_error.ApiError, stat?: Dropbox.File.Stat) => void): void {\n    var parent = path.dirname(p);\n    this.stat(parent, false, (error: api_error.ApiError, stat?: Stats): void => {\n      if (error) {\n        cb(new ApiError(ErrorCode.ENOENT, \"Can't create \" + p + \" because \" + parent + \" doesn't exist\"));\n      } else {\n        this.client.writeFile(p, data, (error2, stat) => {\n          if (error2) {\n            cb(this.convert(error2));\n          } else {\n            cb(null, stat);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Private\n   * Returns a BrowserFS object representing the type of a Dropbox.js stat object\n   */\n  public _statType(stat: Dropbox.File.Stat): node_fs_stats.FileType {\n    return stat.isFile ? FileType.FILE : FileType.DIRECTORY;\n  }\n\n  /**\n   * Private\n   * Returns a BrowserFS object representing a File, created from the data\n   * returned by calls to the Dropbox API.\n   */\n  public _makeFile(path: string, flag: file_flag.FileFlag, stat: Dropbox.File.Stat, buffer: NodeBuffer): DropboxFile {\n    var type = this._statType(stat);\n    var stats = new Stats(type, stat.size);\n    return new DropboxFile(this, path, flag, stats, buffer);\n  }\n\n  /**\n   * Private\n   * Delete a file or directory from Dropbox\n   * isFile should reflect which call was made to remove the it (`unlink` or\n   * `rmdir`). If this doesn't match what's actually at `path`, an error will be\n   * returned\n   */\n  public _remove(path: string, cb: (e?: api_error.ApiError) => void, isFile: boolean): void {\n    this.client.stat(path, (error, stat) => {\n      if (error) {\n        cb(new ApiError(ErrorCode.ENOENT, path + \" doesn't exist\"));\n      } else {\n        if (stat.isFile && !isFile) {\n          cb(new ApiError(ErrorCode.ENOTDIR, path + \" is a file.\"));\n        } else if (!stat.isFile && isFile) {\n          cb(new ApiError(ErrorCode.EISDIR, path + \" is a directory.\"));\n        } else {\n          this.client.remove(path, (error, stat) => {\n            if (error) {\n              // @todo Make this more specific.\n              cb(new ApiError(ErrorCode.EIO, \"Failed to remove \" + path));\n            } else {\n              cb(null);\n            }\n          });\n        }\n      }\n    });\n  }\n\n  /**\n   * Delete a file\n   */\n  public unlink(path: string, cb: (e?: api_error.ApiError) => void): void {\n    this._remove(path, cb, true);\n  }\n\n  /**\n   * Delete a directory\n   */\n  public rmdir(path: string, cb: (e?: api_error.ApiError) => void): void {\n    this._remove(path, cb, false);\n  }\n\n  /**\n   * Create a directory\n   */\n  public mkdir(p: string, mode: number, cb: (e?: api_error.ApiError) => void): void {\n    // Dropbox.js' client.mkdir() behaves like `mkdir -p`, i.e. it creates a\n    // directory and all its ancestors if they don't exist.\n    // Node's fs.mkdir() behaves like `mkdir`, i.e. it throws an error if an attempt\n    // is made to create a directory without a parent.\n    // To handle this inconsistency, a check for the existence of `path`'s parent\n    // must be performed before it is created, and an error thrown if it does\n    // not exist\n    var parent = path.dirname(p);\n    this.client.stat(parent, (error, stat) => {\n      if (error) {\n        cb(new ApiError(ErrorCode.ENOENT, \"Can't create \" + p + \" because \" + parent + \" doesn't exist\"));\n      } else {\n        this.client.mkdir(p, (error, stat) => {\n          if (error) {\n            cb(new ApiError(ErrorCode.EEXIST, p + \" already exists\"));\n          } else {\n            cb(null);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Get the names of the files in a directory\n   */\n  public readdir(path: string, cb: (err: api_error.ApiError, files?: string[]) => void): void {\n    this.client.readdir(path, (error, files, dir_stat, content_stats) => {\n      if (error) {\n        return cb(this.convert(error));\n      } else {\n        return cb(null, files);\n      }\n    });\n  }\n\n  /**\n   * Converts a Dropbox-JS error into a BFS error.\n   */\n  public convert(err: any, message: string = \"\"): api_error.ApiError {\n    switch(err.status) {\n      case 400:\n        // INVALID_PARAM\n        return new ApiError(ErrorCode.EINVAL, message);\n      case 401:\n        // INVALID_TOKEN (OAuth)\n      case 403:\n        // OAUTH_ERROR\n        return new ApiError(ErrorCode.EIO, message);\n      case 404:\n        // NOT_FOUND\n        return new ApiError(ErrorCode.ENOENT, message);\n      case 405:\n        // INVALID_METHOD\n        return new ApiError(ErrorCode.ENOTSUP, message);\n      // Non-specific errors\n      case 0:\n        // NETWORK_ERROR\n      case 304:\n        // NO_CONTENT\n      case 406:\n        // NOT_ACCEPTABLE (too much content in result)\n      case 409:\n        // CONFLICT (should never happen).\n      default:\n        return new ApiError(ErrorCode.EIO, message);\n    }\n  }\n}\n\nbrowserfs.registerFileSystem('Dropbox', DropboxFileSystem);\n",
    "/// <reference path=\"../../bower_components/DefinitelyTyped/filesystem/filesystem.d.ts\" />\n/// <reference path=\"../../bower_components/DefinitelyTyped/async/async.d.ts\" />\nimport preload_file = require('../generic/preload_file');\nimport file_system = require('../core/file_system');\nimport api_error = require('../core/api_error');\nimport file_flag = require('../core/file_flag');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport buffer = require('../core/buffer');\nimport file = require('../core/file');\nimport browserfs = require('../core/browserfs');\nimport buffer_core_arraybuffer = require('../core/buffer_core_arraybuffer');\nimport path = require('../core/node_path');\nimport global = require('../core/global');\nimport async = require('async');\n\nimport Buffer = buffer.Buffer;\nimport Stats = node_fs_stats.Stats;\nimport FileType = node_fs_stats.FileType;\nimport ApiError = api_error.ApiError;\nimport ErrorCode = api_error.ErrorCode;\nimport ActionType = file_flag.ActionType;\n\nvar _getFS: (type:number, size:number, successCallback: FileSystemCallback, errorCallback?: ErrorCallback) => void = global.webkitRequestFileSystem || global.requestFileSystem || null;\n\nfunction _requestQuota(type: number, size: number, success: (size: number) => void, errorCallback: ErrorCallback) {\n  // We cast navigator and window to '<any>' because everything here is\n  // nonstandard functionality, despite the fact that Chrome has the only\n  // implementation of the HTML5FS and is likely driving the standardization\n  // process. Thus, these objects defined off of navigator and window are not\n  // present in the DefinitelyTyped TypeScript typings for FileSystem.\n  if (typeof (<any> navigator)['webkitPersistentStorage'] !== 'undefined') {\n    switch(type) {\n      case global.PERSISTENT:\n        (<any> navigator).webkitPersistentStorage.requestQuota(size, success, errorCallback);\n        break;\n      case global.TEMPORARY:\n        (<any> navigator).webkitTemporaryStorage.requestQuota(size, success, errorCallback);\n        break\n      default:\n        // TODO: Figure out how to construct a DOMException/DOMError.\n        errorCallback(null);\n        break;\n    }\n  } else {\n    (<any> global).webkitStorageInfo.requestQuota(type, size, success, errorCallback);\n  }\n}\n\nfunction _toArray(list?: any[]): any[] {\n  return Array.prototype.slice.call(list || [], 0);\n}\n\n// A note about getFile and getDirectory options:\n// These methods are called at numerous places in this file, and are passed\n// some combination of these two options:\n//   - create: If true, the entry will be created if it doesn't exist.\n//             If false, an error will be thrown if it doesn't exist.\n//   - exclusive: If true, only create the entry if it doesn't already exist,\n//                and throw an error if it does.\n\nexport class HTML5FSFile extends preload_file.PreloadFile implements file.File {\n  constructor(_fs: HTML5FS, _path: string, _flag: file_flag.FileFlag, _stat: node_fs_stats.Stats, contents?: NodeBuffer) {\n    super(_fs, _path, _flag, _stat, contents);\n  }\n\n  public sync(cb: (e?: api_error.ApiError) => void): void {\n    if (this.isDirty()) {\n      // Don't create the file (it should already have been created by `open`)\n      var opts = {\n        create: false\n      };\n      var _fs = <HTML5FS> this._fs;\n      var success: FileEntryCallback = (entry) => {\n        entry.createWriter((writer) => {\n          // XXX: Typing hack.\n          var buffer = this.getBuffer();\n          var backing_mem: buffer_core_arraybuffer.BufferCoreArrayBuffer = <buffer_core_arraybuffer.BufferCoreArrayBuffer><any> (<buffer.BFSBuffer><any>buffer).getBufferCore();\n          if (!(backing_mem instanceof buffer_core_arraybuffer.BufferCoreArrayBuffer)) {\n            // Copy into an ArrayBuffer-backed Buffer.\n            buffer = new Buffer(buffer.length);\n            this.getBuffer().copy(buffer);\n            backing_mem = <buffer_core_arraybuffer.BufferCoreArrayBuffer><any> (<buffer.BFSBuffer><any>buffer).getBufferCore();\n          }\n          // Reach into the BC, grab the DV.\n          var dv = backing_mem.getDataView();\n          // Create an appropriate view on the array buffer.\n          var abv = new DataView(dv.buffer, dv.byteOffset + (<buffer.BFSBuffer><any>buffer).getOffset(), buffer.length);\n          var blob = new Blob([abv]);\n          var length = blob.size;\n          writer.onwriteend = () => {\n            writer.onwriteend = null;\n            writer.truncate(length);\n            this.resetDirty();\n            cb();\n          };\n          writer.onerror = (err: DOMError) => {\n            cb(_fs.convert(err));\n          };\n          writer.write(blob);\n        });\n      };\n      var error = (err: DOMError) => {\n        cb(_fs.convert(err));\n      };\n      _fs.fs.root.getFile(this.getPath(), opts, success, error);\n    } else {\n      cb();\n    }\n  }\n\n  public close(cb: (e?: api_error.ApiError) => void): void {\n    this.sync(cb);\n  }\n}\n\nexport class HTML5FS extends file_system.BaseFileSystem implements file_system.FileSystem {\n  private size: number;\n  private type: number;\n  // HTML5File reaches into HTML5FS. :/\n  public fs: FileSystem;\n  /**\n   * Arguments:\n   *   - type: PERSISTENT or TEMPORARY\n   *   - size: storage quota to request, in megabytes. Allocated value may be less.\n   */\n  constructor(size: number, type?: number) {\n    super();\n    this.size = size != null ? size : 5;\n    this.type = type != null ? type : global.PERSISTENT;\n    var kb = 1024;\n    var mb = kb * kb;\n    this.size *= mb;\n  }\n\n  public getName(): string {\n    return 'HTML5 FileSystem';\n  }\n\n  public static isAvailable(): boolean {\n    return _getFS != null;\n  }\n\n  public isReadOnly(): boolean {\n    return false;\n  }\n\n  public supportsSymlinks(): boolean {\n    return false;\n  }\n\n  public supportsProps(): boolean {\n    return false;\n  }\n\n  public supportsSynch(): boolean {\n    return false;\n  }\n\n  /**\n   * Converts the given DOMError into an appropriate ApiError.\n   * Full list of values here:\n   * https://developer.mozilla.org/en-US/docs/Web/API/DOMError\n   * I've only implemented the most obvious ones, but more can be added to\n   * make errors more descriptive in the future.\n   */\n  public convert(err: DOMError, message: string = \"\"): api_error.ApiError {\n    switch (err.name) {\n      case 'QuotaExceededError':\n        return new ApiError(ErrorCode.ENOSPC, message);\n      case 'NotFoundError':\n        return new ApiError(ErrorCode.ENOENT, message);\n      case 'SecurityError':\n        return new ApiError(ErrorCode.EACCES, message);\n      case 'InvalidModificationError':\n        return new ApiError(ErrorCode.EPERM, message);\n      case 'SyntaxError':\n      case 'TypeMismatchError':\n        return new ApiError(ErrorCode.EINVAL, message);\n      default:\n        return new ApiError(ErrorCode.EINVAL, message);\n    }\n  }\n\n  /**\n   * Converts the given ErrorEvent (from a FileReader) into an appropriate\n   * APIError.\n   */\n  public convertErrorEvent(err: ErrorEvent, message: string = \"\"): api_error.ApiError {\n    return new ApiError(ErrorCode.ENOENT, err.message + \"; \" + message);\n  }\n\n  /**\n   * Nonstandard\n   * Requests a storage quota from the browser to back this FS.\n   */\n  public allocate(cb: (e?: api_error.ApiError) => void = function(){}): void {\n    var success = (fs: FileSystem): void => {\n      this.fs = fs;\n      cb()\n    };\n    var error = (err: DOMException): void => {\n      cb(this.convert(err));\n    };\n    if (this.type === global.PERSISTENT) {\n      _requestQuota(this.type, this.size, (granted: number) => {\n        _getFS(this.type, granted, success, error);\n      }, error);\n    } else {\n      _getFS(this.type, this.size, success, error);\n    }\n  }\n\n  /**\n   * Nonstandard\n   * Deletes everything in the FS. Used for testing.\n   * Karma clears the storage after you quit it but not between runs of the test\n   * suite, and the tests expect an empty FS every time.\n   */\n  public empty(main_cb: (e?: api_error.ApiError) => void): void {\n    // Get a list of all entries in the root directory to delete them\n    this._readdir('/', (err: api_error.ApiError, entries?: Entry[]): void => {\n      if (err) {\n        console.error('Failed to empty FS');\n        main_cb(err);\n      } else {\n        // Called when every entry has been operated on\n        var finished = (er: any): void => {\n          if (err) {\n            console.error(\"Failed to empty FS\");\n            main_cb(err);\n          } else {\n            main_cb();\n          }\n        };\n        // Removes files and recursively removes directories\n        var deleteEntry = (entry: Entry, cb: (e?: any) => void): void => {\n          var succ = () => {\n            cb();\n          };\n          var error = (err: DOMException) => {\n            cb(this.convert(err, entry.fullPath));\n          };\n          if (entry.isFile) {\n            entry.remove(succ, error);\n          } else {\n            (<DirectoryEntry> entry).removeRecursively(succ, error);\n          }\n        };\n        // Loop through the entries and remove them, then call the callback\n        // when they're all finished.\n        async.each(entries, deleteEntry, finished);\n      }\n    });\n  }\n\n  public rename(oldPath: string, newPath: string, cb: (e?: api_error.ApiError) => void): void {\n    var semaphore: number = 2,\n      successCount: number = 0,\n      root: DirectoryEntry = this.fs.root,\n      error = (err: DOMException): void => {\n        if (--semaphore === 0) {\n          cb(this.convert(err, \"Failed to rename \" + oldPath + \" to \" + newPath + \".\"));\n        }\n      },\n      success = (file: Entry): void => {\n        if (++successCount === 2) {\n          console.error(\"Something was identified as both a file and a directory. This should never happen.\");\n          return;\n        }\n\n        // SPECIAL CASE: If newPath === oldPath, and the path exists, then\n        // this operation trivially succeeds.\n        if (oldPath === newPath) {\n          return cb();\n        }\n\n        // Get the new parent directory.\n        root.getDirectory(path.dirname(newPath), {}, (parentDir: DirectoryEntry): void => {\n          file.moveTo(parentDir, path.basename(newPath), (entry: Entry): void => { cb(); }, (err: DOMException): void => {\n            // SPECIAL CASE: If oldPath is a directory, and newPath is a\n            // file, rename should delete the file and perform the move.\n            if (file.isDirectory) {\n              // Unlink only works on files. Try to delete newPath.\n              this.unlink(newPath, (e?): void => {\n                if (e) {\n                  // newPath is probably a directory.\n                  error(err);\n                } else {\n                  // Recurse, now that newPath doesn't exist.\n                  this.rename(oldPath, newPath, cb);\n                }\n              });\n            } else {\n              error(err);\n            }\n          });\n        }, error);\n      };\n\n    // We don't know if oldPath is a *file* or a *directory*, and there's no\n    // way to stat items. So launch both requests, see which one succeeds.\n    root.getFile(oldPath, {}, success, error);\n    root.getDirectory(oldPath, {}, success, error);\n  }\n\n  public stat(path: string, isLstat: boolean, cb: (err: api_error.ApiError, stat?: node_fs_stats.Stats) => void): void {\n    // Throw an error if the entry doesn't exist, because then there's nothing\n    // to stat.\n    var opts = {\n      create: false\n    };\n    // Called when the path has been successfully loaded as a file.\n    var loadAsFile = (entry: FileEntry): void => {\n      var fileFromEntry = (file: File): void => {\n        var stat = new Stats(FileType.FILE, file.size);\n        cb(null, stat);\n      };\n      entry.file(fileFromEntry, failedToLoad);\n    };\n    // Called when the path has been successfully loaded as a directory.\n    var loadAsDir = (dir: DirectoryEntry): void => {\n      // Directory entry size can't be determined from the HTML5 FS API, and is\n      // implementation-dependant anyway, so a dummy value is used.\n      var size = 4096;\n      var stat = new Stats(FileType.DIRECTORY, size);\n      cb(null, stat);\n    };\n    // Called when the path couldn't be opened as a directory or a file.\n    var failedToLoad = (err: DOMException): void => {\n      cb(this.convert(err, path));\n    };\n    // Called when the path couldn't be opened as a file, but might still be a\n    // directory.\n    var failedToLoadAsFile = (): void => {\n      this.fs.root.getDirectory(path, opts, loadAsDir, failedToLoad);\n    };\n    // No method currently exists to determine whether a path refers to a\n    // directory or a file, so this implementation tries both and uses the first\n    // one that succeeds.\n    this.fs.root.getFile(path, opts, loadAsFile, failedToLoadAsFile);\n  }\n\n  public open(path: string, flags: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError, fd?: file.File) => any): void {\n    var opts = {\n      create: flags.pathNotExistsAction() === ActionType.CREATE_FILE,\n      exclusive: flags.isExclusive()\n    };\n    var error = (err: any): void => {\n      cb(this.convertErrorEvent(err, path));\n    };\n    var error2 = (err: DOMError): void => {\n      cb(this.convert(err, path));\n    };\n    var success = (entry: FileEntry): void => {\n      var success2 = (file: File): void => {\n        var reader = new FileReader();\n        reader.onloadend = (event: Event): void => {\n          var bfs_file = this._makeFile(path, flags, file, <ArrayBuffer> reader.result);\n          cb(null, bfs_file);\n        };\n        reader.onerror = error;\n        reader.readAsArrayBuffer(file);\n      };\n      entry.file(success2, error2);\n    };\n    this.fs.root.getFile(path, opts, success, error);\n  }\n\n  /**\n   * Returns a BrowserFS object representing the type of a Dropbox.js stat object\n   */\n  private _statType(stat: Entry): node_fs_stats.FileType {\n    return stat.isFile ? FileType.FILE : FileType.DIRECTORY;\n  }\n\n  /**\n   * Returns a BrowserFS object representing a File, created from the data\n   * returned by calls to the Dropbox API.\n   */\n  private _makeFile(path: string, flag: file_flag.FileFlag, stat: File, data: ArrayBuffer = new ArrayBuffer(0)): HTML5FSFile {\n    var stats = new Stats(FileType.FILE, stat.size);\n    var buffer = new Buffer(data);\n    return new HTML5FSFile(this, path, flag, stats, buffer);\n  }\n\n  /**\n   * Delete a file or directory from the file system\n   * isFile should reflect which call was made to remove the it (`unlink` or\n   * `rmdir`). If this doesn't match what's actually at `path`, an error will be\n   * returned\n   */\n  private _remove(path: string, cb: (e?: api_error.ApiError) => void, isFile: boolean): void {\n    var success = (entry: Entry): void => {\n      var succ = () => {\n        cb();\n      };\n      var err = (err: DOMException) => {\n        cb(this.convert(err, path));\n      };\n      entry.remove(succ, err);\n    };\n    var error = (err: DOMException): void => {\n      cb(this.convert(err, path));\n    };\n    // Deleting the entry, so don't create it\n    var opts = {\n      create: false\n    };\n\n    if (isFile) {\n      this.fs.root.getFile(path, opts, success, error);\n    } else {\n      this.fs.root.getDirectory(path, opts, success, error);\n    }\n  }\n\n  public unlink(path: string, cb: (e?: api_error.ApiError) => void): void {\n    this._remove(path, cb, true);\n  }\n\n  public rmdir(path: string, cb: (e?: api_error.ApiError) => void): void {\n    this._remove(path, cb, false);\n  }\n\n  public mkdir(path: string, mode: number, cb: (e?: api_error.ApiError) => void): void {\n    // Create the directory, but throw an error if it already exists, as per\n    // mkdir(1)\n    var opts = {\n      create: true,\n      exclusive: true\n    };\n    var success = (dir: DirectoryEntry): void => {\n      cb();\n    };\n    var error = (err: DOMException): void => {\n      cb(this.convert(err, path));\n    };\n    this.fs.root.getDirectory(path, opts, success, error);\n  }\n\n  /**\n   * Returns an array of `FileEntry`s. Used internally by empty and readdir.\n   */\n  private _readdir(path: string, cb: (e: api_error.ApiError, entries?: Entry[]) => void): void {\n    // Grab the requested directory.\n    this.fs.root.getDirectory(path, { create: false }, (dirEntry: DirectoryEntry) => {\n      var reader = dirEntry.createReader();\n      var entries: Entry[] = [];\n      var error = (err: DOMException): void => {\n        cb(this.convert(err, path));\n      };\n      // Call the reader.readEntries() until no more results are returned.\n      var readEntries = () => {\n        reader.readEntries(((results) => {\n          if (results.length) {\n            entries = entries.concat(_toArray(results));\n            readEntries();\n          } else {\n            cb(null, entries);\n          }\n        }), error);\n      };\n      readEntries();\n    });\n  }\n\n  /**\n   * Map _readdir's list of `FileEntry`s to their names and return that.\n   */\n  public readdir(path: string, cb: (err: api_error.ApiError, files?: string[]) => void): void {\n    this._readdir(path, (e: api_error.ApiError, entries?: Entry[]): void => {\n      if (e != null) {\n        return cb(e);\n      }\n      var rv: string[] = [];\n      for (var i = 0; i < entries.length; i++) {\n        rv.push(entries[i].name);\n      }\n      cb(null, rv);\n    });\n  }\n}\n\nbrowserfs.registerFileSystem('HTML5FS', HTML5FS);\n",
    "import kvfs = require('../generic/key_value_filesystem');\nimport browserfs = require('../core/browserfs');\n\n/**\n * A simple in-memory key-value store backed by a JavaScript object.\n */\nexport class InMemoryStore implements kvfs.SyncKeyValueStore, kvfs.SimpleSyncStore {\n  private store: { [key: string]: NodeBuffer } = {};\n\n  public name() { return 'In-memory'; }\n  public clear() { this.store = {}; }\n\n  public beginTransaction(type: string): kvfs.SyncKeyValueRWTransaction {\n    return new kvfs.SimpleSyncRWTransaction(this);\n  }\n\n  public get(key: string): NodeBuffer {\n    return this.store[key];\n  }\n\n  public put(key: string, data: NodeBuffer, overwrite: boolean): boolean {\n    if (!overwrite && this.store.hasOwnProperty(key)) {\n      return false;\n    }\n    this.store[key] = data;\n    return true;\n  }\n\n  public delete(key: string): void {\n    delete this.store[key];\n  }\n}\n\n/**\n * A simple in-memory file system backed by an InMemoryStore.\n */\nexport class InMemoryFileSystem extends kvfs.SyncKeyValueFileSystem {\n  constructor() {\n    super({ store: new InMemoryStore() });\n  }\n}\n\nbrowserfs.registerFileSystem('InMemory', InMemoryFileSystem);\n",
    "import buffer = require('../core/buffer');\nimport browserfs = require('../core/browserfs');\nimport kvfs = require('../generic/key_value_filesystem');\nimport api_error = require('../core/api_error');\nimport global = require('../core/global');\n\nvar Buffer = buffer.Buffer,\n  ApiError = api_error.ApiError,\n  ErrorCode = api_error.ErrorCode;\n\n// Some versions of FF and all versions of IE do not support the full range of\n// 16-bit numbers encoded as characters, as they enforce UTF-16 restrictions.\n// http://stackoverflow.com/questions/11170716/are-there-any-characters-that-are-not-allowed-in-localstorage/11173673#11173673\nvar supportsBinaryString: boolean = false,\n  binaryEncoding: string;\ntry {\n  global.localStorage.setItem(\"__test__\", String.fromCharCode(0xD800));\n  supportsBinaryString = global.localStorage.getItem(\"__test__\") === String.fromCharCode(0xD800);\n} catch (e) {\n  // IE throws an exception.\n  supportsBinaryString = false;\n}\nbinaryEncoding = supportsBinaryString ? 'binary_string' : 'binary_string_ie';\n\n\n/**\n * A synchronous key-value store backed by localStorage.\n */\nexport class LocalStorageStore implements kvfs.SyncKeyValueStore, kvfs.SimpleSyncStore {\n  constructor() { }\n\n  public name(): string {\n    return 'LocalStorage';\n  }\n\n  public clear(): void {\n    global.localStorage.clear();\n  }\n\n  public beginTransaction(type: string): kvfs.SyncKeyValueRWTransaction {\n    // No need to differentiate.\n    return new kvfs.SimpleSyncRWTransaction(this);\n  }\n\n  public get(key: string): NodeBuffer {\n    try {\n      var data = global.localStorage.getItem(key);\n      if (data !== null) {\n        return new Buffer(data, binaryEncoding);\n      }\n    } catch (e) {\n\n    }\n    // Key doesn't exist, or a failure occurred. \n    return undefined;\n  }\n\n  public put(key: string, data: NodeBuffer, overwrite: boolean): boolean {\n    try {\n      if (!overwrite && global.localStorage.getItem(key) !== null) {\n        // Don't want to overwrite the key!\n        return false;\n      }\n      global.localStorage.setItem(key, data.toString(binaryEncoding));\n      return true;\n    } catch (e) {\n      throw new ApiError(ErrorCode.ENOSPC, \"LocalStorage is full.\");\n    }\n  }\n\n  public delete(key: string): void {\n    try {\n      global.localStorage.removeItem(key);\n    } catch (e) {\n      throw new ApiError(ErrorCode.EIO, \"Unable to delete key \" + key + \": \" + e);\n    }\n  }\n}\n\n/**\n * A synchronous file system backed by localStorage. Connects our\n * LocalStorageStore to our SyncKeyValueFileSystem.\n */\nexport class LocalStorageFileSystem extends kvfs.SyncKeyValueFileSystem {\n  constructor() { super({ store: new LocalStorageStore() }); }\n  public static isAvailable(): boolean {\n    return typeof global.localStorage !== 'undefined';\n  }\n}\n\nbrowserfs.registerFileSystem('LocalStorage', LocalStorageFileSystem);\n",
    "import file_system = require('../core/file_system');\nimport in_memory = require('./in_memory');\nimport api_error = require('../core/api_error');\nimport fs = require('../core/node_fs');\nimport browserfs = require('../core/browserfs');\n\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\n/**\n * The MountableFileSystem allows you to mount multiple backend types or\n * multiple instantiations of the same backend into a single file system tree.\n * The file systems do not need to know about each other; all interactions are\n * automatically facilitated through this interface.\n *\n * For example, if a file system is mounted at /mnt/blah, and a request came in\n * for /mnt/blah/foo.txt, the file system would see a request for /foo.txt.\n */\nexport class MountableFileSystem extends file_system.BaseFileSystem implements file_system.FileSystem {\n  private mntMap: {[path: string]: file_system.FileSystem};\n  private rootFs: file_system.FileSystem;\n  constructor() {\n    super();\n    this.mntMap = {};\n    // The InMemory file system serves purely to provide directory listings for\n    // mounted file systems.\n    this.rootFs = new in_memory.InMemoryFileSystem();\n  }\n\n  /**\n   * Mounts the file system at the given mount point.\n   */\n  public mount(mnt_pt: string, fs: file_system.FileSystem): void {\n    if (this.mntMap[mnt_pt]) {\n      throw new ApiError(ErrorCode.EINVAL, \"Mount point \" + mnt_pt + \" is already taken.\");\n    }\n    // @todo Ensure new mount path is not subsumed by active mount paths.\n    this.rootFs.mkdirSync(mnt_pt, 0x1ff);\n    this.mntMap[mnt_pt] = fs;\n  }\n\n  public umount(mnt_pt: string): void {\n    if (!this.mntMap[mnt_pt]) {\n      throw new ApiError(ErrorCode.EINVAL, \"Mount point \" + mnt_pt + \" is already unmounted.\");\n    }\n    delete this.mntMap[mnt_pt];\n    this.rootFs.rmdirSync(mnt_pt);\n  }\n\n  /**\n   * Returns the file system that the path points to.\n   */\n  public _get_fs(path: string): {fs: file_system.FileSystem; path: string} {\n    for (var mnt_pt in this.mntMap) {\n      var fs = this.mntMap[mnt_pt];\n      if (path.indexOf(mnt_pt) === 0) {\n        path = path.substr(mnt_pt.length > 1 ? mnt_pt.length : 0);\n        if (path === '') {\n          path = '/';\n        }\n        return {fs: fs, path: path};\n      }\n    }\n    // Query our root file system.\n    return {fs: this.rootFs, path: path};\n  }\n\n  // Global information methods\n\n  public getName(): string {\n    return 'MountableFileSystem';\n  }\n\n  public static isAvailable(): boolean {\n    return true;\n  }\n\n  public diskSpace(path: string, cb: (total: number, free: number) => void): void {\n    cb(0, 0);\n  }\n\n  public isReadOnly(): boolean {\n    return false;\n  }\n\n  public supportsLinks(): boolean {\n    // I'm not ready for cross-FS links yet.\n    return false;\n  }\n\n  public supportsProps(): boolean {\n    return false;\n  }\n\n  public supportsSynch(): boolean {\n    return true;\n  }\n\n  /**\n   * Fixes up error messages so they mention the mounted file location relative\n   * to the MFS root, not to the particular FS's root.\n   * Mutates the input error, and returns it.\n   */\n  private standardizeError(err: api_error.ApiError, path: string, realPath: string): api_error.ApiError {\n    var index: number;\n    if (-1 !== (index = err.message.indexOf(path))) {\n      err.message = err.message.substr(0, index) + realPath + err.message.substr(index + path.length);\n    }\n    return err;\n  }\n\n  // The following methods involve multiple file systems, and thus have custom\n  // logic.\n  // Note that we go through the Node API to use its robust default argument\n  // processing.\n\n  public rename(oldPath: string, newPath: string, cb: (e?: api_error.ApiError) => void): void {\n    // Scenario 1: old and new are on same FS.\n    var fs1_rv = this._get_fs(oldPath);\n    var fs2_rv = this._get_fs(newPath);\n    if (fs1_rv.fs === fs2_rv.fs) {\n      var _this = this;\n      return fs1_rv.fs.rename(fs1_rv.path, fs2_rv.path, function(e?: api_error.ApiError) {\n        if (e) _this.standardizeError(_this.standardizeError(e, fs1_rv.path, oldPath), fs2_rv.path, newPath);\n        cb(e);\n      });\n    }\n\n    // Scenario 2: Different file systems.\n    // Read old file, write new file, delete old file.\n    return fs.readFile(oldPath, function(err: api_error.ApiError, data?: any) {\n      if (err) {\n        return cb(err);\n      }\n      fs.writeFile(newPath, data, function(err) {\n        if (err) {\n          return cb(err);\n        }\n        fs.unlink(oldPath, cb);\n      });\n    });\n  }\n\n  public renameSync(oldPath: string, newPath: string): void {\n    // Scenario 1: old and new are on same FS.\n    var fs1_rv = this._get_fs(oldPath);\n    var fs2_rv = this._get_fs(newPath);\n    if (fs1_rv.fs === fs2_rv.fs) {\n      try {\n        return fs1_rv.fs.renameSync(fs1_rv.path, fs2_rv.path);\n      } catch(e) {\n        this.standardizeError(this.standardizeError(e, fs1_rv.path, oldPath), fs2_rv.path, newPath);\n        throw e;\n      }\n    }\n    // Scenario 2: Different file systems.\n    var data = fs.readFileSync(oldPath);\n    fs.writeFileSync(newPath, data);\n    return fs.unlinkSync(oldPath);\n  }\n}\n\n/**\n * Tricky: Define all of the functions that merely forward arguments to the\n * relevant file system, or return/throw an error.\n * Take advantage of the fact that the *first* argument is always the path, and\n * the *last* is the callback function (if async).\n */\nfunction defineFcn(name: string, isSync: boolean, numArgs: number): (...args: any[]) => any {\n  if (isSync) {\n    return function(...args: any[]) {\n      var path = args[0];\n      var rv = this._get_fs(path);\n      args[0] = rv.path;\n      try {\n        return rv.fs[name].apply(rv.fs, args);\n      } catch (e) {\n        this.standardizeError(e, rv.path, path);\n        throw e;\n      }\n    };\n  } else {\n    return function(...args: any[]) {\n      var path = args[0];\n      var rv = this._get_fs(path);\n      args[0] = rv.path;\n      if (typeof args[args.length-1] === 'function') {\n        var cb = args[args.length - 1];\n        var _this = this;\n        args[args.length - 1] = function(...args: any[]) {\n          if (args.length > 0 && args[0] instanceof api_error.ApiError) {\n            _this.standardizeError(args[0], rv.path, path);\n          }\n          cb.apply(null, args);\n        }\n      }\n      return rv.fs[name].apply(rv.fs, args);\n    };\n  }\n}\n\nvar fsCmdMap = [\n   // 1 arg functions\n   ['readdir', 'exists', 'unlink', 'rmdir', 'readlink'],\n   // 2 arg functions\n   ['stat', 'mkdir', 'realpath', 'truncate'],\n   // 3 arg functions\n   ['open', 'readFile', 'chmod', 'utimes'],\n   // 4 arg functions\n   ['chown'],\n   // 5 arg functions\n   ['writeFile', 'appendFile']];\n\nfor (var i = 0; i < fsCmdMap.length; i++) {\n  var cmds = fsCmdMap[i];\n  for (var j = 0; j < cmds.length; j++) {\n    var fnName = cmds[j];\n    (<any> MountableFileSystem.prototype)[fnName] = defineFcn(fnName, false, i + 1);\n    (<any> MountableFileSystem.prototype)[fnName + 'Sync'] = defineFcn(fnName + 'Sync', true, i + 1);\n  }\n}\n\nbrowserfs.registerFileSystem('MountableFileSystem', MountableFileSystem);\n\n",
    "import file_system = require('../core/file_system');\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\nimport file_flag = require('../core/file_flag');\nimport util = require('../core/util');\nimport file = require('../core/file');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport preload_file = require('../generic/preload_file');\nimport browserfs = require('../core/browserfs');\nimport path = require('../core/node_path');\nimport ApiError = api_error.ApiError;\nimport ErrorCode = api_error.ErrorCode;\n\nvar deletionLogPath = '/.deletedFiles.log';\n\n/**\n * Given a read-only mode, makes it writable.\n */\nfunction makeModeWritable(mode: number): number {\n  return 0x92 | mode;\n}\n\n/**\n * Overlays a RO file to make it writable.\n */\nclass OverlayFile extends preload_file.PreloadFile implements file.File {\n  constructor(fs: OverlayFS, path: string, flag: file_flag.FileFlag, stats: node_fs_stats.Stats, data: Buffer) {\n    super(fs, path, flag, stats, data);\n  }\n\n  public syncSync(): void {\n    if (this.isDirty()) {\n      (<OverlayFS> this._fs)._syncSync(this);\n      this.resetDirty();\n    }\n  }\n  \n  public closeSync(): void {\n    this.syncSync();\n  }\n}\n\n/**\n * OverlayFS makes a read-only filesystem writable by storing writes on a second,\n * writable file system. Deletes are persisted via metadata stored on the writable\n * file system.\n * \n * Currently only works for two synchronous file systems.\n */\nclass OverlayFS extends file_system.SynchronousFileSystem implements file_system.FileSystem {\n  private _writable: file_system.FileSystem;\n  private _readable: file_system.FileSystem;\n  private _isInitialized: boolean = false;\n  private _deletedFiles: {[path: string]: boolean} = {};\n  private _deleteLog: file.File = null;\n  \n  constructor(writable: file_system.FileSystem, readable: file_system.FileSystem) {\n    super();\n    this._writable = writable;\n    this._readable = readable;\n    if (this._writable.isReadOnly()) {\n      throw new ApiError(ErrorCode.EINVAL, \"Writable file system must be writable.\");\n    }    \n    if (!this._writable.supportsSynch() || !this._readable.supportsSynch()) {\n      throw new ApiError(ErrorCode.EINVAL, \"OverlayFS currently only operates on synchronous file systems.\");\n    }\n  }\n  \n  public getOverlayedFileSystems(): { readable: file_system.FileSystem; writable: file_system.FileSystem; } {\n    return {\n      readable: this._readable,\n      writable: this._writable\n    };\n  }\n  \n  /**\n   * With the given path, create the needed parent directories on the writable storage\n   * should they not exist. Use modes from the read-only storage.\n   */\n  private createParentDirectories(p: string): void {\n    var parent = path.dirname(p), toCreate: string[] = [];\n    while (!this._writable.existsSync(parent)) {\n      toCreate.push(parent);\n      parent = path.dirname(parent);\n    }\n    toCreate = toCreate.reverse();\n    \n    toCreate.forEach((p: string) => {\n      this._writable.mkdirSync(p, this.statSync(p, false).mode);\n    });\n  }\n  \n  public static isAvailable(): boolean {\n    return true;\n  }\n  \n  public _syncSync(file: preload_file.PreloadFile): void {\n    this.createParentDirectories(file.getPath());\n    this._writable.writeFileSync(file.getPath(), file.getBuffer(), null, file_flag.FileFlag.getFileFlag('w'), file.getStats().mode);\n  }\n  \n  public getName() {\n    return \"OverlayFS\";\n  }\n  \n  /**\n   * Called once to load up metadata stored on the writable file system. \n   */\n  public initialize(cb: (err?: ApiError) => void): void {\n    if (!this._isInitialized) {\n      // Read deletion log, process into metadata.\n      this._writable.readFile(deletionLogPath, 'utf8',\n        file_flag.FileFlag.getFileFlag('r'), (err: ApiError, data?: string) => {\n        if (err) {\n          // ENOENT === Newly-instantiated file system, and thus empty log.\n          if (err.type !== ErrorCode.ENOENT) {\n            return cb(err);\n          }\n        } else {\n          data.split('\\n').forEach((path: string) => {\n            // If the log entry begins w/ 'd', it's a deletion. Otherwise, it's\n            // an undeletion.\n            // TODO: Clean up log during initialization phase.\n            this._deletedFiles[path.slice(1)] = path.slice(0, 1) === 'd';\n          });\n        }\n        // Open up the deletion log for appending.\n        this._writable.open(deletionLogPath, file_flag.FileFlag.getFileFlag('a'),\n          0x1a4, (err: ApiError, fd?: file.File) => {\n          if (err) {\n            cb(err);\n          } else {\n            this._deleteLog = fd;\n            cb();\n          }\n        });\n      });\n    } else {\n      cb();\n    }\n  }\n\n  public isReadOnly(): boolean { return false; }\n  public supportsSynch(): boolean { return true; }\n  public supportsLinks(): boolean { return false; }\n  public supportsProps(): boolean { return this._readable.supportsProps() && this._writable.supportsProps(); }\n\n  private deletePath(p: string): void {\n    this._deletedFiles[p] = true;\n    var buff = new Buffer(\"d\" + p + \"\\n\");\n    this._deleteLog.writeSync(buff, 0, buff.length, null);\n    this._deleteLog.syncSync();\n  }\n  \n  private undeletePath(p: string): void {\n    if (this._deletedFiles[p]) {\n      this._deletedFiles[p] = false;\n      var buff = new Buffer(\"u\" + p);\n      this._deleteLog.writeSync(buff, 0, buff.length, null);\n      this._deleteLog.syncSync();\n    }\n  }\n\n  public renameSync(oldPath: string, newPath: string): void {\n    // Write newPath using oldPath's contents, delete oldPath.\n    var oldStats = this.statSync(oldPath, false);\n    if (oldStats.isDirectory()) {\n      // Optimization: Don't bother moving if old === new.\n      if (oldPath === newPath) {\n        return;\n      }\n      \n      var mode = 0x1ff;\n      if (this.existsSync(newPath)) {\n        var stats = this.statSync(newPath, false),\n          mode = stats.mode;\n        if (stats.isDirectory()) {\n          if (this.readdirSync(newPath).length > 0) {\n            throw new ApiError(ErrorCode.ENOTEMPTY, `Path ${newPath} not empty.`);\n          }\n        } else {\n          throw new ApiError(ErrorCode.ENOTDIR, `Path ${newPath} is a file.`); \n        }\n      }\n      \n      // Take care of writable first. Move any files there, or create an empty directory\n      // if it doesn't exist.\n      if (this._writable.existsSync(oldPath)) {\n        this._writable.renameSync(oldPath, newPath);\n      } else if (!this._writable.existsSync(newPath)) {\n        this._writable.mkdirSync(newPath, mode);\n      }\n      \n      // Need to move *every file/folder* currently stored on readable to its new location\n      // on writable.\n      if (this._readable.existsSync(oldPath)) {\n        this._readable.readdirSync(oldPath).forEach((name) => {\n          // Recursion! Should work for any nested files / folders.\n          this.renameSync(path.resolve(oldPath, name), path.resolve(newPath, name));\n        });\n      }\n    } else {\n      if (this.existsSync(newPath) && this.statSync(newPath, false).isDirectory()) {\n        throw new ApiError(ErrorCode.EISDIR, `Path ${newPath} is a directory.`);\n      }\n      \n      this.writeFileSync(newPath,\n        this.readFileSync(oldPath, null, file_flag.FileFlag.getFileFlag('r')), null,\n        file_flag.FileFlag.getFileFlag('w'), oldStats.mode);\n    }\n    \n    if (oldPath !== newPath && this.existsSync(oldPath)) {\n      this.unlinkSync(oldPath);\n    }\n  }\n  public statSync(p: string, isLstat: boolean): node_fs_stats.Stats {\n    try {\n      return this._writable.statSync(p, isLstat);\n    } catch (e) {\n      if (this._deletedFiles[p]) {\n        throw new ApiError(ErrorCode.ENOENT, `Path ${p} does not exist.`);\n      }\n      var oldStat = this._readable.statSync(p, isLstat).clone();\n      // Make the oldStat's mode writable. Preserve the topmost part of the\n      // mode, which specifies if it is a file or a directory.\n      oldStat.mode = makeModeWritable(oldStat.mode);\n      return oldStat;\n    }\n  }\n  public openSync(p: string, flag: file_flag.FileFlag, mode: number): file.File {\n    if (this.existsSync(p)) {\n      switch (flag.pathExistsAction()) {\n        case file_flag.ActionType.TRUNCATE_FILE:\n          this.createParentDirectories(p);\n          return this._writable.openSync(p, flag, mode);\n        case file_flag.ActionType.NOP:\n          if (this._writable.existsSync(p)) {\n            return this._writable.openSync(p, flag, mode);\n          } else {\n            // Create an OverlayFile.\n            var stats = this._readable.statSync(p, false).clone();\n            stats.mode = mode;\n            return new OverlayFile(this, p, flag, stats, this._readable.readFileSync(p, null, file_flag.FileFlag.getFileFlag('r')));\n          }\n        default:\n          throw new ApiError(ErrorCode.EEXIST, `Path ${p} exists.`);\n      }\n    } else {\n      switch(flag.pathNotExistsAction()) {\n        case file_flag.ActionType.CREATE_FILE:\n          this.createParentDirectories(p);\n          return this._writable.openSync(p, flag, mode);\n        default:\n          throw new ApiError(ErrorCode.ENOENT, `Path ${p} does not exist.`);\n      }\n    }\n  }\n  public unlinkSync(p: string): void {\n    if (this.existsSync(p)) {\n      if (this._writable.existsSync(p)) {\n        this._writable.unlinkSync(p);\n      }\n      \n      // Does it still exist?\n      if (this.existsSync(p)) {\n        // Add to delete log.\n        this.deletePath(p);\n      }\n    } else {\n      throw new ApiError(ErrorCode.ENOENT, `Path ${p} does not exist.`);\n    }\n  }\n  public rmdirSync(p: string): void {\n    if (this.existsSync(p)) {\n      if (this._writable.existsSync(p)) {\n        this._writable.rmdirSync(p);\n      }\n      if (this.existsSync(p)) {\n        // Check if directory is empty.\n        if (this.readdirSync(p).length > 0) {\n          throw new ApiError(ErrorCode.ENOTEMPTY, `Directory ${p} is not empty.`);\n        } else {\n          this.deletePath(p);\n        }\n      }\n    } else {\n      throw new ApiError(ErrorCode.ENOENT, `Path ${p} does not exist.`);\n    }\n  }\n  public mkdirSync(p: string, mode: number): void {\n    if (this.existsSync(p)) {\n      throw new ApiError(ErrorCode.EEXIST, `Path ${p} already exists.`);\n    } else {\n      // The below will throw should any of the parent directories fail to exist\n      // on _writable.\n      this.createParentDirectories(p);\n      this._writable.mkdirSync(p, mode);\n    }\n  }\n  public readdirSync(p: string): string[] {\n    var dirStats = this.statSync(p, false);\n    if (!dirStats.isDirectory()) {\n      throw new ApiError(ErrorCode.ENOTDIR, `Path ${p} is not a directory.`);\n    }\n    \n    // Readdir in both, merge, check delete log on each file, return.\n    var contents: string[] = [];\n    try {\n      contents = contents.concat(this._writable.readdirSync(p));\n    } catch (e) {\n    }\n    try {\n      contents = contents.concat(this._readable.readdirSync(p));\n    } catch (e) {\n    }\n    var seenMap: {[name: string]: boolean} = {};\n    return contents.filter((fileP: string) => {\n      var result = seenMap[fileP] === undefined && this._deletedFiles[p + \"/\" + fileP] !== true;\n      seenMap[fileP] = true;\n      return result;\n    });\n  }\n  public existsSync(p: string): boolean {\n    return this._writable.existsSync(p) || (this._readable.existsSync(p) && this._deletedFiles[p] !== true);\n  }\n  public chmodSync(p: string, isLchmod: boolean, mode: number): void {\n    this.operateOnWritable(p, () => {\n      this._writable.chmodSync(p, isLchmod, mode);\n    });\n  }\n  public chownSync(p: string, isLchown: boolean, uid: number, gid: number): void {\n    this.operateOnWritable(p, () => {\n      this._writable.chownSync(p, isLchown, uid, gid);\n    });\n  }\n  public utimesSync(p: string, atime: Date, mtime: Date): void {\n    this.operateOnWritable(p, () => {\n      this._writable.utimesSync(p, atime, mtime);\n    });\n  }\n  \n  /**\n   * Helper function:\n   * - Ensures p is on writable before proceeding. Throws an error if it doesn't exist.\n   * - Calls f to perform operation on writable.\n   */\n  private operateOnWritable(p: string, f: () => void): void {\n    if (this.existsSync(p)) {\n      if (!this._writable.existsSync(p)) {\n        // File is on readable storage. Copy to writable storage before\n        // changing its mode.\n        this.copyToWritable(p);\n      }\n      f();\n    } else {\n      throw new ApiError(ErrorCode.ENOENT, `Path ${p} does not exist.`);\n    }\n  }\n  \n  /**\n   * Copy from readable to writable storage.\n   * PRECONDITION: File does not exist on writable storage.\n   */\n  private copyToWritable(p: string): void {\n    var pStats = this.statSync(p, false);\n    if (pStats.isDirectory()) {\n      this._writable.mkdirSync(p, pStats.mode);\n    } else {\n      this.writeFileSync(p,\n        this._readable.readFileSync(p, null, file_flag.FileFlag.getFileFlag('r')), null,\n        file_flag.FileFlag.getFileFlag('w'), this.statSync(p, false).mode);\n    }\n  }\n}\n\nbrowserfs.registerFileSystem('OverlayFS', OverlayFS);\n\nexport = OverlayFS;\n",
    "import file_system = require('../core/file_system');\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\nimport file_flag = require('../core/file_flag');\nimport util = require('../core/util');\nimport file = require('../core/file');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport preload_file = require('../generic/preload_file');\nimport browserfs = require('../core/browserfs');\n\nvar Buffer = buffer.Buffer;\n\ninterface IBrowserFSMessage {\n  browserfsMessage: boolean;\n}\n\nenum SpecialArgType {\n  // Callback\n  CB,\n  // File descriptor\n  FD,\n  // API error\n  ERROR,\n  // Stats object\n  STATS,\n  // Initial probe for file system information.\n  PROBE,\n  // FileFlag object.\n  FILEFLAG,\n  // Buffer object.\n  BUFFER\n}\n\ninterface ISpecialArgument {\n  type: SpecialArgType;\n}\n\ninterface IProbeResponse extends ISpecialArgument {\n  isReadOnly: boolean;\n  supportsLinks: boolean;\n  supportsProps: boolean;\n}\n\ninterface ICallbackArgument extends ISpecialArgument {\n  // The callback ID.\n  id: number;\n}\n\n/**\n * Converts callback arguments into ICallbackArgument objects, and back\n * again.\n */\nclass CallbackArgumentConverter {\n  private _callbacks: { [id: number]: Function } = {};\n  private _nextId: number = 0;\n\n  public toRemoteArg(cb: Function): ICallbackArgument {\n    var id = this._nextId++;\n    this._callbacks[id] = cb;\n    return {\n      type: SpecialArgType.CB,\n      id: id\n    };\n  }\n\n  public toLocalArg(id: number): Function {\n    var cb = this._callbacks[id];\n    delete this._callbacks[id];\n    return cb;\n  }\n}\n\ninterface IFileDescriptorArgument extends ISpecialArgument {\n  // The file descriptor's id on the remote side.\n  id: number;\n  // The entire file's data, as an array buffer.\n  data: ArrayBuffer;\n  // The file's stat object, as an array buffer.\n  stat: ArrayBuffer;\n  // The path to the file.\n  path: string;\n  // The flag of the open file descriptor.\n  flag: string;\n}\n\nclass FileDescriptorArgumentConverter {\n  private _fileDescriptors: { [id: number]: file.File } = {};\n  private _nextId: number = 0;\n\n  public toRemoteArg(fd: file.File, p: string, flag: file_flag.FileFlag, cb: (err: api_error.ApiError, arg?: IFileDescriptorArgument) => void): void {\n    var id = this._nextId++,\n      data: ArrayBuffer,\n      stat: ArrayBuffer,\n      argsLeft: number = 2;\n    this._fileDescriptors[id] = fd;\n\n    // Extract needed information asynchronously.\n    fd.stat((err, stats) => {\n      if (err) {\n        cb(err);\n      } else {\n        stat = (<buffer.Buffer> stats.toBuffer()).toArrayBuffer();\n        // If it's a readable flag, we need to grab contents.\n        if (flag.isReadable()) {\n          fd.read(new Buffer(stats.size), 0, stats.size, 0, (err, bytesRead, buff) => {\n            if (err) {\n              cb(err);\n            } else {\n              data = (<buffer.Buffer> buff).toArrayBuffer();\n              cb(null, {\n                type: SpecialArgType.FD,\n                id: id,\n                data: data,\n                stat: stat,\n                path: p,\n                flag: flag.getFlagString()\n              });\n            }\n          });\n        } else {\n          // File is not readable, which means writing to it will append or\n          // truncate/replace existing contents. Return an empty arraybuffer.\n          cb(null, {\n            type: SpecialArgType.FD,\n            id: id,\n            data: new ArrayBuffer(0),\n            stat: stat,\n            path: p,\n            flag: flag.getFlagString()\n          });\n        }\n      }\n    });\n  }\n\n  private _applyFdChanges(remoteFd: IFileDescriptorArgument, cb: (err: api_error.ApiError, fd?: file.File) => void): void {\n    var fd = this._fileDescriptors[remoteFd.id],\n      data = new Buffer(remoteFd.data),\n      remoteStats = node_fs_stats.Stats.fromBuffer(new Buffer(remoteFd.stat));\n\n    // Write data if the file is writable.\n    var flag = file_flag.FileFlag.getFileFlag(remoteFd.flag);\n    if (flag.isWriteable()) {\n      // Appendable: Write to end of file.\n      // Writeable: Replace entire contents of file.\n      fd.write(data, 0, data.length, flag.isAppendable() ? fd.getPos() : 0, (e) => {\n        if (e) {\n          cb(e);\n        } else {\n          function applyStatChanges() {\n            // Check if mode changed.\n            fd.stat((e, stats?) => {\n              if (e) {\n                cb(e);\n              } else {\n                if (stats.mode !== remoteStats.mode) {\n                  fd.chmod(remoteStats.mode, (e: any) => {\n                    cb(e, fd);\n                  });\n                } else {\n                  cb(e, fd);\n                }\n              }\n            });\n          }\n\n          // If writeable & not appendable, we need to ensure file contents are\n          // identical to those from the remote FD. Thus, we truncate to the\n          // length of the remote file.\n          if (!flag.isAppendable()) {\n            fd.truncate(data.length, () => {\n              applyStatChanges();\n            })\n          } else {\n            applyStatChanges();\n          }\n        }\n      });\n    } else {\n      cb(null, fd);\n    }\n  }\n\n  public applyFdAPIRequest(request: IAPIRequest, cb: (err?: api_error.ApiError) => void): void {\n    var fdArg = <IFileDescriptorArgument> request.args[0];\n    this._applyFdChanges(fdArg, (err, fd?) => {\n      if (err) {\n        cb(err);\n      } else {\n        // Apply method on now-changed file descriptor.\n        (<any> fd)[request.method]((e?: api_error.ApiError) => {\n          if (request.method === 'close') {\n            delete this._fileDescriptors[fdArg.id];\n          }\n          cb(e);\n        });\n      }\n    });\n  }\n}\n\ninterface IErrorArgument extends ISpecialArgument {\n  // The error object, as an array buffer.\n  errorData: ArrayBuffer;\n}\n\nfunction errorLocal2Remote(e: api_error.ApiError): IErrorArgument {\n  return {\n    type: SpecialArgType.ERROR,\n    errorData: (<buffer.Buffer> e.writeToBuffer()).toArrayBuffer()\n  };\n}\n\nfunction errorRemote2Local(e: IErrorArgument): api_error.ApiError {\n  return api_error.ApiError.fromBuffer(new Buffer(e.errorData));\n}\n\ninterface IStatsArgument extends ISpecialArgument {\n  // The stats object as an array buffer.\n  statsData: ArrayBuffer;\n}\n\nfunction statsLocal2Remote(stats: node_fs_stats.Stats): IStatsArgument {\n  return {\n    type: SpecialArgType.STATS,\n    statsData: (<buffer.Buffer> stats.toBuffer()).toArrayBuffer()\n  };\n}\n\nfunction statsRemote2Local(stats: IStatsArgument): node_fs_stats.Stats {\n  return node_fs_stats.Stats.fromBuffer(new Buffer(stats.statsData));\n}\n\ninterface IFileFlagArgument extends ISpecialArgument {\n  flagStr: string;\n}\n\nfunction fileFlagLocal2Remote(flag: file_flag.FileFlag): IFileFlagArgument {\n  return {\n    type: SpecialArgType.FILEFLAG,\n    flagStr: flag.getFlagString()\n  };\n}\n\nfunction fileFlagRemote2Local(remoteFlag: IFileFlagArgument): file_flag.FileFlag {\n  return file_flag.FileFlag.getFileFlag(remoteFlag.flagStr);\n}\n\ninterface IBufferArgument extends ISpecialArgument {\n  data: ArrayBuffer;\n}\n\nfunction bufferLocal2Remote(buff: Buffer): IBufferArgument {\n  return {\n    type: SpecialArgType.BUFFER,\n    data: (<buffer.Buffer> buff).toArrayBuffer()\n  };\n}\n\nfunction bufferRemote2Local(buffArg: IBufferArgument): Buffer {\n  return new Buffer(buffArg.data);\n}\n\ninterface IAPIRequest extends IBrowserFSMessage {\n  method: string;\n  args: Array<number | string | ISpecialArgument>;\n}\n\ninterface IAPIResponse extends IBrowserFSMessage {\n  cbId: number;\n  args: Array<number | string | ISpecialArgument>;\n}\n\n/**\n * Represents a remote file in a different worker/thread.\n */\nclass WorkerFile extends preload_file.PreloadFile {\n  private _remoteFdId: number;\n\n  constructor(_fs: WorkerFS, _path: string, _flag: file_flag.FileFlag, _stat: node_fs_stats.Stats, remoteFdId: number, contents?: NodeBuffer) {\n    super(_fs, _path, _flag, _stat, contents);\n    this._remoteFdId = remoteFdId;\n  }\n\n  public getRemoteFdId() {\n    return this._remoteFdId;\n  }\n\n  public toRemoteArg(): IFileDescriptorArgument {\n    return {\n      type: SpecialArgType.FD,\n      id: this._remoteFdId,\n      data: (<buffer.Buffer> this.getBuffer()).toArrayBuffer(),\n      stat: (<buffer.Buffer> this.getStats().toBuffer()).toArrayBuffer(),\n      path: this.getPath(),\n      flag: this.getFlag().getFlagString()\n    };\n  }\n  \n  private _syncClose(type: string, cb: (e?: api_error.ApiError) => void): void {\n    if (this.isDirty()) {\n      (<WorkerFS> this._fs).syncClose(type, this, (e?: api_error.ApiError) => {\n        if (!e) {\n          this.resetDirty();\n        }\n        cb(e);\n      });\n    } else {\n      cb();\n    }\n  }\n\n  public sync(cb: (e?: api_error.ApiError) => void): void {\n    this._syncClose('sync', cb);\n  }\n\n  public close(cb: (e?: api_error.ApiError) => void): void {\n    this._syncClose('close', cb);\n  }\n}\n\n/**\n * WorkerFS lets you access a BrowserFS instance that is running in a different\n * JavaScript context (e.g. access BrowserFS in one of your WebWorkers, or\n * access BrowserFS running on the main page from a WebWorker).\n *\n * For example, to have a WebWorker access files in the main browser thread,\n * do the following:\n *\n * MAIN BROWSER THREAD:\n * ```\n *   // Listen for remote file system requests.\n *   BrowserFS.FileSystem.WorkerFS.attachRemoteListener(webWorkerObject);\n * ``\n *\n * WEBWORKER THREAD:\n * ```\n *   // Set the remote file system as the root file system.\n *   BrowserFS.initialize(new BrowserFS.FileSystem.WorkerFS(self));\n * ```\n *\n * Note that synchronous operations are not permitted on the WorkerFS, regardless\n * of the configuration option of the remote FS.\n */\nexport class WorkerFS extends file_system.BaseFileSystem implements file_system.FileSystem {\n  private _worker: Worker;\n  private _callbackConverter = new CallbackArgumentConverter();\n\n  private _isInitialized: boolean = false;\n  private _isReadOnly: boolean = false;\n  private _supportLinks: boolean = false;\n  private _supportProps: boolean = false;\n\n  /**\n   * Stores outstanding API requests to the remote BrowserFS instance.\n   */\n  private _outstandingRequests: { [id: number]: () => void } = {};\n\n  /**\n   * Constructs a new WorkerFS instance that connects with BrowserFS running on\n   * the specified worker.\n   */\n  constructor(worker: Worker) {\n    super();\n    this._worker = worker;\n    this._worker.addEventListener('message',(e: MessageEvent) => {\n      if (e.data != null && typeof e.data === 'object' && e.data.hasOwnProperty('browserfsMessage') && e.data['browserfsMessage']) {\n        var resp: IAPIResponse = e.data, i: number, args = resp.args, fixedArgs = new Array(args.length);\n        // Dispatch event to correct id.\n        for (i = 0; i < fixedArgs.length; i++) {\n          fixedArgs[i] = this._argRemote2Local(args[i]);\n        }\n        this._callbackConverter.toLocalArg(resp.cbId).apply(null, fixedArgs);\n      }\n    });\n  }\n\n  public static isAvailable(): boolean {\n    return typeof Worker !== 'undefined';\n  }\n\n  public getName(): string {\n    return 'WorkerFS';\n  }\n\n  private _argRemote2Local(arg: any): any {\n    if (arg == null) {\n      return arg;\n    }\n    switch (typeof arg) {\n      case 'object':\n        if (arg['type'] != null && typeof arg['type'] === 'number') {\n          var specialArg = <ISpecialArgument> arg;\n          switch (specialArg.type) {\n            case SpecialArgType.ERROR:\n              return errorRemote2Local(<IErrorArgument> specialArg);\n            case SpecialArgType.FD:\n              var fdArg = <IFileDescriptorArgument> specialArg;\n              return new WorkerFile(this, fdArg.path, file_flag.FileFlag.getFileFlag(fdArg.flag), node_fs_stats.Stats.fromBuffer(new Buffer(fdArg.stat)), fdArg.id, new Buffer(fdArg.data));\n            case SpecialArgType.STATS:\n              return statsRemote2Local(<IStatsArgument> specialArg);\n            case SpecialArgType.FILEFLAG:\n              return fileFlagRemote2Local(<IFileFlagArgument> specialArg);\n            case SpecialArgType.BUFFER:\n              return bufferRemote2Local(<IBufferArgument> specialArg);\n            default:\n              return arg;\n          }\n        } else {\n          return arg;\n        }\n      default:\n        return arg;\n    }\n  }\n\n  private _argLocal2Remote(arg: any): any {\n    if (arg == null) {\n      return arg;\n    }\n    switch (typeof arg) {\n      case \"object\":\n        if (arg instanceof node_fs_stats.Stats) {\n          return statsLocal2Remote(arg);\n        } else if (arg instanceof api_error.ApiError) {\n          return errorLocal2Remote(arg);\n        } else if (arg instanceof WorkerFile) {\n          return (<WorkerFile> arg).toRemoteArg();\n        } else if (arg instanceof file_flag.FileFlag) {\n          return fileFlagLocal2Remote(arg);\n        } else if (arg instanceof Buffer) {\n          return bufferLocal2Remote(arg);\n        } else {\n          return arg;\n        }\n      case \"function\":\n        return this._callbackConverter.toRemoteArg(arg);\n      default:\n        return arg;\n    }\n  }\n\n  /**\n   * Called once both local and remote sides are set up.\n   */\n  public initialize(cb: () => void): void {\n    if (!this._isInitialized) {\n      var message: IAPIRequest = {\n        browserfsMessage: true,\n        method: 'probe',\n        args: [this._callbackConverter.toRemoteArg((probeResponse: IProbeResponse) => {\n          this._isInitialized = true;\n          this._isReadOnly = probeResponse.isReadOnly;\n          this._supportLinks = probeResponse.supportsLinks;\n          this._supportProps = probeResponse.supportsProps;\n          cb();\n        })]\n      };\n      this._worker.postMessage(message);\n    } else {\n      cb();\n    }\n  }\n\n  public isReadOnly(): boolean { return this._isReadOnly; }\n  public supportsSynch(): boolean { return false; }\n  public supportsLinks(): boolean { return this._supportLinks; }\n  public supportsProps(): boolean { return this._supportProps; }\n\n  private _rpc(methodName: string, args: IArguments) {\n    var message: IAPIRequest = {\n      browserfsMessage: true,\n      method: methodName,\n      args: null\n    }, fixedArgs = new Array(args.length), i: number;\n    for (i = 0; i < args.length; i++) {\n      fixedArgs[i] = this._argLocal2Remote(args[i]);\n    }\n    message.args = fixedArgs;\n    this._worker.postMessage(message);\n  }\n\n  public rename(oldPath: string, newPath: string, cb: (err?: api_error.ApiError) => void): void {\n    this._rpc('rename', arguments);\n  }\n  public stat(p: string, isLstat: boolean, cb: (err: api_error.ApiError, stat?: node_fs_stats.Stats) => void): void {\n    this._rpc('stat', arguments);\n  }\n  public open(p: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError, fd?: file.File) => any): void {\n    this._rpc('open', arguments);\n  }\n  public unlink(p: string, cb: Function): void {\n    this._rpc('unlink', arguments);\n  }\n  public rmdir(p: string, cb: Function): void {\n    this._rpc('rmdir', arguments);\n  }\n  public mkdir(p: string, mode: number, cb: Function): void {\n    this._rpc('mkdir', arguments);\n  }\n  public readdir(p: string, cb: (err: api_error.ApiError, files?: string[]) => void): void {\n    this._rpc('readdir', arguments);\n  }\n  public exists(p: string, cb: (exists: boolean) => void): void {\n    this._rpc('exists', arguments);\n  }\n  public realpath(p: string, cache: { [path: string]: string }, cb: (err: api_error.ApiError, resolvedPath?: string) => any): void {\n    this._rpc('realpath', arguments);\n  }\n  public truncate(p: string, len: number, cb: Function): void {\n    this._rpc('truncate', arguments);\n  }\n  public readFile(fname: string, encoding: string, flag: file_flag.FileFlag, cb: (err: api_error.ApiError, data?: any) => void): void {\n    this._rpc('readFile', arguments);\n  }\n  public writeFile(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError) => void): void {\n    this._rpc('writeFile', arguments);\n  }\n  public appendFile(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError) => void): void {\n    this._rpc('appendFile', arguments);\n  }\n  public chmod(p: string, isLchmod: boolean, mode: number, cb: Function): void {\n    this._rpc('chmod', arguments);\n  }\n  public chown(p: string, isLchown: boolean, uid: number, gid: number, cb: Function): void {\n    this._rpc('chown', arguments);\n  }\n  public utimes(p: string, atime: Date, mtime: Date, cb: Function): void {\n    this._rpc('utimes', arguments);\n  }\n  public link(srcpath: string, dstpath: string, cb: Function): void {\n    this._rpc('link', arguments);\n  }\n  public symlink(srcpath: string, dstpath: string, type: string, cb: Function): void {\n    this._rpc('symlink', arguments);\n  }\n  public readlink(p: string, cb: Function): void {\n    this._rpc('readlink', arguments);\n  }\n\n  public syncClose(method: string, fd: file.File, cb: (e: api_error.ApiError) => void): void {\n    this._worker.postMessage(<IAPIRequest> {\n      browserfsMessage: true,\n      method: method,\n      args: [(<WorkerFile> fd).toRemoteArg(), this._callbackConverter.toRemoteArg(cb)]\n    });\n  }\n\n  /**\n   * Attaches a listener to the remote worker for file system requests.\n   */\n  public static attachRemoteListener(worker: Worker) {\n    var fdConverter = new FileDescriptorArgumentConverter(),\n      fs = browserfs.BFSRequire('fs');\n\n    function argLocal2Remote(arg: any, requestArgs: any[], cb: (err: api_error.ApiError, arg?: any) => void): void {\n      switch (typeof arg) {\n        case 'object':\n          if (arg instanceof node_fs_stats.Stats) {\n            cb(null, statsLocal2Remote(arg));\n          } else if (arg instanceof api_error.ApiError) {\n            cb(null, errorLocal2Remote(arg));\n          } else if (arg instanceof file.BaseFile) {\n            // Pass in p and flags from original request.\n            cb(null, fdConverter.toRemoteArg(arg, requestArgs[0], requestArgs[1], cb));\n          } else if (arg instanceof file_flag.FileFlag) {\n            cb(null, fileFlagLocal2Remote(arg));\n          } else if (arg instanceof Buffer) {\n            cb(null, bufferLocal2Remote(arg));\n          } else {\n            cb(null, arg);\n          }\n          break;\n        default:\n          cb(null, arg);\n          break;\n      }\n    }\n\n    function argRemote2Local(arg: any, fixedRequestArgs: any[]): any {\n      if (arg == null) {\n        return arg;\n      }\n      switch (typeof arg) {\n        case 'object':\n          if (typeof arg['type'] === 'number') {\n            var specialArg = <ISpecialArgument> arg;\n            switch (specialArg.type) {\n              case SpecialArgType.CB:\n                var cbId = (<ICallbackArgument> arg).id;\n                return function() {\n                  var i: number, fixedArgs = new Array(arguments.length),\n                    message: IAPIResponse,\n                    countdown = arguments.length;\n\n                  function abortAndSendError(err: api_error.ApiError) {\n                    if (countdown > 0) {\n                      countdown = -1;\n                      message = {\n                        browserfsMessage: true,\n                        cbId: cbId,\n                        args: [errorLocal2Remote(err)]\n                      };\n                      worker.postMessage(message);\n                    }\n                  }\n\n\n                  for (i = 0; i < arguments.length; i++) {\n                    // Capture i and argument.\n                    ((i: number, arg: any) => {\n                      argLocal2Remote(arg, fixedRequestArgs, (err, fixedArg?) => {\n                        fixedArgs[i] = fixedArg;\n                        if (err) {\n                          abortAndSendError(err);\n                        } else if (--countdown === 0) {\n                          message = {\n                            browserfsMessage: true,\n                            cbId: cbId,\n                            args: fixedArgs\n                          };\n                          worker.postMessage(message);\n                        }\n                      });\n                    })(i, arguments[i]);\n                  }\n\n                  if (arguments.length === 0) {\n                    message = {\n                      browserfsMessage: true,\n                      cbId: cbId,\n                      args: fixedArgs\n                    };\n                    worker.postMessage(message);\n                  }\n\n                };\n              case SpecialArgType.ERROR:\n                return errorRemote2Local(<IErrorArgument> specialArg);\n              case SpecialArgType.STATS:\n                return statsRemote2Local(<IStatsArgument> specialArg);\n              case SpecialArgType.FILEFLAG:\n                return fileFlagRemote2Local(<IFileFlagArgument> specialArg);\n              case SpecialArgType.BUFFER:\n                return bufferRemote2Local(<IBufferArgument> specialArg);\n              default:\n                // No idea what this is.\n                return arg;\n            }\n          } else {\n            return arg;\n          }\n        default:\n          return arg;\n      }\n    }\n\n    worker.addEventListener('message',(e: MessageEvent) => {\n      if (e.data != null && typeof e.data === 'object' && e.data.hasOwnProperty('browserfsMessage') && e.data['browserfsMessage']) {\n        var request: IAPIRequest = e.data,\n          args = request.args,\n          fixedArgs = new Array<any>(args.length),\n          i: number;\n\n        switch (request.method) {\n          case 'close':\n          case 'sync':\n            (() => {\n              // File descriptor-relative methods.\n              var remoteCb = <ICallbackArgument> args[1];\n              fdConverter.applyFdAPIRequest(request, (err?: api_error.ApiError) => {\n                // Send response.\n                var response: IAPIResponse = {\n                  browserfsMessage: true,\n                  cbId: remoteCb.id,\n                  args: err ? [errorLocal2Remote(err)] : []\n                };\n                worker.postMessage(response);\n              });\n            })();\n            break;\n          case 'probe':\n            (() => {\n              var rootFs = <file_system.FileSystem> fs.getRootFS(),\n                remoteCb = <ICallbackArgument> args[0],\n                response: IAPIResponse = {\n                  browserfsMessage: true,\n                  cbId: remoteCb.id,\n                  args: [<IProbeResponse> {\n                    type: SpecialArgType.PROBE,\n                    isReadOnly: rootFs.isReadOnly(),\n                    supportsLinks: rootFs.supportsLinks(),\n                    supportsProps: rootFs.supportsProps()\n                  }]\n                };\n              worker.postMessage(response);\n            })();\n            break;\n          default:\n            // File system methods.\n            for (i = 0; i < args.length; i++) {\n              fixedArgs[i] = argRemote2Local(args[i], fixedArgs);\n            }\n            var rootFS = fs.getRootFS();\n            (<Function> rootFS[request.method]).apply(rootFS, fixedArgs);\n            break;\n        }\n      }\n    });\n  }\n}\n\nbrowserfs.registerFileSystem('WorkerFS', WorkerFS);\n",
    "/**\n * Zip file-backed filesystem\n * Implemented according to the standard:\n * http://www.pkware.com/documents/casestudies/APPNOTE.TXT\n *\n * While there are a few zip libraries for JavaScript (e.g. JSZip and zip.js),\n * they are not a good match for BrowserFS. In particular, these libraries\n * perform a lot of unneeded data copying, and eagerly decompress every file\n * in the zip file upon loading to check the CRC32. They also eagerly decode\n * strings. Furthermore, these libraries duplicate functionality already present\n * in BrowserFS (e.g. UTF-8 decoding and binary data manipulation).\n *\n * This filesystem takes advantage of BrowserFS's Buffer implementation, which\n * efficiently represents the zip file in memory (in both ArrayBuffer-enabled\n * browsers *and* non-ArrayBuffer browsers), and which can neatly be 'sliced'\n * without copying data. Each struct defined in the standard is represented with\n * a buffer slice pointing to an offset in the zip file, and has getters for\n * each field. As we anticipate that this data will not be read often, we choose\n * not to store each struct field in the JavaScript object; instead, to reduce\n * memory consumption, we retrieve it directly from the binary data each time it\n * is requested.\n *\n * When the filesystem is instantiated, we determine the directory structure\n * of the zip file as quickly as possible. We lazily decompress and check the\n * CRC32 of files. We cache decompressed files for quick later retrieval.\n *\n * For inflation, we use `zlib.js`'s implementation:\n * https://github.com/imaya/zlib.js\n *\n * Unfortunately, their implementation falls back to an array of bytes for non-\n * TypedArray browsers, which is results in a much larger memory footprint in\n * those browsers. Perhaps one day we'll have an implementation of inflate that\n * works on Buffers? :)\n *\n * Current limitations:\n * * No encryption.\n * * No ZIP64 support.\n * * Read-only.\n *   Write support would require that we:\n *   - Keep track of changed/new files.\n *   - Compress changed files, and generate appropriate metadata for each.\n *   - Update file offsets for other files in the zip file.\n *   - Stream it out to a location.\n *   This isn't that bad, so we might do this at a later date.\n */\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\nimport file_index = require('../generic/file_index');\nimport browserfs = require('../core/browserfs');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport file_system = require('../core/file_system');\nimport file = require('../core/file');\nimport file_flag = require('../core/file_flag');\nimport buffer_core_arraybuffer = require('../core/buffer_core_arraybuffer');\nimport preload_file = require('../generic/preload_file');\nvar inflateRaw: {\n  (data: Uint8Array | number[], options?: {\n    chunkSize: number;\n  }): Uint8Array | number[];\n} = require('zlib-inflate').inflateRaw;\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\nvar ActionType = file_flag.ActionType;\n\n\n/**\n * 4.4.2.2: Indicates the compatibiltiy of a file's external attributes.\n */\nexport enum ExternalFileAttributeType {\n  MSDOS = 0, AMIGA = 1, OPENVMS = 2, UNIX = 3, VM_CMS = 4, ATARI_ST = 5,\n  OS2_HPFS = 6, MAC = 7, Z_SYSTEM = 8, CP_M = 9, NTFS = 10, MVS = 11, VSE = 12,\n  ACORN_RISC = 13, VFAT = 14, ALT_MVS = 15, BEOS = 16, TANDEM = 17, OS_400 = 18,\n  OSX = 19\n}\n\n/**\n * 4.4.5\n */\nexport enum CompressionMethod {\n  STORED = 0,     // The file is stored (no compression)\n  SHRUNK = 1,     // The file is Shrunk\n  REDUCED_1 = 2,  // The file is Reduced with compression factor 1\n  REDUCED_2 = 3,  // The file is Reduced with compression factor 2\n  REDUCED_3 = 4,  // The file is Reduced with compression factor 3\n  REDUCED_4 = 5,  // The file is Reduced with compression factor 4\n  IMPLODE = 6,    // The file is Imploded\n  DEFLATE = 8,    // The file is Deflated\n  DEFLATE64 = 9,  // Enhanced Deflating using Deflate64(tm)\n  TERSE_OLD = 10, // PKWARE Data Compression Library Imploding (old IBM TERSE)\n  BZIP2 = 12,     // File is compressed using BZIP2 algorithm\n  LZMA = 14,      // LZMA (EFS)\n  TERSE_NEW = 18, // File is compressed using IBM TERSE (new)\n  LZ77 = 19,      // IBM LZ77 z Architecture (PFS)\n  WAVPACK = 97,   // WavPack compressed data\n  PPMD = 98       // PPMd version I, Rev 1\n}\n\n/**\n * Converts the input time and date in MS-DOS format into a JavaScript Date\n * object.\n */\nfunction msdos2date(time: number, date: number): Date {\n  // MS-DOS Date\n  //|0 0 0 0  0|0 0 0  0|0 0 0  0 0 0 0\n  //  D (1-31)  M (1-23)  Y (from 1980)\n  var day = date & 0x1F;\n  // JS date is 0-indexed, DOS is 1-indexed.\n  var month = ((date >> 5) & 0xF) - 1;\n  var year = (date >> 9) + 1980;\n  // MS DOS Time\n  //|0 0 0 0  0|0 0 0  0 0 0|0  0 0 0 0\n  //   Second      Minute       Hour\n  var second = time & 0x1F;\n  var minute = (time >> 5) & 0x3F;\n  var hour = time >> 11;\n  return new Date(year, month, day, hour, minute, second);\n}\n\n/**\n * Safely returns the string from the buffer, even if it is 0 bytes long.\n * (Normally, calling toString() on a buffer with start === end causes an\n * exception).\n */\nfunction safeToString(buff: NodeBuffer, useUTF8: boolean, start: number, length: number): string {\n  return length === 0 ? \"\" : buff.toString(useUTF8 ? 'utf8' : 'extended_ascii', start, start + length);\n}\n\n/*\n   4.3.6 Overall .ZIP file format:\n\n      [local file header 1]\n      [encryption header 1]\n      [file data 1]\n      [data descriptor 1]\n      .\n      .\n      .\n      [local file header n]\n      [encryption header n]\n      [file data n]\n      [data descriptor n]\n      [archive decryption header]\n      [archive extra data record]\n      [central directory header 1]\n      .\n      .\n      .\n      [central directory header n]\n      [zip64 end of central directory record]\n      [zip64 end of central directory locator]\n      [end of central directory record]\n*/\n\n/*\n 4.3.7  Local file header:\n\n      local file header signature     4 bytes  (0x04034b50)\n      version needed to extract       2 bytes\n      general purpose bit flag        2 bytes\n      compression method              2 bytes\n      last mod file time              2 bytes\n      last mod file date              2 bytes\n      crc-32                          4 bytes\n      compressed size                 4 bytes\n      uncompressed size               4 bytes\n      file name length                2 bytes\n      extra field length              2 bytes\n\n      file name (variable size)\n      extra field (variable size)\n */\nexport class FileHeader {\n  constructor(private data: NodeBuffer) {\n    if (data.readUInt32LE(0) !== 0x04034b50) {\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid Zip file: Local file header has invalid signature: \" + this.data.readUInt32LE(0));\n    }\n  }\n  public versionNeeded(): number { return this.data.readUInt16LE(4); }\n  public flags(): number { return this.data.readUInt16LE(6); }\n  public compressionMethod(): CompressionMethod { return this.data.readUInt16LE(8); }\n  public lastModFileTime(): Date {\n    // Time and date is in MS-DOS format.\n    return msdos2date(this.data.readUInt16LE(10), this.data.readUInt16LE(12));\n  }\n  public crc32(): number { return this.data.readUInt32LE(14); }\n  /**\n   * These two values are COMPLETELY USELESS.\n   *\n   * Section 4.4.9:\n   *   If bit 3 of the general purpose bit flag is set,\n   *   these fields are set to zero in the local header and the\n   *   correct values are put in the data descriptor and\n   *   in the central directory.\n   *\n   * So we'll just use the central directory's values.\n   */\n  // public compressedSize(): number { return this.data.readUInt32LE(18); }\n  // public uncompressedSize(): number { return this.data.readUInt32LE(22); }\n  public fileNameLength(): number { return this.data.readUInt16LE(26); }\n  public extraFieldLength(): number { return this.data.readUInt16LE(28); }\n  public fileName(): string {\n    return safeToString(this.data, this.useUTF8(), 30, this.fileNameLength());\n  }\n  public extraField(): NodeBuffer {\n    var start = 30 + this.fileNameLength();\n    return this.data.slice(start, start + this.extraFieldLength());\n  }\n  public totalSize(): number { return 30 + this.fileNameLength() + this.extraFieldLength(); }\n  public useUTF8(): boolean { return (this.flags() & 0x800) === 0x800; }\n}\n\n/**\n  4.3.8  File data\n\n    Immediately following the local header for a file\n    SHOULD be placed the compressed or stored data for the file.\n    If the file is encrypted, the encryption header for the file\n    SHOULD be placed after the local header and before the file\n    data. The series of [local file header][encryption header]\n    [file data][data descriptor] repeats for each file in the\n    .ZIP archive.\n\n    Zero-byte files, directories, and other file types that\n    contain no content MUST not include file data.\n*/\nexport class FileData {\n  constructor(private header: FileHeader, private record: CentralDirectory, private data: NodeBuffer) {}\n  public decompress(): NodeBuffer {\n    var buff = <buffer.Buffer> this.data;\n    // Check the compression\n    var compressionMethod: CompressionMethod = this.header.compressionMethod();\n    switch (compressionMethod) {\n      case CompressionMethod.DEFLATE:\n        // Convert to Uint8Array or an array of bytes for the library.\n        if (buff.getBufferCore() instanceof buffer_core_arraybuffer.BufferCoreArrayBuffer) {\n          // Grab a slice of the zip file that contains the compressed data\n          // (avoids copying).\n          // XXX: Does RawInflate mutate the buffer? I hope not.\n          var bcore = <buffer_core_arraybuffer.BufferCoreArrayBuffer> buff.getBufferCore();\n          var dview = bcore.getDataView();\n          var start = dview.byteOffset + buff.getOffset();\n          var uarray = (new Uint8Array(dview.buffer)).subarray(start, start + this.record.compressedSize());\n          var data: Uint8Array = <Uint8Array> inflateRaw(uarray, {\n            chunkSize: this.record.uncompressedSize()\n          });\n          return new buffer.Buffer(new buffer_core_arraybuffer.BufferCoreArrayBuffer(data.buffer), data.byteOffset, data.byteOffset + data.length);\n        } else {\n          // Convert to an array of bytes and decompress, then write into a new\n          // buffer :(\n          var newBuff = <buffer.Buffer> buff.slice(0, this.record.compressedSize());\n          return new buffer.Buffer(<number[]><any>(inflateRaw(<any> newBuff.toJSON().data, { chunkSize: this.record.uncompressedSize() })));\n        }\n      case CompressionMethod.STORED:\n        // Grab and copy.\n        return buff.sliceCopy(0, this.record.uncompressedSize());\n      default:\n        var name: string = CompressionMethod[compressionMethod];\n        name = name ? name : \"Unknown: \" + compressionMethod;\n        throw new ApiError(ErrorCode.EINVAL, \"Invalid compression method on file '\" + this.header.fileName() + \"': \" + name);\n    }\n  }\n}\n\n/*\n 4.3.9  Data descriptor:\n\n      crc-32                          4 bytes\n      compressed size                 4 bytes\n      uncompressed size               4 bytes\n */\nexport class DataDescriptor {\n  constructor(private data: NodeBuffer) {}\n  public crc32(): number { return this.data.readUInt32LE(0); }\n  public compressedSize(): number { return this.data.readUInt32LE(4); }\n  public uncompressedSize(): number { return this.data.readUInt32LE(8); }\n}\n\n/*\n` 4.3.10  Archive decryption header:\n\n      4.3.10.1 The Archive Decryption Header is introduced in version 6.2\n      of the ZIP format specification.  This record exists in support\n      of the Central Directory Encryption Feature implemented as part of\n      the Strong Encryption Specification as described in this document.\n      When the Central Directory Structure is encrypted, this decryption\n      header MUST precede the encrypted data segment.\n */\n/*\n  4.3.11  Archive extra data record:\n\n        archive extra data signature    4 bytes  (0x08064b50)\n        extra field length              4 bytes\n        extra field data                (variable size)\n\n      4.3.11.1 The Archive Extra Data Record is introduced in version 6.2\n      of the ZIP format specification.  This record MAY be used in support\n      of the Central Directory Encryption Feature implemented as part of\n      the Strong Encryption Specification as described in this document.\n      When present, this record MUST immediately precede the central\n      directory data structure.\n*/\nexport class ArchiveExtraDataRecord {\n  constructor(private data: NodeBuffer) {\n    if (this.data.readUInt32LE(0) !== 0x08064b50) {\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid archive extra data record signature: \" + this.data.readUInt32LE(0));\n    }\n  }\n  public length(): number { return this.data.readUInt32LE(4); }\n  public extraFieldData(): NodeBuffer { return this.data.slice(8, 8 + this.length()); }\n}\n\n/*\n  4.3.13 Digital signature:\n\n        header signature                4 bytes  (0x05054b50)\n        size of data                    2 bytes\n        signature data (variable size)\n\n      With the introduction of the Central Directory Encryption\n      feature in version 6.2 of this specification, the Central\n      Directory Structure MAY be stored both compressed and encrypted.\n      Although not required, it is assumed when encrypting the\n      Central Directory Structure, that it will be compressed\n      for greater storage efficiency.  Information on the\n      Central Directory Encryption feature can be found in the section\n      describing the Strong Encryption Specification. The Digital\n      Signature record will be neither compressed nor encrypted.\n*/\nexport class DigitalSignature {\n  constructor(private data: NodeBuffer) {\n    if (this.data.readUInt32LE(0) !== 0x05054b50) {\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid digital signature signature: \" + this.data.readUInt32LE(0));\n    }\n  }\n  public size(): number { return this.data.readUInt16LE(4); }\n  public signatureData(): NodeBuffer { return this.data.slice(6, 6 + this.size()); }\n}\n\n/*\n  4.3.12  Central directory structure:\n\n    central file header signature   4 bytes  (0x02014b50)\n    version made by                 2 bytes\n    version needed to extract       2 bytes\n    general purpose bit flag        2 bytes\n    compression method              2 bytes\n    last mod file time              2 bytes\n    last mod file date              2 bytes\n    crc-32                          4 bytes\n    compressed size                 4 bytes\n    uncompressed size               4 bytes\n    file name length                2 bytes\n    extra field length              2 bytes\n    file comment length             2 bytes\n    disk number start               2 bytes\n    internal file attributes        2 bytes\n    external file attributes        4 bytes\n    relative offset of local header 4 bytes\n\n    file name (variable size)\n    extra field (variable size)\n    file comment (variable size)\n */\nexport class CentralDirectory {\n  constructor(private zipData: NodeBuffer, private data: NodeBuffer) {\n    // Sanity check.\n    if (this.data.readUInt32LE(0) !== 0x02014b50)\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid Zip file: Central directory record has invalid signature: \" + this.data.readUInt32LE(0));\n  }\n  public versionMadeBy(): number { return this.data.readUInt16LE(4); }\n  public versionNeeded(): number { return this.data.readUInt16LE(6); }\n  public flag(): number { return this.data.readUInt16LE(8); }\n  public compressionMethod(): CompressionMethod { return this.data.readUInt16LE(10); }\n  public lastModFileTime(): Date {\n    // Time and date is in MS-DOS format.\n    return msdos2date(this.data.readUInt16LE(12), this.data.readUInt16LE(14));\n  }\n  public crc32(): number { return this.data.readUInt32LE(16); }\n  public compressedSize(): number { return this.data.readUInt32LE(20); }\n  public uncompressedSize(): number { return this.data.readUInt32LE(24); }\n  public fileNameLength(): number { return this.data.readUInt16LE(28); }\n  public extraFieldLength(): number { return this.data.readUInt16LE(30); }\n  public fileCommentLength(): number { return this.data.readUInt16LE(32); }\n  public diskNumberStart(): number { return this.data.readUInt16LE(34); }\n  public internalAttributes(): number { return this.data.readUInt16LE(36); }\n  public externalAttributes(): number { return this.data.readUInt32LE(38); }\n  public headerRelativeOffset(): number { return this.data.readUInt32LE(42); }\n  public fileName(): string {\n    /*\n      4.4.17.1 claims:\n      * All slashes are forward ('/') slashes.\n      * Filename doesn't begin with a slash.\n      * No drive letters or any nonsense like that.\n      * If filename is missing, the input came from standard input.\n\n      Unfortunately, this isn't true in practice. Some Windows zip utilities use\n      a backslash here, but the correct Unix-style path in file headers.\n\n      To avoid seeking all over the file to recover the known-good filenames\n      from file headers, we simply convert '/' to '\\' here.\n    */\n    var fileName: string = safeToString(this.data, this.useUTF8(), 46, this.fileNameLength());\n    return fileName.replace(/\\\\/g, \"/\");\n  }\n  public extraField(): NodeBuffer {\n    var start = 44 + this.fileNameLength();\n    return this.data.slice(start, start + this.extraFieldLength());\n  }\n  public fileComment(): string {\n    var start = 46 + this.fileNameLength() + this.extraFieldLength();\n    return safeToString(this.data, this.useUTF8(), start, this.fileCommentLength());\n  }\n  public totalSize(): number {\n    return 46 + this.fileNameLength() + this.extraFieldLength() + this.fileCommentLength();\n  }\n  public isDirectory(): boolean {\n    // NOTE: This assumes that the zip file implementation uses the lower byte\n    //       of external attributes for DOS attributes for\n    //       backwards-compatibility. This is not mandated, but appears to be\n    //       commonplace.\n    //       According to the spec, the layout of external attributes is\n    //       platform-dependent.\n    //       If that fails, we also check if the name of the file ends in '/',\n    //       which is what Java's ZipFile implementation does.\n    var fileName = this.fileName();\n    return (this.externalAttributes() & 0x10 ? true : false) || (fileName.charAt(fileName.length-1) === '/');\n  }\n  public isFile(): boolean { return !this.isDirectory(); }\n  public useUTF8(): boolean { return (this.flag() & 0x800) === 0x800; }\n  public isEncrypted(): boolean { return (this.flag() & 0x1) === 0x1; }\n  public getData(): NodeBuffer {\n    // Need to grab the header before we can figure out where the actual\n    // compressed data starts.\n    var start = this.headerRelativeOffset();\n    var header = new FileHeader(this.zipData.slice(start));\n    var filedata = new FileData(header, this, this.zipData.slice(start + header.totalSize()));\n    return filedata.decompress();\n  }\n  public getStats(): node_fs_stats.Stats {\n    return new node_fs_stats.Stats(node_fs_stats.FileType.FILE, this.uncompressedSize(), 0x16D, new Date(), this.lastModFileTime());\n  }\n}\n\n/*\n  4.3.16: end of central directory record\n    end of central dir signature    4 bytes  (0x06054b50)\n    number of this disk             2 bytes\n    number of the disk with the\n    start of the central directory  2 bytes\n    total number of entries in the\n    central directory on this disk  2 bytes\n    total number of entries in\n    the central directory           2 bytes\n    size of the central directory   4 bytes\n    offset of start of central\n    directory with respect to\n    the starting disk number        4 bytes\n    .ZIP file comment length        2 bytes\n    .ZIP file comment       (variable size)\n*/\nexport class EndOfCentralDirectory {\n  constructor(private data: NodeBuffer) {\n    if (this.data.readUInt32LE(0) !== 0x06054b50)\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid Zip file: End of central directory record has invalid signature: \" + this.data.readUInt32LE(0));\n  }\n  public diskNumber(): number { return this.data.readUInt16LE(4); }\n  public cdDiskNumber(): number { return this.data.readUInt16LE(6); }\n  public cdDiskEntryCount(): number { return this.data.readUInt16LE(8); }\n  public cdTotalEntryCount(): number { return this.data.readUInt16LE(10); }\n  public cdSize(): number { return this.data.readUInt32LE(12); }\n  public cdOffset(): number { return this.data.readUInt32LE(16); }\n  public cdZipComment(): string {\n    // Assuming UTF-8. The specification doesn't specify.\n    return safeToString(this.data, true, 22, this.data.readUInt16LE(20));\n  }\n}\n\nexport class ZipFS extends file_system.SynchronousFileSystem implements file_system.FileSystem {\n  private _index: file_index.FileIndex = new file_index.FileIndex();\n  /**\n   * Constructs a ZipFS from the given zip file data. Name is optional, and is\n   * used primarily for our unit tests' purposes to differentiate different\n   * test zip files in test output.\n   */\n  constructor(private data: NodeBuffer, private name: string = '') {\n    super();\n    this.populateIndex();\n  }\n\n  public getName(): string {\n    return 'ZipFS' + (this.name !== '' ? ' ' + this.name : '');\n  }\n\n  public static isAvailable(): boolean { return true; }\n\n  public diskSpace(path: string, cb: (total: number, free: number) => void): void {\n    // Read-only file system.\n    cb(this.data.length, 0);\n  }\n\n  public isReadOnly(): boolean {\n    return true;\n  }\n\n  public supportsLinks(): boolean {\n    return false;\n  }\n\n  public supportsProps(): boolean {\n    return false;\n  }\n\n  public supportsSynch(): boolean {\n    return true;\n  }\n\n  public statSync(path: string, isLstat: boolean): node_fs_stats.Stats {\n    var inode = this._index.getInode(path);\n    if (inode === null) {\n      throw new ApiError(ErrorCode.ENOENT, \"\" + path + \" not found.\");\n    }\n    var stats: node_fs_stats.Stats;\n    if (inode.isFile()) {\n      stats = (<file_index.FileInode<CentralDirectory>> inode).getData().getStats();\n    } else {\n      stats = (<file_index.DirInode> inode).getStats();\n    }\n    return stats;\n  }\n\n  public openSync(path: string, flags: file_flag.FileFlag, mode: number): file.File {\n    // INVARIANT: Cannot write to RO file systems.\n    if (flags.isWriteable()) {\n      throw new ApiError(ErrorCode.EPERM, path);\n    }\n    // Check if the path exists, and is a file.\n    var inode = <file_index.FileInode<CentralDirectory>> this._index.getInode(path);\n    if (inode === null) {\n      throw new ApiError(ErrorCode.ENOENT, \"\" + path + \" is not in the FileIndex.\");\n    }\n    if (inode.isDir()) {\n      throw new ApiError(ErrorCode.EISDIR, \"\" + path + \" is a directory.\");\n    }\n    var cdRecord = inode.getData();\n    var stats = cdRecord.getStats();\n    switch (flags.pathExistsAction()) {\n      case ActionType.THROW_EXCEPTION:\n      case ActionType.TRUNCATE_FILE:\n        throw new ApiError(ErrorCode.EEXIST, \"\" + path + \" already exists.\");\n      case ActionType.NOP:\n        return new preload_file.NoSyncFile(this, path, flags, stats, cdRecord.getData());\n      default:\n        throw new ApiError(ErrorCode.EINVAL, 'Invalid FileMode object.');\n    }\n    return null;\n  }\n\n  public readdirSync(path: string): string[] {\n    // Check if it exists.\n    var inode = this._index.getInode(path);\n    if (inode === null) {\n      throw new ApiError(ErrorCode.ENOENT, \"\" + path + \" not found.\");\n    } else if (inode.isFile()) {\n      throw new ApiError(ErrorCode.ENOTDIR, \"\" + path + \" is a file, not a directory.\");\n    }\n    return (<file_index.DirInode> inode).getListing();\n  }\n\n  /**\n   * Specially-optimized readfile.\n   */\n  public readFileSync(fname: string, encoding: string, flag: file_flag.FileFlag): any {\n    // Get file.\n    var fd = this.openSync(fname, flag, 0x1a4);\n    try {\n      var fdCast = <preload_file.NoSyncFile> fd;\n      var fdBuff = <buffer.Buffer> fdCast.getBuffer();\n      if (encoding === null) {\n        if (fdBuff.length > 0) {\n          return fdBuff.sliceCopy();\n        } else {\n          return new buffer.Buffer(0);\n        }\n      }\n      return fdBuff.toString(encoding);\n    } finally {\n      fd.closeSync();\n    }\n  }\n\n  /**\n   * Locates the end of central directory record at the end of the file.\n   * Throws an exception if it cannot be found.\n   */\n  private getEOCD(): EndOfCentralDirectory {\n    // Unfortunately, the comment is variable size and up to 64K in size.\n    // We assume that the magic signature does not appear in the comment, and\n    // in the bytes between the comment and the signature. Other ZIP\n    // implementations make this same assumption, since the alternative is to\n    // read thread every entry in the file to get to it. :(\n    // These are *negative* offsets from the end of the file.\n    var startOffset = 22;\n    var endOffset = Math.min(startOffset + 0xFFFF, this.data.length - 1);\n    // There's not even a byte alignment guarantee on the comment so we need to\n    // search byte by byte. *grumble grumble*\n    for (var i = startOffset; i < endOffset; i++) {\n      // Magic number: EOCD Signature\n      if (this.data.readUInt32LE(this.data.length - i) === 0x06054b50) {\n        return new EndOfCentralDirectory(this.data.slice(this.data.length - i));\n      }\n    }\n    throw new ApiError(ErrorCode.EINVAL, \"Invalid ZIP file: Could not locate End of Central Directory signature.\");\n  }\n\n  private populateIndex() {\n    var eocd: EndOfCentralDirectory = this.getEOCD();\n    if (eocd.diskNumber() !== eocd.cdDiskNumber())\n      throw new ApiError(ErrorCode.EINVAL, \"ZipFS does not support spanned zip files.\");\n\n    var cdPtr = eocd.cdOffset();\n    if (cdPtr === 0xFFFFFFFF)\n      throw new ApiError(ErrorCode.EINVAL, \"ZipFS does not support Zip64.\");\n    var cdEnd = cdPtr + eocd.cdSize();\n    while (cdPtr < cdEnd) {\n      var cd: CentralDirectory = new CentralDirectory(this.data, this.data.slice(cdPtr));\n      cdPtr += cd.totalSize();\n      // Paths must be absolute, yet zip file paths are always relative to the\n      // zip root. So we append '/' and call it a day.\n      var filename = cd.fileName();\n      if (filename.charAt(0) === '/') throw new Error(\"WHY IS THIS ABSOLUTE\");\n      // XXX: For the file index, strip the trailing '/'.\n      if (filename.charAt(filename.length - 1) === '/') {\n        filename = filename.substr(0, filename.length-1);\n      }\n      if (cd.isDirectory()) {\n        this._index.addPath('/' + filename, new file_index.DirInode());\n      } else {\n        this._index.addPath('/' + filename, new file_index.FileInode<CentralDirectory>(cd));\n      }\n    }\n  }\n}\n\nbrowserfs.registerFileSystem('ZipFS', ZipFS);\n",
    "import buffer = require(\"./buffer\");\nimport Buffer = buffer.Buffer;\n\n/**\n * Standard libc error codes. Add more to this enum and ErrorStrings as they are\n * needed.\n * @url http://www.gnu.org/software/libc/manual/html_node/Error-Codes.html\n */\nexport enum ErrorCode {\n  EPERM, ENOENT, EIO, EBADF, EACCES, EBUSY, EEXIST, ENOTDIR, EISDIR, EINVAL,\n  EFBIG, ENOSPC, EROFS, ENOTEMPTY, ENOTSUP\n}\n/**\n * Strings associated with each error code.\n */\nvar ErrorStrings: {[code: string]: string} = {};\nErrorStrings[ErrorCode.EPERM] = 'Operation not permitted.';\nErrorStrings[ErrorCode.ENOENT] = 'No such file or directory.';\nErrorStrings[ErrorCode.EIO] = 'Input/output error.';\nErrorStrings[ErrorCode.EBADF] = 'Bad file descriptor.';\nErrorStrings[ErrorCode.EACCES] = 'Permission denied.';\nErrorStrings[ErrorCode.EBUSY] = 'Resource busy or locked.';\nErrorStrings[ErrorCode.EEXIST] = 'File exists.';\nErrorStrings[ErrorCode.ENOTDIR] = 'File is not a directory.';\nErrorStrings[ErrorCode.EISDIR] = 'File is a directory.';\nErrorStrings[ErrorCode.EINVAL] = 'Invalid argument.';\nErrorStrings[ErrorCode.EFBIG] = 'File is too big.';\nErrorStrings[ErrorCode.ENOSPC] = 'No space left on disk.';\nErrorStrings[ErrorCode.EROFS] = 'Cannot modify a read-only file system.';\nErrorStrings[ErrorCode.ENOTEMPTY] = 'Directory is not empty.';\nErrorStrings[ErrorCode.ENOTSUP] = 'Operation is not supported.';\n\n/**\n * Represents a BrowserFS error. Passed back to applications after a failed\n * call to the BrowserFS API.\n */\nexport class ApiError {\n  public type: ErrorCode;\n  public message: string;\n  public code: string;\n\n  /**\n   * Represents a BrowserFS error. Passed back to applications after a failed\n   * call to the BrowserFS API.\n   *\n   * Error codes mirror those returned by regular Unix file operations, which is\n   * what Node returns.\n   * @constructor ApiError\n   * @param type The type of the error.\n   * @param [message] A descriptive error message.\n   */\n  constructor(type: ErrorCode, message?:string) {\n    this.type = type;\n    this.code = ErrorCode[type];\n    if (message != null) {\n      this.message = message;\n    } else {\n      this.message = ErrorStrings[type];\n    }\n  }\n\n  /**\n   * @return A friendly error message.\n   */\n  public toString(): string {\n    return this.code +  \": \" + ErrorStrings[this.type] + \" \" + this.message;\n  }\n\n  /**\n   * Writes the API error into a buffer.\n   */\n  public writeToBuffer(buffer: Buffer = new Buffer(this.bufferSize()), i: number = 0): Buffer {\n    buffer.writeUInt8(this.type, i);\n    var bytesWritten = buffer.write(this.message, i + 5);\n    buffer.writeUInt32LE(bytesWritten, i + 1);\n    return buffer;\n  }\n\n  /**\n   * Creates an ApiError object from a buffer.\n   */\n  public static fromBuffer(buffer: Buffer, i: number = 0): ApiError {\n    return new ApiError(buffer.readUInt8(i), buffer.toString(\"utf8\", i + 5, i + 5 + buffer.readUInt32LE(i + 1)));\n  }\n\n  /**\n   * The size of the API error in buffer-form in bytes.\n   */\n  public bufferSize(): number {\n    // 4 bytes for string length, 1 for type.\n    return 5 + Buffer.byteLength(this.message);\n  }\n\n  public static FileError(code: ErrorCode, p: string): ApiError {\n    return new ApiError(code, p + \": \" + ErrorStrings[code]);\n  }\n  public static ENOENT(path: string): ApiError {\n    return this.FileError(ErrorCode.ENOENT, path);\n  }\n\n  public static EEXIST(path: string): ApiError {\n    return this.FileError(ErrorCode.EEXIST, path);\n  }\n\n  public static EISDIR(path: string): ApiError {\n    return this.FileError(ErrorCode.EISDIR, path);\n  }\n\n  public static ENOTDIR(path: string): ApiError {\n    return this.FileError(ErrorCode.ENOTDIR, path);\n  }\n\n  public static EPERM(path: string): ApiError {\n    return this.FileError(ErrorCode.EPERM, path);\n  }\n}\n",
    "import buffer = require('./buffer');\nimport fs = require('./node_fs');\nimport path = require('./node_path');\nimport node_process = require('./node_process');\nimport file_system = require('./file_system');\n\n/**\n * Installs BrowserFS onto the given object.\n * We recommend that you run install with the 'window' object to make things\n * global, as in Node.\n *\n * Properties installed:\n *\n * * Buffer\n * * process\n * * require (we monkey-patch it)\n *\n * This allows you to write code as if you were running inside Node.\n * @param {object} obj - The object to install things onto (e.g. window)\n */\nexport function install(obj: any) {\n  obj.Buffer = buffer.Buffer;\n  obj.process = node_process.process;\n  var oldRequire = obj.require != null ? obj.require : null;\n  // Monkey-patch require for Node-style code.\n  obj.require = function(arg: string) {\n    var rv = BFSRequire(arg);\n    if (rv == null) {\n      return oldRequire.apply(null, Array.prototype.slice.call(arguments, 0))\n    } else {\n      return rv;\n    }\n  };\n}\n\nexport var FileSystem: {[name: string]: any} = {};\nexport function registerFileSystem(name: string, fs: file_system.FileSystemConstructor) {\n  FileSystem[name] = fs;\n}\n\nexport function BFSRequire(module: string) {\n  switch(module) {\n    case 'fs':\n      return fs;\n    case 'path':\n      return path;\n    case 'buffer':\n      // The 'buffer' module has 'Buffer' as a property.\n      return buffer;\n    case 'process':\n      return node_process.process;\n    default:\n      return FileSystem[module];\n  }\n}\n\n/**\n * You must call this function with a properly-instantiated root file system\n * before using any file system API method.\n * @param {BrowserFS.FileSystem} rootFS - The root filesystem to use for the\n *   entire BrowserFS file system.\n */\nexport function initialize(rootfs: file_system.FileSystem) {\n  return fs._initialize(rootfs);\n}\n",
    "/// <reference path=\"../DataView.d.ts\" />\n/**\n * Buffer module. Exports an appropriate version of Buffer for the current\n * platform.\n */\nimport buffer_core = require('./buffer_core');\nimport buffer_core_array = require('./buffer_core_array');\nimport buffer_core_arraybuffer = require('./buffer_core_arraybuffer');\nimport buffer_core_imagedata = require('./buffer_core_imagedata');\nimport string_util = require('./string_util');\n\n// BC implementations earlier in the array are preferred.\nvar BufferCorePreferences: buffer_core.BufferCoreImplementation[] = [\n  buffer_core_arraybuffer.BufferCoreArrayBuffer,\n  buffer_core_imagedata.BufferCoreImageData,\n  buffer_core_array.BufferCoreArray\n];\n\nvar PreferredBufferCore: buffer_core.BufferCoreImplementation = (function(): buffer_core.BufferCoreImplementation {\n  var i: number, bci: buffer_core.BufferCoreImplementation;\n  for (i = 0; i < BufferCorePreferences.length; i++) {\n    bci = BufferCorePreferences[i];\n    if (bci.isAvailable()) return bci;\n  }\n  // Should never happen; Array works in all browsers.\n  throw new Error(\"This browser does not support any available BufferCore implementations.\");\n})();\n\n/**\n * We extend Node's buffer interface to account for differences in the browser\n * environment.\n */\nexport interface BFSBuffer extends NodeBuffer {\n  // It's not tractable to emulate array indexing by defining numeric properties\n  // for each index of the buffer, so we have getters/setters.\n  get(index: number): number;\n  set(index: number, value: number): void;\n  // Used by backends to get the backing data.\n  getBufferCore(): buffer_core.BufferCore;\n  // Used by backends in conjunction with getBufferCore() and the length\n  // property to determine which segment of the backing memory is applicable\n  // for a given operation.\n  getOffset(): number;\n  // Like Buffer.slice, but copies the Buffer contents.\n  sliceCopy(start?: number, end?: number): NodeBuffer\n}\n\n/**\n * Superset of the Buffer singleton described in node.d.ts.\n */\nexport interface BFSBufferImplementation {\n  new (ab: ArrayBuffer): NodeBuffer;\n  new (str: string, encoding?: string): NodeBuffer;\n  new (size: number): NodeBuffer;\n  new (array: any[]): NodeBuffer;\n  isBuffer(obj: any): boolean;\n  byteLength(string: string, encoding?: string): number;\n  concat(list: NodeBuffer[], totalLength?: number): NodeBuffer;\n}\n\n/**\n * Emulates Node's Buffer API. Wraps a BufferCore object that is responsible\n * for actually writing/reading data from some data representation in memory.\n */\nexport class Buffer implements BFSBuffer {\n  // Note: This array property is *not* true, but it's required to satisfy\n  //       TypeScript typings.\n  [idx: number]: number;\n  private data: buffer_core.BufferCore;\n  private offset: number = 0;\n  public length: number;\n\n  /**\n   * Constructs a buffer.\n   * @param {(number|DataView|ArrayBuffer|Buffer|string)} arg1 - Instantiate a buffer of the indicated size, or\n   *   from the indicated Array or String.\n   * @param {string} [arg2=utf8] - Encoding to use if arg1 is a string\n   */\n  constructor (size: number);\n  constructor (data: any[]);\n  constructor (data: DataView);\n  constructor (data: ArrayBuffer);\n  constructor (data: NodeBuffer);\n  constructor (data: string, encoding?: string);\n  constructor (data: buffer_core.BufferCore, start?: number, end?: number);\n  constructor (arg1: any, arg2: any = 'utf8', arg3?: number) {\n    var i: number;\n    // Node apparently allows you to construct buffers w/o 'new'.\n    if (!(this instanceof Buffer)) {\n      return new Buffer(arg1, arg2);\n    }\n\n    if (arg1 instanceof buffer_core.BufferCoreCommon) {\n      // constructor (data: buffer_core.BufferCore, start?: number, end?: number)\n      this.data = <buffer_core.BufferCore> arg1;\n      var start = typeof arg2 === 'number' ? <number><any> arg2 : 0;\n      var end = typeof arg3 === 'number' ? <number> arg3 : this.data.getLength();\n      this.offset = start;\n      this.length = end - start;\n    } else if (typeof arg1 === 'number') {\n      // constructor (size: number);\n      if (arg1 !== (arg1 >>> 0)) {\n        throw new TypeError('Buffer size must be a uint32.');\n      }\n      this.length = arg1;\n      this.data = new PreferredBufferCore(arg1);\n    } else if (typeof DataView !== 'undefined' && arg1 instanceof DataView) {\n      // constructor (data: DataView);\n      this.data = new buffer_core_arraybuffer.BufferCoreArrayBuffer(<DataView> arg1);\n      this.length = arg1.byteLength;\n    } else if (typeof ArrayBuffer !== 'undefined' && typeof arg1.byteLength === 'number') {\n      // constructor (data: ArrayBuffer);\n      // Note: Can't do 'instanceof ArrayBuffer' in Safari in some cases. :|\n      this.data = new buffer_core_arraybuffer.BufferCoreArrayBuffer(<ArrayBuffer> arg1);\n      this.length = arg1.byteLength;\n    } else if (arg1 instanceof Buffer) {\n      // constructor (data: Buffer);\n      var argBuff = <Buffer> arg1;\n      this.data = new PreferredBufferCore(arg1.length);\n      this.length = arg1.length;\n      argBuff.copy(this);\n    } else if (Array.isArray(arg1) || (arg1 != null && typeof arg1 === 'object' && typeof arg1[0] === 'number')) {\n      // constructor (data: number[]);\n      this.data = new PreferredBufferCore(arg1.length);\n      for (i = 0; i < arg1.length; i++) {\n        this.data.writeUInt8(i, arg1[i]);\n      }\n      this.length = arg1.length;\n    } else if (typeof arg1 === 'string') {\n      // constructor (data: string, encoding?: string);\n      this.length = Buffer.byteLength(arg1, arg2);\n      this.data = new PreferredBufferCore(this.length);\n      this.write(arg1, 0, this.length, arg2);\n    } else {\n      throw new Error(\"Invalid argument to Buffer constructor: \" + arg1);\n    }\n  }\n\n  public getBufferCore(): buffer_core.BufferCore {\n    return this.data;\n  }\n\n  public getOffset(): number {\n    return this.offset;\n  }\n\n  /**\n   * **NONSTANDARD**: Set the octet at index. Emulates NodeJS buffer's index\n   * operation. Octet can be signed or unsigned.\n   * @param {number} index - the index to set the value at\n   * @param {number} value - the value to set at the given index\n   */\n  public set(index: number, value: number): void {\n    // In Node, the following happens:\n    // buffer[0] = -1;\n    // buffer[0]; // 255\n    if (value < 0) {\n      return this.writeInt8(value, index);\n    } else {\n      return this.writeUInt8(value, index);\n    }\n  }\n\n  /**\n   * **NONSTANDARD**: Get the octet at index.\n   * @param {number} index - index to fetch the value at\n   * @return {number} the value at the given index\n   */\n  public get(index: number): number {\n    return this.readUInt8(index);\n  }\n\n  /**\n   * Writes string to the buffer at offset using the given encoding.\n   * If buffer did not contain enough space to fit the entire string, it will\n   * write a partial amount of the string.\n   * @param {string} str - Data to be written to buffer\n   * @param {number} [offset=0] - Offset in the buffer to write to\n   * @param {number} [length=this.length] - Number of bytes to write\n   * @param {string} [encoding=utf8] - Character encoding\n   * @return {number} Number of octets written.\n   */\n  public write(str: string, offset = 0, length = this.length, encoding = 'utf8'): number {\n    // I hate Node's optional arguments.\n    if (typeof offset === 'string') {\n      // 'str' and 'encoding' specified\n      encoding = \"\" + offset;\n      offset = 0;\n      length = this.length;\n    } else if (typeof length === 'string') {\n      // 'str', 'offset', and 'encoding' specified\n      encoding = \"\" + length;\n      length = this.length;\n    }\n    // Don't waste our time if the offset is beyond the buffer length\n    if (offset >= this.length) {\n      return 0;\n    }\n    var strUtil = string_util.FindUtil(encoding);\n    // Are we trying to write past the buffer?\n    length = length + offset > this.length ? this.length - offset : length;\n    offset += this.offset;\n    return strUtil.str2byte(str,\n      // Avoid creating a slice unless it's needed.\n      offset === 0 && length === this.length ? this : new Buffer(this.data, offset, length + offset));\n  }\n\n  /**\n   * Decodes a portion of the Buffer into a String.\n   * @param {string} encoding - Character encoding to decode to\n   * @param {number} [start=0] - Start position in the buffer\n   * @param {number} [end=this.length] - Ending position in the buffer\n   * @return {string} A string from buffer data encoded with encoding, beginning\n   *   at start, and ending at end.\n   */\n  public toString(encoding = 'utf8', start = 0, end = this.length): string {\n    if (!(start <= end)) {\n      throw new Error(\"Invalid start/end positions: \" + start + \" - \" + end);\n    }\n    if (start === end) {\n      return '';\n    }\n    if (end > this.length) {\n      end = this.length;\n    }\n    var strUtil = string_util.FindUtil(encoding);\n    // Get the string representation of the given slice. Create a new buffer\n    // if need be.\n    return strUtil.byte2str(start === 0 && end === this.length ? this : new Buffer(this.data, start + this.offset, end + this.offset));\n  }\n\n  /**\n   * Returns a JSON-representation of the Buffer instance, which is identical to\n   * the output for JSON Arrays. JSON.stringify implicitly calls this function\n   * when stringifying a Buffer instance.\n   * @return {object} An object that can be used for JSON stringification.\n   */\n  public toJSON(): {type: string; data: number[]} {\n    // Construct a byte array for the JSON 'data'.\n    var len = this.length;\n    var byteArr = new Array(len);\n    for (var i = 0; i < len; i++) {\n      byteArr[i] = this.readUInt8(i);\n    }\n    return {\n      type: 'Buffer',\n      data: byteArr\n    };\n  }\n\n  /**\n   * Converts the buffer into an ArrayBuffer. Will attempt to use an underlying\n   * ArrayBuffer, but will need to copy the data if the underlaying object is an\n   * ArrayBufferView or not an ArrayBuffer.\n   */\n  public toArrayBuffer(): ArrayBuffer {\n    var buffCore = this.getBufferCore();\n    if (buffCore instanceof buffer_core_arraybuffer.BufferCoreArrayBuffer) {\n      var dv = buffCore.getDataView(),\n        ab = dv.buffer;\n      if (dv.byteOffset === 0 && dv.byteLength === ab.byteLength) {\n        return ab;\n      } else {\n        return ab.slice(dv.byteOffset, dv.byteLength);\n      }\n    } else {\n      var ab = new ArrayBuffer(this.length),\n        newBuff = new Buffer(ab);\n      this.copy(newBuff, 0, 0, this.length);\n      return ab;\n    }\n  }\n\n  /**\n   * Does copy between buffers. The source and target regions can be overlapped.\n   * All values passed that are undefined/NaN or are out of bounds are set equal\n   * to their respective defaults.\n   * @param {Buffer} target - Buffer to copy into\n   * @param {number} [targetStart=0] - Index to start copying to in the targetBuffer\n   * @param {number} [sourceStart=0] - Index in this buffer to start copying from\n   * @param {number} [sourceEnd=this.length] - Index in this buffer stop copying at\n   * @return {number} The number of bytes copied into the target buffer.\n   */\n  public copy(target: NodeBuffer, targetStart = 0, sourceStart = 0, sourceEnd = this.length): number {\n    // The Node code is weird. It sets some out-of-bounds args to their defaults\n    // and throws exceptions for others (sourceEnd).\n    targetStart = targetStart < 0 ? 0 : targetStart;\n    sourceStart = sourceStart < 0 ? 0 : sourceStart;\n\n    // Need to sanity check all of the input. Node has really odd rules regarding\n    // when to apply default arguments. I decided to copy Node's logic.\n    if (sourceEnd < sourceStart) {\n      throw new RangeError('sourceEnd < sourceStart');\n    }\n    if (sourceEnd === sourceStart) {\n      return 0;\n    }\n    if (targetStart >= target.length) {\n      throw new RangeError('targetStart out of bounds');\n    }\n    if (sourceStart >= this.length) {\n      throw new RangeError('sourceStart out of bounds');\n    }\n    if (sourceEnd > this.length) {\n      throw new RangeError('sourceEnd out of bounds');\n    }\n    var bytesCopied = Math.min(sourceEnd - sourceStart, target.length - targetStart, this.length - sourceStart),\n      i: number;\n    // Copy as many 32-bit chunks as possible.\n    // TODO: Alignment.\n    for (i = 0; i < bytesCopied - 3; i += 4) {\n      target.writeInt32LE(this.readInt32LE(sourceStart + i), targetStart + i);\n    }\n    // Copy any remaining bytes, if applicable\n    for (i = bytesCopied & 0xFFFFFFFC; i < bytesCopied; i++) {\n      target.writeUInt8(this.readUInt8(sourceStart + i), targetStart + i);\n    }\n    return bytesCopied;\n  }\n\n  /**\n   * Returns a slice of this buffer.\n   * @param {number} [start=0] - Index to start slicing from\n   * @param {number} [end=this.length] - Index to stop slicing at\n   * @return {Buffer} A new buffer which references the same\n   *   memory as the old, but offset and cropped by the start (defaults to 0) and\n   *   end (defaults to buffer.length) indexes. Negative indexes start from the end\n   *   of the buffer.\n   */\n  public slice(start = 0, end = this.length): NodeBuffer {\n    // Translate negative indices to positive ones.\n    if (start < 0) {\n      start += this.length;\n      if (start < 0) {\n        start = 0;\n      }\n    }\n    if (end < 0) {\n      end += this.length;\n      if (end < 0) {\n        end = 0;\n      }\n    }\n    if (end > this.length) {\n      end = this.length;\n    }\n    if (start > end) {\n      start = end;\n    }\n\n    // Sanity check.\n    if (start < 0 || end < 0 || start >= this.length || end > this.length) {\n      throw new Error(\"Invalid slice indices.\");\n    }\n    // Create a new buffer backed by the same BufferCore.\n    return new Buffer(this.data, start + this.offset, end + this.offset);\n  }\n\n  /**\n   * [NONSTANDARD] A copy-based version of Buffer.slice.\n   */\n  public sliceCopy(start: number = 0, end: number = this.length): NodeBuffer {\n    // Translate negative indices to positive ones.\n    if (start < 0) {\n      start += this.length;\n      if (start < 0) {\n        start = 0;\n      }\n    }\n    if (end < 0) {\n      end += this.length;\n      if (end < 0) {\n        end = 0;\n      }\n    }\n    if (end > this.length) {\n      end = this.length;\n    }\n    if (start > end) {\n      start = end;\n    }\n\n    // Sanity check.\n    if (start < 0 || end < 0 || start >= this.length || end > this.length) {\n      throw new Error(\"Invalid slice indices.\");\n    }\n\n    // Copy the BufferCore.\n    return new Buffer(this.data.copy(start + this.offset, end + this.offset));\n  }\n\n  /**\n   * Fills the buffer with the specified value. If the offset and end are not\n   * given it will fill the entire buffer.\n   * @param {(string|number)} value - The value to fill the buffer with\n   * @param {number} [offset=0]\n   * @param {number} [end=this.length]\n   */\n  public fill(value: any, offset = 0, end = this.length): void {\n    var i: number;\n    var valType = typeof value;\n    switch (valType) {\n      case \"string\":\n        // Trim to a byte.\n        value = value.charCodeAt(0) & 0xFF;\n        break;\n      case \"number\":\n        break;\n      default:\n        throw new Error('Invalid argument to fill.');\n    }\n    offset += this.offset;\n    end += this.offset;\n    this.data.fill(value, offset, end);\n  }\n\n  public readUInt8(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readUInt8(offset);\n  }\n\n  public readUInt16LE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readUInt16LE(offset);\n  }\n\n  public readUInt16BE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readUInt16BE(offset);\n  }\n\n  public readUInt32LE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readUInt32LE(offset);\n  }\n\n  public readUInt32BE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readUInt32BE(offset);\n  }\n\n  public readInt8(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readInt8(offset);\n  }\n\n  public readInt16LE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readInt16LE(offset);\n  }\n\n  public readInt16BE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readInt16BE(offset);\n  }\n\n  public readInt32LE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readInt32LE(offset);\n  }\n\n  public readInt32BE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readInt32BE(offset);\n  }\n\n  public readFloatLE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readFloatLE(offset);\n  }\n\n  public readFloatBE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readFloatBE(offset);\n  }\n\n  public readDoubleLE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readDoubleLE(offset);\n  }\n\n  public readDoubleBE(offset: number, noAssert = false): number {\n    offset += this.offset;\n    return this.data.readDoubleBE(offset);\n  }\n\n  public writeUInt8(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeUInt8(offset, value);\n  }\n\n  public writeUInt16LE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeUInt16LE(offset, value);\n  }\n\n  public writeUInt16BE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeUInt16BE(offset, value);\n  }\n\n  public writeUInt32LE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeUInt32LE(offset, value);\n  }\n\n  public writeUInt32BE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeUInt32BE(offset, value);\n  }\n\n  public writeInt8(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeInt8(offset, value);\n  }\n\n  public writeInt16LE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeInt16LE(offset, value);\n  }\n\n  public writeInt16BE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeInt16BE(offset, value);\n  }\n\n  public writeInt32LE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeInt32LE(offset, value);\n  }\n\n  public writeInt32BE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeInt32BE(offset, value);\n  }\n\n  public writeFloatLE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeFloatLE(offset, value);\n  }\n\n  public writeFloatBE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeFloatBE(offset, value);\n  }\n\n  public writeDoubleLE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeDoubleLE(offset, value);\n  }\n\n  public writeDoubleBE(value: number, offset: number, noAssert = false): void {\n    offset += this.offset;\n    this.data.writeDoubleBE(offset, value);\n  }\n\n  ///**************************STATIC METHODS********************************///\n\n  /**\n   * Checks if enc is a valid string encoding type.\n   * @param {string} enc - Name of a string encoding type.\n   * @return {boolean} Whether or not enc is a valid encoding type.\n   */\n  public static isEncoding(enc: string): boolean {\n    try {\n      string_util.FindUtil(enc);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Tests if obj is a Buffer.\n   * @param {object} obj - An arbitrary object\n   * @return {boolean} True if this object is a Buffer.\n   */\n  public static isBuffer(obj: any): boolean {\n    return obj instanceof Buffer;\n  }\n\n  /**\n   * Gives the actual byte length of a string. This is not the same as\n   * String.prototype.length since that returns the number of characters in a\n   * string.\n   * @param {string} str - The string to get the byte length of\n   * @param {string} [encoding=utf8] - Character encoding of the string\n   * @return {number} The number of bytes in the string\n   */\n  public static byteLength(str: string, encoding: string = 'utf8'): number {\n    var strUtil = string_util.FindUtil(encoding);\n    return strUtil.byteLength(str);\n  }\n\n  /**\n   * Returns a buffer which is the result of concatenating all the buffers in the\n   * list together.\n   * If the list has no items, or if the totalLength is 0, then it returns a\n   * zero-length buffer.\n   * If the list has exactly one item, then the first item of the list is\n   * returned.\n   * If the list has more than one item, then a new Buffer is created.\n   * If totalLength is not provided, it is read from the buffers in the list.\n   * However, this adds an additional loop to the function, so it is faster to\n   * provide the length explicitly.\n   * @param {Buffer[]} list - List of Buffer objects to concat\n   * @param {number} [totalLength] - Total length of the buffers when concatenated\n   * @return {Buffer}\n   */\n  public static concat(list: NodeBuffer[], totalLength?: number): NodeBuffer {\n    var item: NodeBuffer;\n    if (list.length === 0 || totalLength === 0) {\n      return new Buffer(0);\n    } else if (list.length === 1) {\n      return list[0];\n    } else {\n      if (totalLength == null) {\n        // Calculate totalLength\n        totalLength = 0;\n        for (var i = 0; i < list.length; i++) {\n          item = list[i];\n          totalLength += item.length;\n        }\n      }\n      var buf = new Buffer(totalLength);\n      var curPos = 0;\n      for (var j = 0; j < list.length; j++) {\n        item = list[j];\n        curPos += item.copy(buf, curPos);\n      }\n      return buf;\n    }\n  }\n}\n\n// Type-check the class.\nvar _: BFSBufferImplementation = Buffer;\n",
    "/**\n * !!!NOTE: This file should not depend on any other file!!!\n * \n * Buffers are referenced everywhere, so it can cause a circular dependency.\n */\n\nvar FLOAT_POS_INFINITY = Math.pow(2, 128);\nvar FLOAT_NEG_INFINITY = -1 * FLOAT_POS_INFINITY;\nvar FLOAT_POS_INFINITY_AS_INT = 0x7F800000;\nvar FLOAT_NEG_INFINITY_AS_INT = -8388608;\nvar FLOAT_NaN_AS_INT = 0x7fc00000;\n\n/**\n * The core data-writing and reading methods of any buffer.\n */\nexport interface BufferCore {\n  /**\n   * Get the size of this buffer core, in bytes.\n   */\n  getLength(): number;\n  /**\n   * Writes bottom 8 bits of the given integer at the provided index.\n   */\n  writeInt8(i: number, data: number): void;\n  /**\n   * Writes bottom 16 bits of the given integer at the provided index.\n   * Little endian.\n   */\n  writeInt16LE(i: number, data: number): void;\n  /**\n   * Writes bottom 16 bits of the given integer at the provided index.\n   * Big endian.\n   */\n  writeInt16BE(i: number, data: number): void;\n  /**\n   * Writes all 32 bits of the given integer at the provided index.\n   * Little endian.\n   */\n  writeInt32LE(i: number, data: number): void;\n  /**\n   * Writes all 32 bits of the given integer at the provided index.\n   * Big endian.\n   */\n  writeInt32BE(i: number, data: number): void;\n  /**\n   * Writes the number as an 8 bit unsigned integer.\n   */\n  writeUInt8(i: number, data: number): void;\n  /**\n   * Writes the number as a 16 bit unsigned integer.\n   * Little endian.\n   */\n  writeUInt16LE(i: number, data: number): void;\n  /**\n   * Writes the number as a 16 bit unsigned integer.\n   * Big endian.\n   */\n  writeUInt16BE(i: number, data: number): void;\n  /**\n   * Writes the number as a 32 bit unsigned integer.\n   * Little endian.\n   */\n  writeUInt32LE(i: number, data: number): void;\n  /**\n   * Writes the number as a 32 bit unsigned integer.\n   * Big endian.\n   */\n  writeUInt32BE(i: number, data: number): void;\n  /**\n   * Writes the number as a 32-bit float.\n   * Little endian.\n   */\n  writeFloatLE(i: number, data: number): void;\n  /**\n   * Writes the number as a 32-bit float.\n   * Big endian.\n   */\n  writeFloatBE(i: number, data: number): void;\n  /**\n   * Writes the number as a 64-bit float.\n   * Little endian.\n   */\n  writeDoubleLE(i: number, data: number): void;\n  /**\n   * Writes the number as a 64-bit float.\n   * Big endian.\n   */\n  writeDoubleBE(i: number, data: number): void;\n  /**\n   * Reads the byte at the given index.\n   */\n  readInt8(i: number): number;\n  /**\n   * Reads the two bytes at the given index (little endian).\n   */\n  readInt16LE(i: number): number;\n  /**\n   * Reads the two bytes at the given index (big endian).\n   */\n  readInt16BE(i: number): number;\n  /**\n   * Reads the four bytes at the given index (little endian).\n   */\n  readInt32LE(i: number): number;\n  /**\n   * Reads the four bytes at the given index (big endian).\n   */\n  readInt32BE(i: number): number;\n  /**\n   * Reads the byte at the given index as an unsigned integer.\n   */\n  readUInt8(i: number): number;\n  /**\n   * Reads the two bytes at the given index as an unsigned integer (little endian).\n   */\n  readUInt16LE(i: number): number;\n  /**\n   * Reads the two bytes at the given index as an unsigned integer (big endian).\n   */\n  readUInt16BE(i: number): number;\n  /**\n   * Reads the four bytes at the given index as an unsigned integer (little endian).\n   */\n  readUInt32LE(i: number): number;\n  /**\n   * Reads the four bytes at the given index as an unsigned integer (big endian).\n   */\n  readUInt32BE(i: number): number;\n  /**\n   * Reads a 32-bit floating point number at the given index (little endian).\n   */\n  readFloatLE(i: number): number;\n  /**\n   * Reads a 32-bit floating point number at the given index (big endian).\n   */\n  readFloatBE(i: number): number;\n  /**\n   * Reads a 64-bit floating point number at the given index (little endian).\n   */\n  readDoubleLE(i: number): number;\n  /**\n   * Reads a 64-bit floating point number at the given index (big endian).\n   */\n  readDoubleBE(i: number): number;\n  /**\n   * Copies the contents of the buffer core, from start to end, into a new\n   * BufferCore.\n   * (the interval [start, end)).\n   */\n  copy(start: number, end: number): BufferCore;\n  /**\n   * Fills [start, end) with the given byte value.\n   */\n  fill(value: number, start: number, end: number): void;\n}\n\nexport interface BufferCoreImplementation {\n  /**\n   * The common constructor that all BufferCores need to support.\n   */\n  new(length: number): BufferCore;\n  /**\n   * Returns 'true' if the BufferCore is available in the current environment.\n   */\n  isAvailable(): boolean;\n}\n\n/**\n * Contains common definitions for most of the BufferCore classes.\n * Subclasses only need to implement write/readUInt8 for full functionality.\n */\nexport class BufferCoreCommon {\n  public getLength(): number {\n    throw new Error('BufferCore implementations should implement getLength.');\n  }\n  public writeInt8(i: number, data: number): void {\n    // Pack the sign bit as the highest bit.\n    // Note that we keep the highest bit in the value byte as the sign bit if it\n    // exists.\n    this.writeUInt8(i, (data & 0xFF) | ((data & 0x80000000) >>> 24));\n  }\n  public writeInt16LE(i: number, data: number): void {\n    this.writeUInt8(i, data & 0xFF);\n    // Pack the sign bit as the highest bit.\n    // Note that we keep the highest bit in the value byte as the sign bit if it\n    // exists.\n    this.writeUInt8(i+1, ((data >>> 8) & 0xFF) | ((data & 0x80000000) >>> 24));\n  }\n  public writeInt16BE(i: number, data: number): void {\n    this.writeUInt8(i+1, data & 0xFF);\n    // Pack the sign bit as the highest bit.\n    // Note that we keep the highest bit in the value byte as the sign bit if it\n    // exists.\n    this.writeUInt8(i, ((data >>> 8) & 0xFF) | ((data & 0x80000000) >>> 24));\n  }\n  public writeInt32LE(i: number, data: number): void {\n    this.writeUInt8(i, data & 0xFF);\n    this.writeUInt8(i+1, (data >>> 8) & 0xFF);\n    this.writeUInt8(i+2, (data >>> 16) & 0xFF);\n    this.writeUInt8(i+3, (data >>> 24) & 0xFF);\n  }\n  public writeInt32BE(i: number, data: number): void {\n    this.writeUInt8(i+3, data & 0xFF);\n    this.writeUInt8(i+2, (data >>> 8) & 0xFF);\n    this.writeUInt8(i+1, (data >>> 16) & 0xFF);\n    this.writeUInt8(i, (data >>> 24) & 0xFF);\n  }\n  public writeUInt8(i: number, data: number): void {\n    throw new Error('BufferCore implementations should implement writeUInt8.');\n  }\n  public writeUInt16LE(i: number, data: number): void {\n    this.writeUInt8(i, data & 0xFF);\n    this.writeUInt8(i+1, (data >> 8) & 0xFF);\n  }\n  public writeUInt16BE(i: number, data: number): void {\n    this.writeUInt8(i+1, data & 0xFF);\n    this.writeUInt8(i, (data >> 8) & 0xFF);\n  }\n  public writeUInt32LE(i: number, data: number): void {\n    this.writeInt32LE(i, data|0);\n  }\n  public writeUInt32BE(i: number, data: number): void {\n    this.writeInt32BE(i, data|0);\n  }\n  public writeFloatLE(i: number, data: number): void {\n    this.writeInt32LE(i, this.float2intbits(data));\n  }\n  public writeFloatBE(i: number, data: number): void {\n    this.writeInt32BE(i, this.float2intbits(data));\n  }\n  public writeDoubleLE(i: number, data: number): void {\n    var doubleBits = this.double2longbits(data);\n    this.writeInt32LE(i, doubleBits[0]);\n    this.writeInt32LE(i+4, doubleBits[1]);\n  }\n  public writeDoubleBE(i: number, data: number): void {\n    var doubleBits = this.double2longbits(data);\n    this.writeInt32BE(i+4, doubleBits[0]);\n    this.writeInt32BE(i, doubleBits[1]);\n  }\n  public readInt8(i: number): number {\n    var val = this.readUInt8(i);\n    if (val & 0x80) {\n      // Sign bit is set, so perform sign extension.\n      return val | 0xFFFFFF80;\n    } else {\n      return val;\n    }\n  }\n  public readInt16LE(i: number): number {\n    var val = this.readUInt16LE(i);\n    if (val & 0x8000) {\n      // Sign bit is set, so perform sign extension.\n      return val | 0xFFFF8000;\n    } else {\n      return val;\n    }\n  }\n  public readInt16BE(i: number): number {\n    var val = this.readUInt16BE(i);\n    if (val & 0x8000) {\n      // Sign bit is set, so perform sign extension.\n      return val | 0xFFFF8000;\n    } else {\n      return val;\n    }\n  }\n  public readInt32LE(i: number): number {\n    return this.readUInt32LE(i) | 0;\n  }\n  public readInt32BE(i: number): number {\n    return this.readUInt32BE(i) | 0;\n  }\n  public readUInt8(i: number): number {\n    throw new Error('BufferCore implementations should implement readUInt8.');\n  }\n  public readUInt16LE(i: number): number {\n    return (this.readUInt8(i+1) << 8) | this.readUInt8(i);\n  }\n  public readUInt16BE(i: number): number {\n    return (this.readUInt8(i) << 8) | this.readUInt8(i+1);\n  }\n  public readUInt32LE(i: number): number {\n    return ((this.readUInt8(i+3) << 24) | (this.readUInt8(i+2) << 16) | (this.readUInt8(i+1) << 8) | this.readUInt8(i)) >>> 0;\n  }\n  public readUInt32BE(i: number): number {\n    return ((this.readUInt8(i) << 24) | (this.readUInt8(i+1) << 16) | (this.readUInt8(i+2) << 8) | this.readUInt8(i+3)) >>> 0;\n  }\n  public readFloatLE(i: number): number {\n    return this.intbits2float(this.readInt32LE(i));\n  }\n  public readFloatBE(i: number): number {\n    return this.intbits2float(this.readInt32BE(i));\n  }\n  public readDoubleLE(i: number): number {\n    return this.longbits2double(this.readInt32LE(i+4), this.readInt32LE(i));\n  }\n  public readDoubleBE(i: number): number {\n    return this.longbits2double(this.readInt32BE(i), this.readInt32BE(i+4));\n  }\n  public copy(start: number, end: number): BufferCore {\n    throw new Error('BufferCore implementations should implement copy.');\n  }\n  public fill(value: number, start: number, end: number): void {\n    // Stupid unoptimized fill: Byte-by-byte.\n    for (var i = start; i < end; i++) {\n      this.writeUInt8(i, value);\n    }\n  }\n\n  private float2intbits(f_val: number) : number {\n    var exp: number, f_view: number, i_view: number, sig: number, sign: number;\n\n    // Special cases!\n    if (f_val === 0) {\n      return 0;\n    }\n    // We map the infinities to JavaScript infinities. Map them back.\n    if (f_val === Number.POSITIVE_INFINITY) {\n      return FLOAT_POS_INFINITY_AS_INT;\n    }\n    if (f_val === Number.NEGATIVE_INFINITY) {\n      return FLOAT_NEG_INFINITY_AS_INT;\n    }\n    // Convert JavaScript NaN to Float NaN value.\n    if (isNaN(f_val)) {\n      return FLOAT_NaN_AS_INT;\n    }\n\n    // We have more bits of precision than a float, so below we round to\n    // the nearest significand. This appears to be what the x86\n    // Java does for normal floating point operations.\n\n    sign = f_val < 0 ? 1 : 0;\n    f_val = Math.abs(f_val);\n    // Subnormal zone!\n    // (1)^signbits2^1260.significandbits\n    // Largest subnormal magnitude:\n    // 0000 0000 0111 1111 1111 1111 1111 1111\n    // Smallest subnormal magnitude:\n    // 0000 0000 0000 0000 0000 0000 0000 0001\n    if (f_val <= 1.1754942106924411e-38 && f_val >= 1.4012984643248170e-45) {\n      exp = 0;\n      sig = Math.round((f_val / Math.pow(2, -126)) * Math.pow(2, 23));\n      return (sign << 31) | (exp << 23) | sig;\n    } else {\n      // Regular FP numbers\n      exp = Math.floor(Math.log(f_val) / Math.LN2);\n      sig = Math.round((f_val / Math.pow(2, exp) - 1) * Math.pow(2, 23));\n      return (sign << 31) | ((exp + 127) << 23) | sig;\n    }\n  }\n\n  private double2longbits(d_val: number): number[] {\n    var d_view: number, exp: number, high_bits: number, i_view: number, sig: number, sign: number;\n\n    // Special cases\n    if (d_val === 0) {\n      return [0, 0];\n    }\n    if (d_val === Number.POSITIVE_INFINITY) {\n      // High bits: 0111 1111 1111 0000 0000 0000 0000 0000\n      //  Low bits: 0000 0000 0000 0000 0000 0000 0000 0000\n      return [0, 2146435072];\n    } else if (d_val === Number.NEGATIVE_INFINITY) {\n      // High bits: 1111 1111 1111 0000 0000 0000 0000 0000\n      //  Low bits: 0000 0000 0000 0000 0000 0000 0000 0000\n      return [0, -1048576];\n    } else if (isNaN(d_val)) {\n      // High bits: 0111 1111 1111 1000 0000 0000 0000 0000\n      //  Low bits: 0000 0000 0000 0000 0000 0000 0000 0000\n      return [0, 2146959360];\n    }\n    sign = d_val < 0 ? 1 << 31 : 0;\n    d_val = Math.abs(d_val);\n\n    // Check if it is a subnormal number.\n    // (-1)s  0.f  2-1022\n    // Largest subnormal magnitude:\n    // 0000 0000 0000 1111 1111 1111 1111 1111\n    // 1111 1111 1111 1111 1111 1111 1111 1111\n    // Smallest subnormal magnitude:\n    // 0000 0000 0000 0000 0000 0000 0000 0000\n    // 0000 0000 0000 0000 0000 0000 0000 0001\n    if (d_val <= 2.2250738585072010e-308 && d_val >= 5.0000000000000000e-324) {\n      exp = 0;\n      sig = (d_val / Math.pow(2, -1022)) * Math.pow(2, 52);\n    } else {\n      exp = Math.floor(Math.log(d_val) / Math.LN2);\n      // If d_val is close to a power of two, there's a chance that exp\n      // will be 1 greater than it should due to loss of accuracy in the\n      // log result.\n      if (d_val < Math.pow(2, exp)) {\n        exp = exp - 1;\n      }\n      sig = (d_val / Math.pow(2, exp) - 1) * Math.pow(2, 52);\n      exp = (exp + 1023) << 20;\n    }\n\n    // Simulate >> 32\n    high_bits = ((sig * Math.pow(2, -32)) | 0) | sign | exp;\n    return [sig & 0xFFFF, high_bits];\n  }\n\n  private intbits2float(int32: number) {\n    // Map +/- infinity to JavaScript equivalents\n    if (int32 === FLOAT_POS_INFINITY_AS_INT) {\n      return Number.POSITIVE_INFINITY;\n    } else if (int32 === FLOAT_NEG_INFINITY_AS_INT) {\n      return Number.NEGATIVE_INFINITY;\n    }\n    var sign = (int32 & 0x80000000) >>> 31;\n    var exponent = (int32 & 0x7F800000) >>> 23;\n    var significand = int32 & 0x007FFFFF;\n    var value : number;\n    if (exponent === 0) {  // we must denormalize!\n      value = Math.pow(-1, sign) * significand * Math.pow(2, -149);\n    } else {\n      value = Math.pow(-1, sign) * (1 + significand * Math.pow(2, -23)) * Math.pow(2, exponent - 127);\n    }\n    // NaN check\n    if (value < FLOAT_NEG_INFINITY || value > FLOAT_POS_INFINITY) {\n      value = NaN;\n    }\n    return value;\n  }\n\n  private longbits2double(uint32_a: number, uint32_b: number): number {\n    var sign = (uint32_a & 0x80000000) >>> 31;\n    var exponent = (uint32_a & 0x7FF00000) >>> 20;\n    var significand = ((uint32_a & 0x000FFFFF) * Math.pow(2, 32)) + uint32_b;\n\n    // Special values!\n    if (exponent === 0 && significand === 0) {\n      return 0;\n    }\n    if (exponent === 2047) {\n      if (significand === 0) {\n        if (sign === 1) {\n          return Number.NEGATIVE_INFINITY;\n        }\n        return Number.POSITIVE_INFINITY;\n      } else {\n        return NaN;\n      }\n    }\n    if (exponent === 0)  // we must denormalize!\n      return Math.pow(-1, sign) * significand * Math.pow(2, -1074);\n    return Math.pow(-1, sign) * (1 + significand * Math.pow(2, -52)) * Math.pow(2, exponent - 1023);\n  }\n}\n",
    "import buffer_core = require('./buffer_core');\n\n// Used to clear segments of an array index.\nvar clearMasks: number[] = [0xFFFFFF00, 0xFFFF00FF, 0xFF00FFFF, 0x00FFFFFF];\n\n/**\n * Implementation of BufferCore that is backed by an array of 32-bit ints.\n * Data is stored little endian.\n * Example: Bytes 0 through 3 are present in the first int:\n *  BYTE 3      BYTE 2      BYTE 1      BYTE 0\n * 0000 0000 | 0000 0000 | 0000 0000 | 0000 0000\n */\nexport class BufferCoreArray extends buffer_core.BufferCoreCommon implements buffer_core.BufferCore {\n  public static isAvailable(): boolean {\n    return true;\n  }\n\n  private buff: number[];\n  private length: number;\n  constructor(length: number) {\n    super();\n    this.length = length;\n    this.buff = new Array(Math.ceil(length/4));\n    // Zero-fill the array.\n    var bufflen = this.buff.length;\n    for (var i = 0; i < bufflen; i++) {\n      this.buff[i] = 0;\n    }\n  }\n  public getLength(): number {\n    return this.length;\n  }\n  public writeUInt8(i: number, data: number): void {\n    data &= 0xFF;\n    // Which int? (Equivalent to (i/4)|0)\n    var arrIdx = i >> 2;\n    // Which offset? (Equivalent to i - arrIdx*4)\n    var intIdx = i & 3;\n    this.buff[arrIdx] = this.buff[arrIdx] & clearMasks[intIdx];\n    this.buff[arrIdx] = this.buff[arrIdx] | (data << (intIdx << 3));\n  }\n  public readUInt8(i: number): number {\n    // Which int?\n    var arrIdx = i >> 2;\n    // Which offset?\n    var intIdx = i & 3;\n    // Bring the data we want into the lowest 8 bits, and truncate.\n    return (this.buff[arrIdx] >> (intIdx << 3)) & 0xFF;\n  }\n  public copy(start: number, end: number): buffer_core.BufferCore {\n    // Stupid unoptimized copy. Later, we could do optimizations when aligned.\n    var newBC = new BufferCoreArray(end - start);\n    for (var i = start; i < end; i++) {\n      newBC.writeUInt8(i - start, this.readUInt8(i));\n    }\n    return newBC;\n  }\n}\n\n// Type-check the class.\nvar _: buffer_core.BufferCoreImplementation = BufferCoreArray;\n",
    "import buffer_core = require('./buffer_core');\n\n/**\n * Represents data using an ArrayBuffer.\n */\nexport class BufferCoreArrayBuffer extends buffer_core.BufferCoreCommon implements buffer_core.BufferCore {\n  public static isAvailable(): boolean {\n    return typeof DataView !== 'undefined';\n  }\n\n  private buff: DataView;\n  private length: number;\n  constructor(length: number);\n  constructor(buff: DataView);\n  constructor(buff: ArrayBuffer);\n  constructor(arg1: any) {\n    super();\n    if (typeof arg1 === 'number') {\n      this.buff = new DataView(new ArrayBuffer(arg1));\n    } else if (arg1 instanceof DataView) {\n      this.buff = <DataView> arg1;\n    } else {\n      this.buff = new DataView(<ArrayBuffer> arg1);\n    }\n    this.length = this.buff.byteLength;\n  }\n  public getLength(): number {\n    return this.length;\n  }\n  public writeInt8(i: number, data: number): void {\n    this.buff.setInt8(i, data);\n  }\n  public writeInt16LE(i: number, data: number): void {\n    this.buff.setInt16(i, data, true);\n  }\n  public writeInt16BE(i: number, data: number): void {\n    this.buff.setInt16(i, data, false);\n  }\n  public writeInt32LE(i: number, data: number): void {\n    this.buff.setInt32(i, data, true);\n  }\n  public writeInt32BE(i: number, data: number): void {\n    this.buff.setInt32(i, data, false);\n  }\n  public writeUInt8(i: number, data: number): void {\n    this.buff.setUint8(i, data);\n  }\n  public writeUInt16LE(i: number, data: number): void {\n    this.buff.setUint16(i, data, true);\n  }\n  public writeUInt16BE(i: number, data: number): void {\n    this.buff.setUint16(i, data, false);\n  }\n  public writeUInt32LE(i: number, data: number): void {\n    this.buff.setUint32(i, data, true);\n  }\n  public writeUInt32BE(i: number, data: number): void {\n    this.buff.setUint32(i, data, false);\n  }\n  public writeFloatLE(i: number, data: number): void {\n    this.buff.setFloat32(i, data, true);\n  }\n  public writeFloatBE(i: number, data: number): void {\n    this.buff.setFloat32(i, data, false);\n  }\n  public writeDoubleLE(i: number, data: number): void {\n    this.buff.setFloat64(i, data, true);\n  }\n  public writeDoubleBE(i: number, data: number): void {\n    this.buff.setFloat64(i, data, false);\n  }\n  public readInt8(i: number): number {\n    return this.buff.getInt8(i);\n  }\n  public readInt16LE(i: number): number {\n    return this.buff.getInt16(i, true);\n  }\n  public readInt16BE(i: number): number {\n    return this.buff.getInt16(i, false);\n  }\n  public readInt32LE(i: number): number {\n    return this.buff.getInt32(i, true);\n  }\n  public readInt32BE(i: number): number {\n    return this.buff.getInt32(i, false);\n  }\n  public readUInt8(i: number): number {\n    return this.buff.getUint8(i);\n  }\n  public readUInt16LE(i: number): number {\n    return this.buff.getUint16(i, true);\n  }\n  public readUInt16BE(i: number): number {\n    return this.buff.getUint16(i, false);\n  }\n  public readUInt32LE(i: number): number {\n    return this.buff.getUint32(i, true);\n  }\n  public readUInt32BE(i: number): number {\n    return this.buff.getUint32(i, false);\n  }\n  public readFloatLE(i: number): number {\n    return this.buff.getFloat32(i, true);\n  }\n  public readFloatBE(i: number): number {\n    return this.buff.getFloat32(i, false);\n  }\n  public readDoubleLE(i: number): number {\n    return this.buff.getFloat64(i, true);\n  }\n  public readDoubleBE(i: number): number {\n    return this.buff.getFloat64(i, false);\n  }\n  public copy(start: number, end: number): buffer_core.BufferCore {\n    var aBuff = this.buff.buffer;\n    var newBuff: ArrayBuffer;\n    // Some ArrayBuffer implementations (IE10) do not have 'slice'.\n    // XXX: Type hacks - the typings don't have slice either.\n    if ((<any>ArrayBuffer).prototype.slice) {\n      // ArrayBuffer.slice is copying; exactly what we want.\n      newBuff = (<any> aBuff).slice(start, end);\n    } else {\n      var len = end - start;\n      newBuff = new ArrayBuffer(len);\n      // Copy the old contents in.\n      var newUintArray = new Uint8Array(newBuff);\n      var oldUintArray = new Uint8Array(aBuff);\n      newUintArray.set(oldUintArray.subarray(start, end));\n    }\n    return new BufferCoreArrayBuffer(newBuff);\n  }\n  public fill(value: number, start: number, end: number): void {\n    // Value must be a byte wide.\n    value = value & 0xFF;\n    var i: number;\n    var len = end - start;\n    var intBytes = (((len)/4)|0)*4;\n    // Optimization: Write 4 bytes at a time.\n    // TODO: Could we copy 8 bytes at a time using Float64, or could we\n    //       lose precision?\n    var intVal = (value << 24) | (value << 16) | (value << 8) | value\n    for (i = 0; i < intBytes; i += 4) {\n      this.writeInt32LE(i + start, intVal);\n    }\n    for (i = intBytes; i < len; i++) {\n      this.writeUInt8(i + start, value);\n    }\n  }\n\n  /**\n   * Custom method for this buffer core. Get the backing object.\n   */\n  public getDataView(): DataView {\n    return this.buff;\n  }\n}\n\n// Type-check the class.\nvar _: buffer_core.BufferCoreImplementation = BufferCoreArrayBuffer;\n",
    "import buffer_core = require('./buffer_core');\n\n/**\n * Deprecated type, so it is not present in TypeScript's lib.d.ts.\n */\nexport interface CanvasPixelArray {\n  // Values are [0,255].\n  [index: number]: number;\n  length: number;\n}\ndeclare var CanvasPixelArray: CanvasPixelArray;\n\n/**\n * Implementation of BufferCore that is backed by an ImageData object.\n * Useful in browsers with HTML5 canvas support, but no TypedArray support\n * (IE9).\n */\nexport class BufferCoreImageData extends buffer_core.BufferCoreCommon implements buffer_core.BufferCore {\n  private static imageDataFactory: CanvasRenderingContext2D;\n  /**\n   * Constructs a CanvasPixelArray that represents the given amount of bytes.\n   */\n  public static getCanvasPixelArray(bytes: number): CanvasPixelArray {\n    var ctx: CanvasRenderingContext2D = BufferCoreImageData.imageDataFactory;\n    // Lazily initialize, otherwise every browser (even those that will never\n    // use this code) will create a canvas on script load.\n    if (ctx === undefined) {\n      BufferCoreImageData.imageDataFactory = ctx = <CanvasRenderingContext2D> document.createElement('canvas').getContext('2d');\n    }\n    // You cannot create image data with size 0, so up it to size 1.\n    if (bytes === 0) bytes = 1;\n    return ctx.createImageData(Math.ceil(bytes / 4), 1).data;\n  }\n  public static isAvailable(): boolean {\n    // Modern browsers have removed this deprecated API, so it is not always around.\n    return typeof CanvasPixelArray !== 'undefined';\n  }\n\n  private buff: CanvasPixelArray;\n  private length: number;\n  constructor(length: number) {\n    super();\n    this.length = length;\n    this.buff = BufferCoreImageData.getCanvasPixelArray(length);\n  }\n  public getLength(): number {\n    return this.length;\n  }\n  public writeUInt8(i: number, data: number): void {\n    this.buff[i] = data;\n  }\n  public readUInt8(i: number): number {\n    return this.buff[i];\n  }\n  public copy(start: number, end: number): buffer_core.BufferCore {\n    // AFAIK, there's no efficient way to clone ImageData.\n    var newBC = new BufferCoreImageData(end - start);\n    for (var i = start; i < end; i++) {\n      newBC.writeUInt8(i - start, this.buff[i]);\n    }\n    return newBC;\n  }\n}\n\n// Type-check the class.\nvar _: buffer_core.BufferCoreImplementation = BufferCoreImageData;\n",
    "import api_error = require('./api_error');\nimport stats = require('./node_fs_stats');\nimport buffer = require('./buffer');\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\n\nexport interface File {\n  /**\n   * **Core**: Get the current file position.\n   * @return [Number]\n   */\n  getPos(): number;\n  /**\n   * **Core**: Asynchronous `stat`.\n   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] cb\n   */\n  stat(cb: (err: api_error.ApiError, stats?: stats.Stats) => any): void;\n  /**\n   * **Core**: Synchronous `stat`.\n   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] cb\n   */\n  statSync(): stats.Stats;\n  /**\n   * **Core**: Asynchronous close.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  close(cb: Function): void;\n  /**\n   * **Core**: Synchronous close.\n   */\n  closeSync(): void;\n  /**\n   * **Core**: Asynchronous truncate.\n   * @param [Number] len\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  truncate(len: number, cb: Function): void;\n  /**\n   * **Core**: Synchronous truncate.\n   * @param [Number] len\n   */\n  truncateSync(len: number): void;\n  /**\n   * **Core**: Asynchronous sync.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  sync(cb: Function): void;\n  /**\n   * **Core**: Synchronous sync.\n   */\n  syncSync(): void;\n  /**\n   * **Core**: Write buffer to the file.\n   * Note that it is unsafe to use fs.write multiple times on the same file\n   * without waiting for the callback.\n   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to\n   *  the file.\n   * @param [Number] offset Offset in the buffer to start reading data from.\n   * @param [Number] length The amount of bytes to write to the file.\n   * @param [Number] position Offset from the beginning of the file where this\n   *   data should be written. If position is null, the data will be written at\n   *   the current position.\n   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)]\n   *   cb The number specifies the number of bytes written into the file.\n   */\n  write(buffer: NodeBuffer, offset: number, length: number, position: number, cb: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any): void;\n  /**\n   * **Core**: Write buffer to the file.\n   * Note that it is unsafe to use fs.writeSync multiple times on the same file\n   * without waiting for it to return.\n   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to\n   *  the file.\n   * @param [Number] offset Offset in the buffer to start reading data from.\n   * @param [Number] length The amount of bytes to write to the file.\n   * @param [Number] position Offset from the beginning of the file where this\n   *   data should be written. If position is null, the data will be written at\n   *   the current position.\n   * @return [Number]\n   */\n  writeSync(buffer: NodeBuffer, offset: number, length: number, position: number): number;\n  /**\n   * **Core**: Read data from the file.\n   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be\n   *   written to.\n   * @param [Number] offset The offset within the buffer where writing will\n   *   start.\n   * @param [Number] length An integer specifying the number of bytes to read.\n   * @param [Number] position An integer specifying where to begin reading from\n   *   in the file. If position is null, data will be read from the current file\n   *   position.\n   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)] cb The\n   *   number is the number of bytes read\n   */\n  read(buffer: NodeBuffer, offset: number, length: number, position: number, cb: (err: api_error.ApiError, bytesRead?: number, buffer?: NodeBuffer) => void): void;\n  /**\n   * **Core**: Read data from the file.\n   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be\n   *   written to.\n   * @param [Number] offset The offset within the buffer where writing will\n   *   start.\n   * @param [Number] length An integer specifying the number of bytes to read.\n   * @param [Number] position An integer specifying where to begin reading from\n   *   in the file. If position is null, data will be read from the current file\n   *   position.\n   * @return [Number]\n   */\n  readSync(buffer: NodeBuffer, offset: number, length: number, position: number): number;\n  /**\n   * **Supplementary**: Asynchronous `datasync`.\n   *\n   * Default implementation maps to `sync`.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  datasync(cb: Function): void;\n  /**\n   * **Supplementary**: Synchronous `datasync`.\n   *\n   * Default implementation maps to `syncSync`.\n   */\n  datasyncSync(): void;\n  /**\n   * **Optional**: Asynchronous `chown`.\n   * @param [Number] uid\n   * @param [Number] gid\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  chown(uid: number, gid: number, cb: Function): void;\n  /**\n   * **Optional**: Synchronous `chown`.\n   * @param [Number] uid\n   * @param [Number] gid\n   */\n  chownSync(uid: number, gid: number): void;\n  /**\n   * **Optional**: Asynchronous `fchmod`.\n   * @param [Number] mode\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  chmod(mode: number, cb: Function): void;\n  /**\n   * **Optional**: Synchronous `fchmod`.\n   * @param [Number] mode\n   */\n  chmodSync(mode: number): void;\n  /**\n   * **Optional**: Change the file timestamps of the file.\n   * @param [Date] atime\n   * @param [Date] mtime\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  utimes(atime: number, mtime: number, cb: Function): void;\n  /**\n   * **Optional**: Change the file timestamps of the file.\n   * @param [Date] atime\n   * @param [Date] mtime\n   */\n  utimesSync(atime: number, mtime: number): void;\n}\n\n/**\n * Base class that contains shared implementations of functions for the file\n * object.\n * @class\n */\nexport class BaseFile {\n  public sync(cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public syncSync(): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public datasync(cb: Function): void {\n    this.sync(cb);\n  }\n  public datasyncSync(): void {\n    return this.syncSync();\n  }\n  public chown(uid: number, gid: number, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public chownSync(uid: number, gid: number): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public chmod(mode: number, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public chmodSync(mode: number): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public utimes(atime: number, mtime: number, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public utimesSync(atime: number, mtime: number): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n}\n",
    "import api_error = require('./api_error');\n\n/**\n * @class\n */\nexport enum ActionType {\n  // Indicates that the code should not do anything.\n  NOP = 0,\n  // Indicates that the code should throw an exception.\n  THROW_EXCEPTION = 1,\n  // Indicates that the code should truncate the file, but only if it is a file.\n  TRUNCATE_FILE = 2,\n  // Indicates that the code should create the file.\n  CREATE_FILE = 3\n}\n\n/**\n * Represents one of the following file flags. A convenience object.\n *\n * * `'r'` - Open file for reading. An exception occurs if the file does not exist.\n * * `'r+'` - Open file for reading and writing. An exception occurs if the file does not exist.\n * * `'rs'` - Open file for reading in synchronous mode. Instructs the filesystem to not cache writes.\n * * `'rs+'` - Open file for reading and writing, and opens the file in synchronous mode.\n * * `'w'` - Open file for writing. The file is created (if it does not exist) or truncated (if it exists).\n * * `'wx'` - Like 'w' but opens the file in exclusive mode.\n * * `'w+'` - Open file for reading and writing. The file is created (if it does not exist) or truncated (if it exists).\n * * `'wx+'` - Like 'w+' but opens the file in exclusive mode.\n * * `'a'` - Open file for appending. The file is created if it does not exist.\n * * `'ax'` - Like 'a' but opens the file in exclusive mode.\n * * `'a+'` - Open file for reading and appending. The file is created if it does not exist.\n * * `'ax+'` - Like 'a+' but opens the file in exclusive mode.\n *\n * Exclusive mode ensures that the file path is newly created.\n * @class\n */\nexport class FileFlag {\n  // Contains cached FileMode instances.\n  private static flagCache: { [mode: string]: FileFlag } = {};\n  // Array of valid mode strings.\n  private static validFlagStrs = ['r', 'r+', 'rs', 'rs+', 'w', 'wx', 'w+', 'wx+', 'a', 'ax', 'a+', 'ax+'];\n\n  /**\n   * Get an object representing the given file mode.\n   * @param [String] modeStr The string representing the mode\n   * @return [BrowserFS.FileMode] The FileMode object representing the mode\n   * @throw [BrowserFS.ApiError] when the mode string is invalid\n   */\n  public static getFileFlag(flagStr: string): FileFlag {\n    // Check cache first.\n    if (FileFlag.flagCache.hasOwnProperty(flagStr)) {\n      return FileFlag.flagCache[flagStr];\n    }\n    return FileFlag.flagCache[flagStr] = new FileFlag(flagStr);\n  }\n\n  private flagStr: string;\n  /**\n   * This should never be called directly.\n   * @param [String] modeStr The string representing the mode\n   * @throw [BrowserFS.ApiError] when the mode string is invalid\n   */\n  constructor(flagStr: string) {\n    this.flagStr = flagStr;\n    if (FileFlag.validFlagStrs.indexOf(flagStr) < 0) {\n      throw new api_error.ApiError(api_error.ErrorCode.EINVAL, \"Invalid flag: \" + flagStr);\n    }\n  }\n\n  /**\n   * Get the underlying flag string for this flag.\n   */\n  public getFlagString(): string {\n    return this.flagStr;\n  }\n\n  /**\n   * Returns true if the file is readable.\n   * @return [Boolean]\n   */\n  public isReadable(): boolean {\n    return this.flagStr.indexOf('r') !== -1 || this.flagStr.indexOf('+') !== -1;\n  }\n  /**\n   * Returns true if the file is writeable.\n   * @return [Boolean]\n   */\n  public isWriteable(): boolean {\n    return this.flagStr.indexOf('w') !== -1 || this.flagStr.indexOf('a') !== -1 || this.flagStr.indexOf('+') !== -1;\n  }\n  /**\n   * Returns true if the file mode should truncate.\n   * @return [Boolean]\n   */\n  public isTruncating(): boolean {\n    return this.flagStr.indexOf('w') !== -1;\n  }\n  /**\n   * Returns true if the file is appendable.\n   * @return [Boolean]\n   */\n  public isAppendable(): boolean {\n    return this.flagStr.indexOf('a') !== -1;\n  }\n  /**\n   * Returns true if the file is open in synchronous mode.\n   * @return [Boolean]\n   */\n  public isSynchronous(): boolean {\n    return this.flagStr.indexOf('s') !== -1;\n  }\n  /**\n   * Returns true if the file is open in exclusive mode.\n   * @return [Boolean]\n   */\n  public isExclusive(): boolean {\n    return this.flagStr.indexOf('x') !== -1;\n  }\n  /**\n   * Returns one of the static fields on this object that indicates the\n   * appropriate response to the path existing.\n   * @return [Number]\n   */\n  public pathExistsAction(): ActionType {\n    if (this.isExclusive()) {\n      return ActionType.THROW_EXCEPTION;\n    } else if (this.isTruncating()) {\n      return ActionType.TRUNCATE_FILE;\n    } else {\n      return ActionType.NOP;\n    }\n  }\n  /**\n   * Returns one of the static fields on this object that indicates the\n   * appropriate response to the path not existing.\n   * @return [Number]\n   */\n  public pathNotExistsAction(): ActionType {\n    if ((this.isWriteable() || this.isAppendable()) && this.flagStr !== 'r+') {\n      return ActionType.CREATE_FILE;\n    } else {\n      return ActionType.THROW_EXCEPTION;\n    }\n  }\n}\n",
    "/**\n * @module core/file_system\n */\nimport api_error = require('./api_error');\nimport stat = require('./node_fs_stats');\n\nimport file = require('./file');\nimport file_flag = require('./file_flag');\n\nimport path = require('./node_path');\n\nimport buffer = require('./buffer');\n\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\nvar Buffer = buffer.Buffer;\nvar ActionType = file_flag.ActionType;\n\n/**\n * Interface for a filesystem. **All** BrowserFS FileSystems should implement\n * this interface.\n *\n * Below, we denote each API method as **Core**, **Supplemental**, or\n * **Optional**.\n *\n * ### Core Methods\n *\n * **Core** API methods *need* to be implemented for basic read/write\n * functionality.\n *\n * Note that read-only FileSystems can choose to not implement core methods\n * that mutate files or metadata. The default implementation will pass a\n * NOT_SUPPORTED error to the callback.\n *\n * ### Supplemental Methods\n *\n * **Supplemental** API methods do not need to be implemented by a filesystem.\n * The default implementation implements all of the supplemental API methods in\n * terms of the **core** API methods.\n *\n * Note that a file system may choose to implement supplemental methods for\n * efficiency reasons.\n *\n * The code for some supplemental methods was adapted directly from NodeJS's\n * fs.js source code.\n *\n * ### Optional Methods\n *\n * **Optional** API methods provide functionality that may not be available in\n * all filesystems. For example, all symlink/hardlink-related API methods fall\n * under this category.\n *\n * The default implementation will pass a NOT_SUPPORTED error to the callback.\n *\n * ### Argument Assumptions\n *\n * You can assume the following about arguments passed to each API method:\n *\n * * **Every path is an absolute path.** Meaning, `.`, `..`, and other items\n *   are resolved into an absolute form.\n * * **All arguments are present.** Any optional arguments at the Node API level\n *   have been passed in with their default values.\n * * **The callback will reset the stack depth.** When your filesystem calls the\n *   callback with the requested information, it will use `setImmediate` to\n *   reset the JavaScript stack depth before calling the user-supplied callback.\n * @class FileSystem\n */\nexport interface FileSystem {\n  /**\n   * **Optional**: Returns the name of the file system.\n   * @method FileSystem#getName\n   * @return {string}\n   */\n  getName(): string;\n  /**\n   * **Optional**: Passes the following information to the callback:\n   *\n   * * Total number of bytes available on this file system.\n   * * number of free bytes available on this file system.\n   *\n   * @method FileSystem#diskSpace\n   * @todo This info is not available through the Node API. Perhaps we could do a\n   *   polyfill of diskspace.js, or add a new Node API function.\n   * @param {string} path The path to the location that is being queried. Only\n   *   useful for filesystems that support mount points.\n   * @param {FileSystem~diskSpaceCallback} cb\n   */\n  diskSpace(p: string, cb: (total: number, free: number) => any): void;\n  /**\n   * **Core**: Is this filesystem read-only?\n   * @method FileSystem#isReadOnly\n   * @return {boolean} True if this FileSystem is inherently read-only.\n   */\n  isReadOnly(): boolean;\n  /**\n   * **Core**: Does the filesystem support optional symlink/hardlink-related\n   *   commands?\n   * @method FileSystem#supportsLinks\n   * @return {boolean} True if the FileSystem supports the optional\n   *   symlink/hardlink-related commands.\n   */\n  supportsLinks(): boolean;\n  /**\n   * **Core**: Does the filesystem support optional property-related commands?\n   * @method FileSystem#supportsProps\n   * @return {boolean} True if the FileSystem supports the optional\n   *   property-related commands (permissions, utimes, etc).\n   */\n  supportsProps(): boolean;\n  /**\n   * **Core**: Does the filesystem support the optional synchronous interface?\n   * @method FileSystem#supportsSynch\n   * @return {boolean} True if the FileSystem supports synchronous operations.\n   */\n  supportsSynch(): boolean;\n  // **CORE API METHODS**\n  // File or directory operations\n  /**\n   * **Core**: Asynchronous rename. No arguments other than a possible exception\n   * are given to the completion callback.\n   * @method FileSystem#rename\n   * @param {string} oldPath\n   * @param {string} newPath\n   * @param {FileSystem~nodeCallback} cb\n   */\n  rename(oldPath: string, newPath: string, cb: (err?: api_error.ApiError) => void): void;\n  /**\n   * **Core**: Synchronous rename.\n   * @method FileSystem#renameSync\n   * @param {string} oldPath\n   * @param {string} newPath\n   */\n  renameSync(oldPath: string, newPath: string): void;\n  /**\n   * **Core**: Asynchronous `stat` or `lstat`.\n   * @method FileSystem#stat\n   * @param {string} path\n   * @param {boolean} isLstat True if this is `lstat`, false if this is regular\n   *   `stat`.\n   * @param {FileSystem~nodeStatsCallback} cb\n   */\n  stat(p: string, isLstat: boolean, cb: (err: api_error.ApiError, stat?: stat.Stats) => void): void;\n  /**\n   * **Core**: Synchronous `stat` or `lstat`.\n   * @method FileSystem#statSync\n   * @param {string} path\n   * @param {boolean} isLstat True if this is `lstat`, false if this is regular\n   *   `stat`.\n   * @return {BrowserFS.node.fs.Stats}\n   */\n  statSync(p: string, isLstat: boolean): stat.Stats;\n  // File operations\n  /**\n   * **Core**: Asynchronous file open.\n   * @see http://www.manpagez.com/man/2/open/\n   * @method FileSystem#open\n   * @param {string} path\n   * @param {BrowserFS.FileMode} flags Handles the complexity of the various file\n   *   modes. See its API for more details.\n   * @param {number} mode Mode to use to open the file. Can be ignored if the\n   *   filesystem doesn't support permissions.\n   * @param {FileSystem~fileCallback} cb\n   */\n  open(p: string, flag:file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError, fd?: file.File) => any): void;\n  /**\n   * **Core**: Synchronous file open.\n   * @see http://www.manpagez.com/man/2/open/\n   * @method FileSystem#openSync\n   * @param {string} path\n   * @param {BrowserFS.FileMode} flags Handles the complexity of the various file\n   *   modes. See its API for more details.\n   * @param {number} mode Mode to use to open the file. Can be ignored if the\n   *   filesystem doesn't support permissions.\n   * @return {BrowserFS.File}\n   */\n  openSync(p: string, flag: file_flag.FileFlag, mode: number): file.File;\n  /**\n   * **Core**: Asynchronous `unlink`.\n   * @method FileSystem#unlink\n   * @param [string] path\n   * @param [FileSystem~nodeCallback] cb\n   */\n  unlink(p: string, cb: Function): void;\n  /**\n   * **Core**: Synchronous `unlink`.\n   * @method FileSystem#unlinkSync\n   * @param {string} path\n   */\n  unlinkSync(p: string): void;\n  // Directory operations\n  /**\n   * **Core**: Asynchronous `rmdir`.\n   * @method FileSystem#rmdir\n   * @param {string} path\n   * @param {FileSystem~nodeCallback} cb\n   */\n  rmdir(p: string, cb: Function): void;\n  /**\n   * **Core**: Synchronous `rmdir`.\n   * @method FileSystem#rmdirSync\n   * @param {string} path\n   */\n  rmdirSync(p: string): void;\n  /**\n   * **Core**: Asynchronous `mkdir`.\n   * @method FileSystem#mkdir\n   * @param {string} path\n   * @param {number?} mode Mode to make the directory using. Can be ignored if\n   *   the filesystem doesn't support permissions.\n   * @param {FileSystem~nodeCallback} cb\n   */\n  mkdir(p: string, mode: number, cb: Function): void;\n  /**\n   * **Core**: Synchronous `mkdir`.\n   * @method FileSystem#mkdirSync\n   * @param {string} path\n   * @param {number} mode Mode to make the directory using. Can be ignored if\n   *   the filesystem doesn't support permissions.\n   */\n  mkdirSync(p: string, mode: number): void;\n  /**\n   * **Core**: Asynchronous `readdir`. Reads the contents of a directory.\n   *\n   * The callback gets two arguments `(err, files)` where `files` is an array of\n   * the names of the files in the directory excluding `'.'` and `'..'`.\n   * @method FileSystem#readdir\n   * @param {string} path\n   * @param {FileSystem~readdirCallback} cb\n   */\n  readdir(p: string, cb: (err: api_error.ApiError, files?: string[]) => void): void;\n  /**\n   * **Core**: Synchronous `readdir`. Reads the contents of a directory.\n   * @method FileSystem#readdirSync\n   * @param {string} path\n   * @return {string[]}\n   */\n  readdirSync(p: string): string[];\n  // **SUPPLEMENTAL INTERFACE METHODS**\n  // File or directory operations\n  /**\n   * **Supplemental**: Test whether or not the given path exists by checking with\n   * the file system. Then call the callback argument with either true or false.\n   * @method FileSystem#exists\n   * @param {string} path\n   * @param {FileSystem~existsCallback} cb\n   */\n  exists(p: string, cb: (exists: boolean) => void): void;\n  /**\n   * **Supplemental**: Test whether or not the given path exists by checking with\n   * the file system.\n   * @method FileSystem#existsSync\n   * @param {string} path\n   * @return {boolean}\n   */\n  existsSync(p: string): boolean;\n  /**\n   * **Supplemental**: Asynchronous `realpath`. The callback gets two arguments\n   * `(err, resolvedPath)`.\n   *\n   * Note that the Node API will resolve `path` to an absolute path.\n   * @method FileSystem#realpath\n   * @param {string} path\n   * @param {Object} cache An object literal of mapped paths that can be used to\n   *   force a specific path resolution or avoid additional `fs.stat` calls for\n   *   known real paths. If not supplied by the user, it'll be an empty object.\n   * @param {FileSystem~pathCallback} cb\n   */\n  realpath(p: string, cache: {[path: string]: string}, cb: (err: api_error.ApiError, resolvedPath?: string) => any): void;\n  /**\n   * **Supplemental**: Synchronous `realpath`.\n   *\n   * Note that the Node API will resolve `path` to an absolute path.\n   * @method FileSystem#realpathSync\n   * @param {string} path\n   * @param {Object} cache An object literal of mapped paths that can be used to\n   *   force a specific path resolution or avoid additional `fs.stat` calls for\n   *   known real paths. If not supplied by the user, it'll be an empty object.\n   * @return {string}\n   */\n  realpathSync(p: string, cache: {[path: string]: string}): string;\n  // File operations\n  /**\n   *\n   * **Supplemental**: Asynchronous `truncate`.\n   * @method FileSystem#truncate\n   * @param {string} path\n   * @param {number} len\n   * @param {FileSystem~nodeCallback} cb\n   */\n  truncate(p: string, len: number, cb: Function): void;\n  /**\n   * **Supplemental**: Synchronous `truncate`.\n   * @method FileSystem#truncateSync\n   * @param {string} path\n   * @param {number} len\n   */\n  truncateSync(p: string, len: number): void;\n  /**\n   * **Supplemental**: Asynchronously reads the entire contents of a file.\n   * @method FileSystem#readFile\n   * @param {string} filename\n   * @param {string} encoding If non-null, the file's contents should be decoded\n   *   into a string using that encoding. Otherwise, if encoding is null, fetch\n   *   the file's contents as a Buffer.\n   * @param {BrowserFS.FileMode} flag\n   * @param {FileSystem~readCallback} cb If no encoding is specified, then the\n   *   raw buffer is returned.\n   */\n  readFile(fname: string, encoding: string, flag: file_flag.FileFlag, cb: (err: api_error.ApiError, data?: any) => void): void;\n  /**\n   * **Supplemental**: Synchronously reads the entire contents of a file.\n   * @method FileSystem#readFileSync\n   * @param {string} filename\n   * @param {string} encoding If non-null, the file's contents should be decoded\n   *   into a string using that encoding. Otherwise, if encoding is null, fetch\n   *   the file's contents as a Buffer.\n   * @param {BrowserFS.FileMode} flag\n   * @return {(string|BrowserFS.Buffer)}\n   */\n  readFileSync(fname: string, encoding: string, flag: file_flag.FileFlag): any;\n  /**\n   * **Supplemental**: Asynchronously writes data to a file, replacing the file\n   * if it already exists.\n   *\n   * The encoding option is ignored if data is a buffer.\n   * @method FileSystem#writeFile\n   * @param {string} filename\n   * @param {(string | BrowserFS.node.Buffer)} data\n   * @param {string} encoding\n   * @param {BrowserFS.FileMode} flag\n   * @param {number} mode\n   * @param {FileSystem~nodeCallback} cb\n   */\n  writeFile(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError) => void): void;\n  /**\n   * **Supplemental**: Synchronously writes data to a file, replacing the file\n   * if it already exists.\n   *\n   * The encoding option is ignored if data is a buffer.\n   * @method FileSystem#writeFileSync\n   * @param {string} filename\n   * @param {(string | BrowserFS.node.Buffer)} data\n   * @param {string} encoding\n   * @param {BrowserFS.FileMode} flag\n   * @param {number} mode\n   */\n  writeFileSync(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number): void;\n  /**\n   * **Supplemental**: Asynchronously append data to a file, creating the file if\n   * it not yet exists.\n   * @method FileSystem#appendFile\n   * @param {string} filename\n   * @param {(string | BrowserFS.node.Buffer)} data\n   * @param {string} encoding\n   * @param {BrowserFS.FileMode} flag\n   * @param {number} mode\n   * @param {FileSystem~nodeCallback} cb\n   */\n  appendFile(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError) => void): void;\n  /**\n   * **Supplemental**: Synchronously append data to a file, creating the file if\n   * it not yet exists.\n   * @method FileSystem#appendFileSync\n   * @param {string} filename\n   * @param {(string | BrowserFS.node.Buffer)} data\n   * @param {string} encoding\n   * @param {BrowserFS.FileMode} flag\n   * @param {number} mode\n   */\n  appendFileSync(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number): void;\n  // **OPTIONAL INTERFACE METHODS**\n  // Property operations\n  // This isn't always possible on some filesystem types (e.g. Dropbox).\n  /**\n   * **Optional**: Asynchronous `chmod` or `lchmod`.\n   * @method FileSystem#chmod\n   * @param {string} path\n   * @param {boolean} isLchmod `True` if `lchmod`, false if `chmod`. Has no\n   *   bearing on result if links aren't supported.\n   * @param {number} mode\n   * @param {FileSystem~nodeCallback} cb\n   */\n  chmod(p: string, isLchmod: boolean, mode: number, cb: Function): void;\n  /**\n   * **Optional**: Synchronous `chmod` or `lchmod`.\n   * @method FileSystem#chmodSync\n   * @param {string} path\n   * @param {boolean} isLchmod `True` if `lchmod`, false if `chmod`. Has no\n   *   bearing on result if links aren't supported.\n   * @param {number} mode\n   */\n  chmodSync(p: string, isLchmod: boolean, mode: number): void;\n  /**\n   * **Optional**: Asynchronous `chown` or `lchown`.\n   * @method FileSystem#chown\n   * @param {string} path\n   * @param {boolean} isLchown `True` if `lchown`, false if `chown`. Has no\n   *   bearing on result if links aren't supported.\n   * @param {number} uid\n   * @param {number} gid\n   * @param {FileSystem~nodeCallback} cb\n   */\n  chown(p: string, isLchown: boolean, uid: number, gid: number, cb: Function): void;\n  /**\n   * **Optional**: Synchronous `chown` or `lchown`.\n   * @method FileSystem#chownSync\n   * @param {string} path\n   * @param {boolean} isLchown `True` if `lchown`, false if `chown`. Has no\n   *   bearing on result if links aren't supported.\n   * @param {number} uid\n   * @param {number} gid\n   */\n  chownSync(p: string, isLchown: boolean, uid: number, gid: number): void;\n  /**\n   * **Optional**: Change file timestamps of the file referenced by the supplied\n   * path.\n   * @method FileSystem#utimes\n   * @param {string} path\n   * @param {Date} atime\n   * @param {Date} mtime\n   * @param {FileSystem~nodeCallback} cb\n   */\n  utimes(p: string, atime: Date, mtime: Date, cb: Function): void;\n  /**\n   * **Optional**: Change file timestamps of the file referenced by the supplied\n   * path.\n   * @method FileSystem#utimesSync\n   * @param {string} path\n   * @param {Date} atime\n   * @param {Date} mtime\n   */\n  utimesSync(p: string, atime: Date, mtime: Date): void;\n  // Symlink operations\n  // Symlinks aren't always supported.\n  /**\n   * **Optional**: Asynchronous `link`.\n   * @method FileSystem#link\n   * @param {string} srcpath\n   * @param {string} dstpath\n   * @param {FileSystem~nodeCallback} cb\n   */\n  link(srcpath: string, dstpath: string, cb: Function): void;\n  /**\n   * **Optional**: Synchronous `link`.\n   * @method FileSystem#linkSync\n   * @param {string} srcpath\n   * @param {string} dstpath\n   */\n  linkSync(srcpath: string, dstpath: string): void;\n  /**\n   * **Optional**: Asynchronous `symlink`.\n   * @method FileSystem#symlink\n   * @param {string} srcpath\n   * @param {string} dstpath\n   * @param {string} type can be either `'dir'` or `'file'`\n   * @param {FileSystem~nodeCallback} cb\n   */\n  symlink(srcpath: string, dstpath: string, type: string, cb: Function): void;\n  /**\n   * **Optional**: Synchronous `symlink`.\n   * @method FileSystem#symlinkSync\n   * @param {string} srcpath\n   * @param {string} dstpath\n   * @param {string} type can be either `'dir'` or `'file'`\n   */\n  symlinkSync(srcpath: string, dstpath: string, type: string): void;\n  /**\n   * **Optional**: Asynchronous readlink.\n   * @method FileSystem#readlink\n   * @param {string} path\n   * @param {FileSystem~pathCallback} callback\n   */\n  readlink(p: string, cb: Function): void;\n  /**\n   * **Optional**: Synchronous readlink.\n   * @method FileSystem#readlinkSync\n   * @param {string} path\n   */\n  readlinkSync(p: string): string;\n}\n\n/**\n * Contains typings for static functions on the file system constructor.\n */\nexport interface FileSystemConstructor {\n  /**\n   * **Core**: Returns 'true' if this filesystem is available in the current\n   * environment. For example, a `localStorage`-backed filesystem will return\n   * 'false' if the browser does not support that API.\n   *\n   * Defaults to 'false', as the FileSystem base class isn't usable alone.\n   * @method FileSystem.isAvailable\n   * @return {boolean}\n   */\n  isAvailable(): boolean;\n}\n\n/**\n * Basic filesystem class. Most filesystems should extend this class, as it\n * provides default implementations for a handful of methods.\n */\nexport class BaseFileSystem {\n  public supportsLinks(): boolean {\n    return false;\n  }\n  public diskSpace(p: string, cb: (total: number, free: number) => any): void {\n    cb(0, 0);\n  }\n  /**\n   * Opens the file at path p with the given flag. The file must exist.\n   * @param p The path to open.\n   * @param flag The flag to use when opening the file.\n   */\n  public openFile(p: string, flag: file_flag.FileFlag, cb: (e: api_error.ApiError, file?: file.File) => void): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  /**\n   * Create the file at path p with the given mode. Then, open it with the given\n   * flag.\n   */\n  public createFile(p: string, flag: file_flag.FileFlag, mode: number, cb: (e: api_error.ApiError, file?: file.File) => void): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public open(p: string, flag:file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError, fd?: file.BaseFile) => any): void {\n    var must_be_file = (e: api_error.ApiError, stats?: stat.Stats): void => {\n      if (e) {\n        // File does not exist.\n        switch (flag.pathNotExistsAction()) {\n          case ActionType.CREATE_FILE:\n            // Ensure parent exists.\n            return this.stat(path.dirname(p), false, (e: api_error.ApiError, parentStats?: stat.Stats) => {\n              if (e) {\n                cb(e);\n              } else if (!parentStats.isDirectory()) {\n                cb(new ApiError(ErrorCode.ENOTDIR, path.dirname(p) + \" is not a directory.\"));\n              } else {\n                this.createFile(p, flag, mode, cb);\n              }\n            });\n          case ActionType.THROW_EXCEPTION:\n            return cb(new ApiError(ErrorCode.ENOENT, \"\" + p + \" doesn't exist.\"));\n          default:\n            return cb(new ApiError(ErrorCode.EINVAL, 'Invalid FileFlag object.'));\n        }\n      } else {\n        // File exists.\n        if (stats.isDirectory()) {\n          return cb(new ApiError(ErrorCode.EISDIR, p + \" is a directory.\"));\n        }\n        switch (flag.pathExistsAction()) {\n          case ActionType.THROW_EXCEPTION:\n            return cb(new ApiError(ErrorCode.EEXIST, p + \" already exists.\"));\n          case ActionType.TRUNCATE_FILE:\n            // NOTE: In a previous implementation, we deleted the file and\n            // re-created it. However, this created a race condition if another\n            // asynchronous request was trying to read the file, as the file\n            // would not exist for a small period of time.\n            return this.openFile(p, flag, (e: api_error.ApiError, fd?: file.File): void => {\n              if (e) {\n                cb(e);\n              } else {\n                fd.truncate(0, () => {\n                  fd.sync(() => {\n                    cb(null, fd);\n                  });\n                });\n              }\n            });\n          case ActionType.NOP:\n            return this.openFile(p, flag, cb);\n          default:\n            return cb(new ApiError(ErrorCode.EINVAL, 'Invalid FileFlag object.'));\n        }\n      }\n    };\n    this.stat(p, false, must_be_file);\n  }\n  public rename(oldPath: string, newPath: string, cb: (err?: api_error.ApiError) => void): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public renameSync(oldPath: string, newPath: string): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public stat(p: string, isLstat: boolean, cb: (err: api_error.ApiError, stat?: stat.Stats) => void): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public statSync(p: string, isLstat: boolean): stat.Stats {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  /**\n   * Opens the file at path p with the given flag. The file must exist.\n   * @param p The path to open.\n   * @param flag The flag to use when opening the file.\n   * @return A File object corresponding to the opened file.\n   */\n  public openFileSync(p: string, flag: file_flag.FileFlag): file.File {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  /**\n   * Create the file at path p with the given mode. Then, open it with the given\n   * flag.\n   */\n  public createFileSync(p: string, flag: file_flag.FileFlag, mode: number): file.File {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public openSync(p: string, flag: file_flag.FileFlag, mode: number): file.File {\n    // Check if the path exists, and is a file.\n    var stats: stat.Stats;\n    try {\n      stats = this.statSync(p, false);\n    } catch (e) {\n      // File does not exist.\n      switch (flag.pathNotExistsAction()) {\n        case ActionType.CREATE_FILE:\n          // Ensure parent exists.\n          var parentStats = this.statSync(path.dirname(p), false);\n          if (!parentStats.isDirectory()) {\n            throw new ApiError(ErrorCode.ENOTDIR, path.dirname(p) + \" is not a directory.\");\n          }\n          return this.createFileSync(p, flag, mode);\n        case ActionType.THROW_EXCEPTION:\n          throw new ApiError(ErrorCode.ENOENT, \"\" + p + \" doesn't exist.\");\n        default:\n          throw new ApiError(ErrorCode.EINVAL, 'Invalid FileFlag object.');\n      }\n    }\n\n    // File exists.\n    if (stats.isDirectory()) {\n      throw new ApiError(ErrorCode.EISDIR, p + \" is a directory.\");\n    }\n    switch (flag.pathExistsAction()) {\n      case ActionType.THROW_EXCEPTION:\n        throw new ApiError(ErrorCode.EEXIST, p + \" already exists.\");\n      case ActionType.TRUNCATE_FILE:\n        // Delete file.\n        this.unlinkSync(p);\n        // Create file. Use the same mode as the old file.\n        // Node itself modifies the ctime when this occurs, so this action\n        // will preserve that behavior if the underlying file system\n        // supports those properties.\n        return this.createFileSync(p, flag, stats.mode);\n      case ActionType.NOP:\n        return this.openFileSync(p, flag);\n      default:\n        throw new ApiError(ErrorCode.EINVAL, 'Invalid FileFlag object.');\n    }\n  }\n  public unlink(p: string, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public unlinkSync(p: string): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public rmdir(p: string, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public rmdirSync(p: string): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public mkdir(p: string, mode: number, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public mkdirSync(p: string, mode: number): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public readdir(p: string, cb: (err: api_error.ApiError, files?: string[]) => void): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public readdirSync(p: string): string[] {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public exists(p: string, cb: (exists: boolean) => void): void {\n    this.stat(p, null, function(err) {\n      cb(err == null);\n    });\n  }\n  public existsSync(p: string): boolean {\n    try {\n      this.statSync(p, true);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n  public realpath(p: string, cache: {[path: string]: string}, cb: (err: api_error.ApiError, resolvedPath?: string) => any): void {\n    if (this.supportsLinks()) {\n      // The path could contain symlinks. Split up the path,\n      // resolve any symlinks, return the resolved string.\n      var splitPath = p.split(path.sep);\n      // TODO: Simpler to just pass through file, find sep and such.\n      for (var i = 0; i < splitPath.length; i++) {\n        var addPaths = splitPath.slice(0, i + 1);\n        splitPath[i] = path.join.apply(null, addPaths);\n      }\n    } else {\n      // No symlinks. We just need to verify that it exists.\n      this.exists(p, function(doesExist) {\n        if (doesExist) {\n          cb(null, p);\n        } else {\n          cb(new ApiError(ErrorCode.ENOENT, \"File \" + p + \" not found.\"));\n        }\n      });\n    }\n  }\n  public realpathSync(p: string, cache: {[path: string]: string}): string {\n    if (this.supportsLinks()) {\n      // The path could contain symlinks. Split up the path,\n      // resolve any symlinks, return the resolved string.\n      var splitPath = p.split(path.sep);\n      // TODO: Simpler to just pass through file, find sep and such.\n      for (var i = 0; i < splitPath.length; i++) {\n        var addPaths = splitPath.slice(0, i + 1);\n        splitPath[i] = path.join.apply(null, addPaths);\n      }\n    } else {\n      // No symlinks. We just need to verify that it exists.\n      if (this.existsSync(p)) {\n        return p;\n      } else {\n        throw new ApiError(ErrorCode.ENOENT, \"File \" + p + \" not found.\");\n      }\n    }\n  }\n  public truncate(p: string, len: number, cb: Function): void {\n    this.open(p, file_flag.FileFlag.getFileFlag('r+'), 0x1a4, (function(er: api_error.ApiError, fd?: file.File) {\n      if (er) {\n        return cb(er);\n      }\n      fd.truncate(len, (function(er: any) {\n        fd.close((function(er2: any) {\n          cb(er || er2);\n        }));\n      }));\n    }));\n  }\n  public truncateSync(p: string, len: number): void {\n    var fd = this.openSync(p, file_flag.FileFlag.getFileFlag('r+'), 0x1a4);\n    // Need to safely close FD, regardless of whether or not truncate succeeds.\n    try {\n      fd.truncateSync(len);\n    } catch (e) {\n      throw e;\n    } finally {\n      fd.closeSync();\n    }\n  }\n  public readFile(fname: string, encoding: string, flag: file_flag.FileFlag, cb: (err: api_error.ApiError, data?: any) => void): void {\n    // Wrap cb in file closing code.\n    var oldCb = cb;\n    // Get file.\n    this.open(fname, flag, 0x1a4, function(err: api_error.ApiError, fd?: file.File) {\n      if (err) {\n        return cb(err);\n      }\n      cb = function(err: api_error.ApiError, arg?: file.File) {\n        fd.close(function(err2: any) {\n          if (err == null) {\n            err = err2;\n          }\n          return oldCb(err, arg);\n        });\n      };\n      fd.stat(function(err: api_error.ApiError, stat?: stat.Stats) {\n        if (err != null) {\n          return cb(err);\n        }\n        // Allocate buffer.\n        var buf = new Buffer(stat.size);\n        fd.read(buf, 0, stat.size, 0, function(err) {\n          if (err != null) {\n            return cb(err);\n          } else if (encoding === null) {\n            return cb(err, buf);\n          }\n          try {\n            cb(null, buf.toString(encoding));\n          } catch (e) {\n            cb(e);\n          }\n        });\n      });\n    });\n  }\n  public readFileSync(fname: string, encoding: string, flag: file_flag.FileFlag): any {\n    // Get file.\n    var fd = this.openSync(fname, flag, 0x1a4);\n    try {\n      var stat = fd.statSync();\n      // Allocate buffer.\n      var buf = new Buffer(stat.size);\n      fd.readSync(buf, 0, stat.size, 0);\n      fd.closeSync();\n      if (encoding === null) {\n        return buf;\n      }\n      return buf.toString(encoding);\n    } finally {\n      fd.closeSync();\n    }\n  }\n  public writeFile(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError) => void): void {\n    // Wrap cb in file closing code.\n    var oldCb = cb;\n    // Get file.\n    this.open(fname, flag, 0x1a4, function(err: api_error.ApiError, fd?:file.File) {\n      if (err != null) {\n        return cb(err);\n      }\n      cb = function(err: api_error.ApiError) {\n        fd.close(function(err2: any) {\n          oldCb(err != null ? err : err2);\n        });\n      };\n\n      try {\n        if (typeof data === 'string') {\n          data = new Buffer(data, encoding);\n        }\n      } catch (e) {\n        return cb(e);\n      }\n      // Write into file.\n      fd.write(data, 0, data.length, 0, cb);\n    });\n  }\n  public writeFileSync(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number): void {\n    // Get file.\n    var fd = this.openSync(fname, flag, mode);\n    try {\n      if (typeof data === 'string') {\n        data = new Buffer(data, encoding);\n      }\n      // Write into file.\n      fd.writeSync(data, 0, data.length, 0);\n    } finally {\n      fd.closeSync();\n    }\n  }\n  public appendFile(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number, cb: (err: api_error.ApiError) => void): void {\n    // Wrap cb in file closing code.\n    var oldCb = cb;\n    this.open(fname, flag, mode, function(err: api_error.ApiError, fd?: file.File) {\n      if (err != null) {\n        return cb(err);\n      }\n      cb = function(err: api_error.ApiError) {\n        fd.close(function(err2: any) {\n          oldCb(err != null ? err : err2);\n        });\n      };\n      if (typeof data === 'string') {\n        data = new Buffer(data, encoding);\n      }\n      fd.write(data, 0, data.length, null, cb);\n    });\n  }\n  public appendFileSync(fname: string, data: any, encoding: string, flag: file_flag.FileFlag, mode: number): void {\n    var fd = this.openSync(fname, flag, mode);\n    try {\n      if (typeof data === 'string') {\n        data = new Buffer(data, encoding);\n      }\n      fd.writeSync(data, 0, data.length, null);\n    } finally {\n      fd.closeSync();\n    }\n  }\n  public chmod(p: string, isLchmod: boolean, mode: number, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public chmodSync(p: string, isLchmod: boolean, mode: number) {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public chown(p: string, isLchown: boolean, uid: number, gid: number, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public chownSync(p: string, isLchown: boolean, uid: number, gid: number): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public utimes(p: string, atime: Date, mtime: Date, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public utimesSync(p: string, atime: Date, mtime: Date): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public link(srcpath: string, dstpath: string, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public linkSync(srcpath: string, dstpath: string): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public symlink(srcpath: string, dstpath: string, type: string, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public symlinkSync(srcpath: string, dstpath: string, type: string): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n  public readlink(p: string, cb: Function): void {\n    cb(new ApiError(ErrorCode.ENOTSUP));\n  }\n  public readlinkSync(p: string): string {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n}\n\n/**\n * Implements the asynchronous API in terms of the synchronous API.\n * @class SynchronousFileSystem\n */\nexport class SynchronousFileSystem extends BaseFileSystem {\n  public supportsSynch(): boolean {\n    return true;\n  }\n\n  public rename(oldPath: string, newPath: string, cb: Function): void {\n    try {\n      this.renameSync(oldPath, newPath);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public stat(p: string, isLstat: boolean, cb: Function): void {\n    try {\n      cb(null, this.statSync(p, isLstat));\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public open(p: string, flags: file_flag.FileFlag, mode: number, cb: Function): void {\n    try {\n      cb(null, this.openSync(p, flags, mode));\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public unlink(p: string, cb: Function): void {\n    try {\n      this.unlinkSync(p);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public rmdir(p: string, cb: Function): void {\n    try {\n      this.rmdirSync(p);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public mkdir(p: string, mode: number, cb: Function): void {\n    try {\n      this.mkdirSync(p, mode);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public readdir(p: string, cb: Function): void {\n    try {\n      cb(null, this.readdirSync(p));\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public chmod(p: string, isLchmod: boolean, mode: number, cb: Function): void {\n    try {\n      this.chmodSync(p, isLchmod, mode);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public chown(p: string, isLchown: boolean, uid: number, gid: number, cb: Function): void {\n    try {\n      this.chownSync(p, isLchown, uid, gid);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public utimes(p: string, atime: Date, mtime: Date, cb: Function): void {\n    try {\n      this.utimesSync(p, atime, mtime);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public link(srcpath: string, dstpath: string, cb: Function): void {\n    try {\n      this.linkSync(srcpath, dstpath);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public symlink(srcpath: string, dstpath: string, type: string, cb: Function): void {\n    try {\n      this.symlinkSync(srcpath, dstpath, type);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  public readlink(p: string, cb: Function): void {\n    try {\n      cb(null, this.readlinkSync(p));\n    } catch (e) {\n      cb(e);\n    }\n  }\n}\n",
    "/**\n * Exports the global scope variable.\n * In the main browser thread, this is \"window\".\n * In a WebWorker, this is \"self\".\n * In Node, this is \"global\".\n */\ndeclare var global: any;\nvar toExport: any;\nif (typeof(window) !== 'undefined') {\n  toExport = window;\n} else if (typeof(self) !== 'undefined') {\n  toExport = self;\n} else {\n  toExport = global;\n}\nexport = toExport;",
    "/**\n * Contains helper classes for emulating Node EventEmitters.\n * @todo Pipe / unpipe functions and events.\n * @todo 'close' event (when is it emitted?)\n * @todo Listen for user-supplied events on Writable/Readable (e.g. 'close'/'end').\n */\nimport buffer = require('./buffer');\nimport api_error = require('./api_error');\nvar Buffer = buffer.Buffer;\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\n\n/**\n * Internal class. Represents a buffered event.\n */\nclass BufferedEvent {\n  public size: number;\n  constructor(public data: any, public encoding?: string, public cb?: Function) {\n    this.size = typeof(data) !== 'string' ? data.length : Buffer.byteLength(data, encoding != null ? encoding : undefined);\n    // If data is a buffer, we need to copy it.\n    if (typeof(this.data) !== 'string') {\n      this.data = this.data.sliceCopy();\n    }\n  }\n\n  /**\n   * Get data as a buffer, or as a string in the specified encoding.\n   */\n  public getData(): NodeBuffer;\n  public getData(encoding: string): string;\n  public getData(encoding?: string): any {\n    if (encoding == null) {\n      if (typeof(this.data) === 'string') {\n        return new Buffer(this.data, this.encoding != null ? this.encoding : undefined);\n      } else {\n        return this.data;\n      }\n    } else {\n      if (typeof(this.data) === 'string') {\n        if (encoding === this.encoding) {\n          return this.data;\n        } else {\n          return (new Buffer(this.data, this.encoding != null ? this.encoding : undefined)).toString(encoding);\n        }\n      } else {\n        return this.data.toString(encoding);\n      }\n    }\n  }\n}\n\n/**\n * Provides an abstract implementation of the EventEmitter interface.\n */\nexport class AbstractEventEmitter implements NodeJS.EventEmitter {\n  private _listeners: {[event: string]: Function[]} = {};\n  private maxListeners: number = 10;\n\n  /**\n   * Adds a listener for the particular event.\n   */\n  public addListener(event: string, listener: Function): NodeJS.EventEmitter {\n    if (typeof(this._listeners[event]) === 'undefined') {\n      this._listeners[event] = [];\n    }\n    if (this._listeners[event].push(listener) > this.maxListeners) {\n      process.stdout.write(\"Warning: Event \" + event + \" has more than \" + this.maxListeners + \" listeners.\\n\");\n    }\n    this.emit('newListener', event, listener);\n    return this;\n  }\n\n  /**\n   * Adds a listener for the particular event.\n   */\n  public on(event: string, listener: Function): NodeJS.EventEmitter {\n    return this.addListener(event, listener);\n  }\n\n  /**\n   * Adds a listener for the particular event that fires only once.\n   */\n  public once(event: string, listener: Function): NodeJS.EventEmitter {\n    // Create a new callback that will only fire once.\n    var fired: boolean = false,\n        newListener: Function = function() {\n          this.removeListener(event, newListener);\n\n          if (!fired) {\n            fired = true;\n            listener.apply(this, arguments);\n          }\n        };\n    return this.addListener(event, newListener);\n  }\n\n  /**\n   * Emits the 'removeListener' event for the specified listeners.\n   */\n  private _emitRemoveListener(event: string, listeners: Function[]): void {\n    var i: number;\n    // Only emit the event if someone is listening.\n    if (this._listeners['removeListener'] && this._listeners['removeListener'].length > 0) {\n      for (i = 0; i < listeners.length; i++) {\n        this.emit('removeListener', event, listeners[i]);\n      }\n    }\n  }\n\n  /**\n   * Removes the particular listener for the given event.\n   */\n  public removeListener(event: string, listener: Function): NodeJS.EventEmitter {\n    var listeners = this._listeners[event];\n    if (typeof(listeners) !== 'undefined') {\n      // Remove listener, if present.\n      var idx = listeners.indexOf(listener);\n      if (idx > -1) {\n        listeners.splice(idx, 1);\n      }\n    }\n    this.emit('removeListener', event, listener);\n    return this;\n  }\n\n  /**\n   * Removes all listeners, or those of the specified event.\n   */\n  public removeAllListeners(event?: string): NodeJS.EventEmitter {\n    var removed: Function[], keys: string[], i: number;\n    if (typeof(event) !== 'undefined') {\n      removed = this._listeners[event];\n      // Clear one event.\n      this._listeners[event] = [];\n      this._emitRemoveListener(event, removed);\n    } else {\n      // Clear all events.\n      keys = Object.keys(this._listeners);\n      for (i = 0; i < keys.length; i++) {\n        this.removeAllListeners(keys[i]);\n      }\n    }\n    return this;\n  }\n\n  /**\n   * EventEmitters print a warning when an event has greater than this specified\n   * number of listeners.\n   */\n  public setMaxListeners(n: number): void {\n    this.maxListeners = n;\n  }\n\n  /**\n   * Returns the listeners for the given event.\n   */\n  public listeners(event: string): Function[] {\n    if (typeof(this._listeners[event]) === 'undefined') {\n      this._listeners[event] = [];\n    }\n    // Return a *copy* of our internal structure.\n    return this._listeners[event].slice(0);\n  }\n\n  /**\n   * Emits the specified event to all listeners of the particular event.\n   */\n  public emit(event: string, ...args: any[]): boolean {\n    var listeners = this._listeners[event],\n        rv: boolean = false;\n    if (typeof(listeners) !== 'undefined') {\n      var i: number;\n      for (i = 0; i < listeners.length; i++) {\n        rv = true;\n        listeners[i].apply(this, args);\n      }\n    }\n    return rv;\n  }\n}\n\n/**\n * Provides an abstract implementation of the WritableStream and ReadableStream\n * interfaces.\n * @todo: Check readable/writable status.\n */\nexport class AbstractDuplexStream extends AbstractEventEmitter implements NodeJS.ReadWriteStream {\n  /**\n   * How should the data output be encoded? 'null' means 'Buffer'.\n   */\n  private encoding: string = null;\n  /**\n   * Is this stream currently flowing (resumed) or non-flowing (paused)?\n   */\n  private flowing: boolean = false;\n  /**\n   * Event buffer. Simply queues up all write requests.\n   */\n  private buffer: BufferedEvent[] = [];\n  /**\n   * Once set, the stream is closed. Emitted once 'buffer' is empty.\n   */\n  private endEvent: BufferedEvent = null;\n  /**\n   * Has the stream ended?\n   */\n  private ended: boolean = false;\n  /**\n   * The last time we checked, was the buffer empty?\n   * We emit 'readable' events when this transitions from 'true' -> 'false'.\n   */\n  private drained: boolean = true;\n\n  /**\n   * Abstract stream implementation that can be configured to be readable and/or\n   * writable.\n   */\n  constructor(public writable: boolean, public readable: boolean) {\n    super();\n  }\n\n  /**\n   * Adds a listener for the particular event.\n   * Implemented here so that we can capture data EventListeners, which trigger\n   * us to 'resume'.\n   */\n  public addListener(event: string, listener: Function): NodeJS.EventEmitter {\n    var rv = super.addListener(event, listener),\n        _this = this;\n    if (event === 'data' && !this.flowing) {\n      this.resume();\n    } else if (event === 'readable' && this.buffer.length > 0) {\n      setTimeout(function() {\n        _this.emit('readable');\n      }, 0);\n    }\n    return rv;\n  }\n\n  /**\n   * Helper function for 'write' and 'end' functions.\n   */\n  private _processArgs(data?: any, arg2?: any, arg3?: any): BufferedEvent {\n    if (typeof(arg2) === 'string') {\n      // data, encoding, cb?\n      return new BufferedEvent(data, arg2, arg3);\n    } else {\n      // data, cb?\n      return new BufferedEvent(data, null, arg2);\n    }\n  }\n\n  /**\n   * If flowing, this will process pending events.\n   */\n  private _processEvents(): void {\n    var drained = this.buffer.length === 0;\n    if (this.drained !== drained) {\n      if (this.drained) {\n        // Went from drained to not drained. New stuff is available.\n        // @todo: Is this event relevant in flowing mode?\n        this.emit('readable');\n      }\n    }\n\n    if (this.flowing && this.buffer.length !== 0) {\n      this.emit('data', this.read());\n    }\n    // Are we drained? Check.\n    this.drained = this.buffer.length === 0;\n  }\n\n  /**\n   * Emits the given buffered event.\n   */\n  private emitEvent(type: string, event: BufferedEvent) {\n    this.emit(type, event.getData(this.encoding));\n    if (event.cb) {\n      event.cb();\n    }\n  }\n\n  /**\n   * Write data to the stream.\n   */\n  public write(data: string, cb?: Function): boolean;\n  public write(data: string, encoding?: string, cb?: Function): boolean;\n  public write(data: NodeBuffer, cb?: Function): boolean;\n  public write(data: any, arg2?: any, arg3?: Function): boolean {\n    if (this.ended) {\n      throw new ApiError(ErrorCode.EPERM, 'Cannot write to an ended stream.');\n    }\n    var event = this._processArgs(data, arg2, arg3);\n    this._push(event);\n    return this.flowing;\n  }\n\n  /**\n   * Emit an 'end' event to close the stream.\n   */\n  public end(): void;\n  public end(data: string, cb?: Function): void;\n  public end(data: string, encoding?: string, cb?: Function): void;\n  public end(data: NodeBuffer): void;\n  public end(data?: any, arg2?: any, arg3?: Function): void {\n    if (this.ended) {\n      throw new ApiError(ErrorCode.EPERM, 'Stream is already closed.');\n    }\n    var event = this._processArgs(data, arg2, arg3);\n    this.ended = true;\n    this.endEvent = event;\n    this._processEvents();\n  }\n\n  /**** Readable Interface ****/\n\n  /**\n   * Read a given number of bytes from the buffer. Should only be called in\n   * non-flowing mode.\n   * If we do not have `size` bytes available, return null.\n   */\n  public read(size?: number): any {\n    var events: NodeBuffer[] = [],\n        eventsCbs: Function[] = [],\n        lastCb: Function,\n        eventsSize: number = 0,\n        event: BufferedEvent,\n        buff: NodeBuffer,\n        trueSize: number,\n        i: number = 0,\n        sizeUnspecified: boolean = typeof(size) !== 'number';\n\n    // I do this so I do not need to specialize the loop below.\n    if (sizeUnspecified) size = 4294967295;\n\n    // Figure out how many scheduled write events we need to process before we\n    // satisfy the requested size.\n    for (i = 0; i < this.buffer.length && eventsSize < size; i++) {\n      event = this.buffer[i];\n      events.push(event.getData());\n      if (event.cb) {\n        eventsCbs.push(event.cb);\n      }\n      eventsSize += event.size;\n      lastCb = event.cb;\n    }\n\n    if (!sizeUnspecified && eventsSize < size) {\n      // For some reason, the Node stream API specifies that we either return\n      // 'size' bytes of data, or nothing at all.\n      return null;\n    }\n\n    // Remove all of the events we are processing from the buffer.\n    this.buffer = this.buffer.slice(events.length);\n\n    // The 'true size' of the final event we're going to send out.\n    trueSize = eventsSize > size ? size : eventsSize;\n\n    // Concat at all of the events into one buffer.\n    buff = Buffer.concat(events);\n    if (eventsSize > size) {\n      // If last event had a cb, ignore it -- we trigger it when that *entire*\n      // write finishes.\n      if (lastCb) eventsCbs.pop();\n      // Make a new event for the remaining data.\n      this._push(new BufferedEvent(buff.slice(size), null, lastCb));\n    }\n\n    // Schedule the relevant cbs to fire *after* we've returned these values.\n    if (eventsCbs.length > 0) {\n      setTimeout(function() {\n        var i: number;\n        for (i = 0; i < eventsCbs.length; i++) {\n          eventsCbs[i]();\n        }\n      }, 0);\n    }\n\n    // If we're at the end of the buffer and an endEvent is specified, schedule\n    // the event to fire.\n    if (this.ended && this.buffer.length === 0 && this.endEvent !== null) {\n      var endEvent = this.endEvent,\n          _this = this;\n      // Erase it so we don't accidentally trigger it again.\n      this.endEvent = null;\n      setTimeout(function() {\n        _this.emitEvent('end', endEvent);\n      }, 0);\n    }\n\n    // Return in correct encoding.\n    if (events.length === 0) {\n      // Buffer was empty. We're supposed to return 'null', as opposed to an\n      // empty buffer or string.\n      // [BFS] Emit a '_read' event to signal that maybe the write-end of this\n      //       should push some data into the pipe.\n      this.emit('_read');\n      return null;\n    } else if (this.encoding === null) {\n      return buff.slice(0, trueSize);\n    } else {\n      return buff.toString(this.encoding, 0, trueSize);\n    }\n  }\n\n  /**\n   * Set the encoding for the 'data' event.\n   */\n  public setEncoding(encoding: string): void {\n    this.encoding = encoding;\n  }\n\n  /**\n   * Pause the stream.\n   */\n  public pause(): void {\n    this.flowing = false;\n  }\n\n  /**\n   * Resume the stream.\n   */\n  public resume(): void {\n    this.flowing = true;\n    // Process any buffered writes.\n    this._processEvents();\n  }\n\n  /**\n   * Pipe a readable stream into a writable stream. Currently unimplemented.\n   */\n  public pipe<T extends NodeJS.WritableStream>(destination: T, options?: { end?: boolean; }): T {\n    throw new ApiError(ErrorCode.EPERM, \"Unimplemented.\");\n  }\n  public unpipe<T extends NodeJS.WritableStream>(destination?: T): void {}\n\n  /**\n   * 'Unshift' the given piece of data back into the buffer.\n   */\n  public unshift(chunk: String): void;\n  public unshift(chunk: NodeBuffer): void;\n  public unshift(chunk: any): void {\n    if (this.ended) {\n      throw new ApiError(ErrorCode.EPERM, \"Stream has ended.\");\n    }\n    this.buffer.unshift(new BufferedEvent(chunk, this.encoding));\n    this._processEvents();\n  }\n\n  /**\n   * 'Push' the given piece of data to the back of the buffer.\n   * Returns true if the event was sent out, false if buffered.\n   */\n  private _push(event: BufferedEvent): void {\n    this.buffer.push(event);\n    this._processEvents();\n  }\n\n  /**\n   * Enables backwards-compatibility with older versions of Node and their\n   * stream interface. Unimplemented.\n   */\n  public wrap(stream: NodeJS.ReadableStream): NodeJS.ReadableStream {\n    throw new ApiError(ErrorCode.EPERM, \"Unimplemented.\");\n  }\n}\n",
    "import file = require('./file');\nimport api_error = require('./api_error');\nimport file_system = require('./file_system');\nimport file_flag = require('./file_flag');\nimport buffer = require('./buffer');\nimport path = require('./node_path');\nimport node_fs_stats = require('./node_fs_stats');\n\nimport ApiError = api_error.ApiError;\nimport ErrorCode = api_error.ErrorCode;\nimport FileFlag = file_flag.FileFlag;\nimport Buffer = buffer.Buffer;\n\ndeclare var __numWaiting: number;\ndeclare var setImmediate: (cb: Function) => void;\n\n/**\n * Wraps a callback with a setImmediate call.\n * @param [Function] cb The callback to wrap.\n * @param [Number] numArgs The number of arguments that the callback takes.\n * @return [Function] The wrapped callback.\n */\nfunction wrapCb(cb: Function, numArgs: number): Function {\n  if (typeof cb !== 'function') {\n    throw new ApiError(ErrorCode.EINVAL, 'Callback must be a function.');\n  }\n  // @todo This is used for unit testing. Maybe we should inject this logic\n  //       dynamically rather than bundle it in 'production' code.\n  if (typeof __numWaiting === 'undefined') {\n    __numWaiting = 0;\n  }\n  __numWaiting++;\n  // We could use `arguments`, but Function.call/apply is expensive. And we only\n  // need to handle 1-3 arguments\n  switch (numArgs) {\n    case 1:\n      return function(arg1: any) {\n        setImmediate(function() {\n          __numWaiting--;\n          return cb(arg1);\n        });\n      };\n    case 2:\n      return function(arg1: any, arg2: any) {\n        setImmediate(function() {\n          __numWaiting--;\n          return cb(arg1, arg2);\n        });\n      };\n    case 3:\n      return function(arg1: any, arg2: any, arg3: any) {\n        setImmediate(function() {\n          __numWaiting--;\n          return cb(arg1, arg2, arg3);\n        });\n      };\n    default:\n      throw new Error('Invalid invocation of wrapCb.');\n  }\n}\n\n/**\n * Checks if the fd is valid.\n * @param [BrowserFS.File] fd A file descriptor (in BrowserFS, it's a File object)\n * @return [Boolean, BrowserFS.ApiError] Returns `true` if the FD is OK,\n *   otherwise returns an ApiError.\n */\nfunction checkFd(fd: file.File): void {\n  if (typeof fd['write'] !== 'function') {\n    throw new ApiError(ErrorCode.EBADF, 'Invalid file descriptor.');\n  }\n}\n\nfunction normalizeMode(mode: any, def: number): number {\n  switch(typeof mode) {\n    case 'number':\n      // (path, flag, mode, cb?)\n      return mode;\n    case 'string':\n      // (path, flag, modeString, cb?)\n      var trueMode = parseInt(mode, 8);\n      if (trueMode !== NaN) {\n        return trueMode;\n      }\n      // FALL THROUGH if mode is an invalid string!\n    default:\n      return def;\n  }\n}\n\nfunction normalizePath(p: string): string {\n  // Node doesn't allow null characters in paths.\n  if (p.indexOf('\\u0000') >= 0) {\n    throw new ApiError(ErrorCode.EINVAL, 'Path must be a string without null bytes.');\n  } else if (p === '') {\n    throw new ApiError(ErrorCode.EINVAL, 'Path must not be empty.');\n  }\n  return path.resolve(p);\n}\n\nfunction normalizeOptions(options: any, defEnc: string, defFlag: string, defMode: number): {encoding: string; flag: string; mode: number} {\n  switch (typeof options) {\n    case 'object':\n      return {\n        encoding: typeof options['encoding'] !== 'undefined' ? options['encoding'] : defEnc,\n        flag: typeof options['flag'] !== 'undefined' ? options['flag'] : defFlag,\n        mode: normalizeMode(options['mode'], defMode)\n      };\n    case 'string':\n      return {\n        encoding: options,\n        flag: defFlag,\n        mode: defMode\n      };\n    default:\n      return {\n        encoding: defEnc,\n        flag: defFlag,\n        mode: defMode\n      };\n  }\n}\n\n// The default callback is a NOP.\nfunction nopCb() {};\n\n/**\n * The node frontend to all filesystems.\n * This layer handles:\n *\n * * Sanity checking inputs.\n * * Normalizing paths.\n * * Resetting stack depth for asynchronous operations which may not go through\n *   the browser by wrapping all input callbacks using `setImmediate`.\n * * Performing the requested operation through the filesystem or the file\n *   descriptor, as appropriate.\n * * Handling optional arguments and setting default arguments.\n * @see http://nodejs.org/api/fs.html\n * @class\n */\nclass fs {\n  private static root: file_system.FileSystem = null;\n\n  public static _initialize(rootFS: file_system.FileSystem): file_system.FileSystem {\n    if (!(<any> rootFS).constructor.isAvailable()) {\n      throw new ApiError(ErrorCode.EINVAL, 'Tried to instantiate BrowserFS with an unavailable file system.');\n    }\n    return fs.root = rootFS;\n  }\n\n  /**\n   * converts Date or number to a fractional UNIX timestamp\n   * Grabbed from NodeJS sources (lib/fs.js)\n   */\n  public static _toUnixTimestamp(time: Date): number;\n  public static _toUnixTimestamp(time: number): number;\n  public static _toUnixTimestamp(time: any): number {\n    if (typeof time === 'number') {\n      return time;\n    } else if (time instanceof Date) {\n      return time.getTime() / 1000;\n    }\n    throw new Error(\"Cannot parse time: \" + time);\n  }\n\n  /**\n   * **NONSTANDARD**: Grab the FileSystem instance that backs this API.\n   * @return [BrowserFS.FileSystem | null] Returns null if the file system has\n   *   not been initialized.\n   */\n  public static getRootFS(): file_system.FileSystem {\n    if (fs.root) {\n      return fs.root;\n    } else {\n      return null;\n    }\n  }\n\n  // FILE OR DIRECTORY METHODS\n\n  /**\n   * Asynchronous rename. No arguments other than a possible exception are given\n   * to the completion callback.\n   * @param [String] oldPath\n   * @param [String] newPath\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static rename(oldPath: string, newPath: string, cb: (err?: api_error.ApiError) => void = nopCb): void {\n    var newCb = <(err?: api_error.ApiError) => void> wrapCb(cb, 1);\n    try {\n      fs.root.rename(normalizePath(oldPath), normalizePath(newPath), newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous rename.\n   * @param [String] oldPath\n   * @param [String] newPath\n   */\n  public static renameSync(oldPath: string, newPath: string): void {\n    fs.root.renameSync(normalizePath(oldPath), normalizePath(newPath));\n  }\n\n  /**\n   * Test whether or not the given path exists by checking with the file system.\n   * Then call the callback argument with either true or false.\n   * @example Sample invocation\n   *   fs.exists('/etc/passwd', function (exists) {\n   *     util.debug(exists ? \"it's there\" : \"no passwd!\");\n   *   });\n   * @param [String] path\n   * @param [Function(Boolean)] callback\n   */\n  public static exists(path: string, cb: (exists: boolean) => void = nopCb): void {\n    var newCb = <(exists: boolean) => void> wrapCb(cb, 1);\n    try {\n      return fs.root.exists(normalizePath(path), newCb);\n    } catch (e) {\n      // Doesn't return an error. If something bad happens, we assume it just\n      // doesn't exist.\n      return newCb(false);\n    }\n  }\n\n  /**\n   * Test whether or not the given path exists by checking with the file system.\n   * @param [String] path\n   * @return [boolean]\n   */\n  public static existsSync(path: string): boolean {\n    try {\n      return fs.root.existsSync(normalizePath(path));\n    } catch (e) {\n      // Doesn't return an error. If something bad happens, we assume it just\n      // doesn't exist.\n      return false;\n    }\n  }\n\n  /**\n   * Asynchronous `stat`.\n   * @param [String] path\n   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] callback\n   */\n  public static stat(path: string, cb: (err: api_error.ApiError, stats?: node_fs_stats.Stats) => any = nopCb): void {\n    var newCb = <(err: api_error.ApiError, stats?: node_fs_stats.Stats) => any> wrapCb(cb, 2);\n    try {\n      return fs.root.stat(normalizePath(path), false, newCb);\n    } catch (e) {\n      return newCb(e, null);\n    }\n  }\n\n  /**\n   * Synchronous `stat`.\n   * @param [String] path\n   * @return [BrowserFS.node.fs.Stats]\n   */\n  public static statSync(path: string): node_fs_stats.Stats {\n    return fs.root.statSync(normalizePath(path), false);\n  }\n\n  /**\n   * Asynchronous `lstat`.\n   * `lstat()` is identical to `stat()`, except that if path is a symbolic link,\n   * then the link itself is stat-ed, not the file that it refers to.\n   * @param [String] path\n   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] callback\n   */\n  public static lstat(path: string, cb: (err: api_error.ApiError, stats?: node_fs_stats.Stats) => any = nopCb): void {\n    var newCb = <(err: api_error.ApiError, stats?: node_fs_stats.Stats) => any> wrapCb(cb, 2);\n    try {\n      return fs.root.stat(normalizePath(path), true, newCb);\n    } catch (e) {\n      return newCb(e, null);\n    }\n  }\n\n  /**\n   * Synchronous `lstat`.\n   * `lstat()` is identical to `stat()`, except that if path is a symbolic link,\n   * then the link itself is stat-ed, not the file that it refers to.\n   * @param [String] path\n   * @return [BrowserFS.node.fs.Stats]\n   */\n  public static lstatSync(path: string): node_fs_stats.Stats {\n    return fs.root.statSync(normalizePath(path), true);\n  }\n\n  // FILE-ONLY METHODS\n\n  /**\n   * Asynchronous `truncate`.\n   * @param [String] path\n   * @param [Number] len\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static truncate(path: string, cb?: Function): void;\n  public static truncate(path: string, len: number, cb?: Function): void;\n  public static truncate(path: string, arg2: any = 0, cb: Function = nopCb): void {\n    var len = 0;\n    if (typeof arg2 === 'function') {\n      cb = arg2;\n    } else if (typeof arg2 === 'number') {\n      len = arg2;\n    }\n\n    var newCb = wrapCb(cb, 1);\n    try {\n      if (len < 0) {\n        throw new ApiError(ErrorCode.EINVAL);\n      }\n      return fs.root.truncate(normalizePath(path), len, newCb);\n    } catch (e) {\n      return newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `truncate`.\n   * @param [String] path\n   * @param [Number] len\n   */\n  public static truncateSync(path: string, len: number = 0): void {\n    if (len < 0) {\n      throw new ApiError(ErrorCode.EINVAL);\n    }\n    return fs.root.truncateSync(normalizePath(path), len);\n  }\n\n  /**\n   * Asynchronous `unlink`.\n   * @param [String] path\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static unlink(path: string, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      return fs.root.unlink(normalizePath(path), newCb);\n    } catch (e) {\n      return newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `unlink`.\n   * @param [String] path\n   */\n  public static unlinkSync(path: string): void {\n    return fs.root.unlinkSync(normalizePath(path));\n  }\n\n  /**\n   * Asynchronous file open.\n   * Exclusive mode ensures that path is newly created.\n   *\n   * `flags` can be:\n   *\n   * * `'r'` - Open file for reading. An exception occurs if the file does not exist.\n   * * `'r+'` - Open file for reading and writing. An exception occurs if the file does not exist.\n   * * `'rs'` - Open file for reading in synchronous mode. Instructs the filesystem to not cache writes.\n   * * `'rs+'` - Open file for reading and writing, and opens the file in synchronous mode.\n   * * `'w'` - Open file for writing. The file is created (if it does not exist) or truncated (if it exists).\n   * * `'wx'` - Like 'w' but opens the file in exclusive mode.\n   * * `'w+'` - Open file for reading and writing. The file is created (if it does not exist) or truncated (if it exists).\n   * * `'wx+'` - Like 'w+' but opens the file in exclusive mode.\n   * * `'a'` - Open file for appending. The file is created if it does not exist.\n   * * `'ax'` - Like 'a' but opens the file in exclusive mode.\n   * * `'a+'` - Open file for reading and appending. The file is created if it does not exist.\n   * * `'ax+'` - Like 'a+' but opens the file in exclusive mode.\n   *\n   * @see http://www.manpagez.com/man/2/open/\n   * @param [String] path\n   * @param [String] flags\n   * @param [Number?] mode defaults to `0644`\n   * @param [Function(BrowserFS.ApiError, BrowserFS.File)] callback\n   */\n  public static open(path: string, flag: string, cb?: (err: api_error.ApiError, fd?: file.File) => any): void;\n  public static open(path: string, flag: string, mode: string, cb?: (err: api_error.ApiError, fd?: file.File) => any): void;\n  public static open(path: string, flag: string, mode: number, cb?: (err: api_error.ApiError, fd?: file.File) => any): void;\n  public static open(path: string, flag: string, arg2?: any, cb: (err: api_error.ApiError, fd?: file.File) => any = nopCb): void {\n    var mode = normalizeMode(arg2, 0x1a4);\n    cb = typeof arg2 === 'function' ? arg2 : cb;\n    var newCb = <(err: api_error.ApiError, fd?: file.File) => any> wrapCb(cb, 2);\n    try {\n      return fs.root.open(normalizePath(path), FileFlag.getFileFlag(flag), mode, newCb);\n    } catch (e) {\n      return newCb(e, null);\n    }\n  }\n\n  /**\n   * Synchronous file open.\n   * @see http://www.manpagez.com/man/2/open/\n   * @param [String] path\n   * @param [String] flags\n   * @param [Number?] mode defaults to `0644`\n   * @return [BrowserFS.File]\n   */\n  public static openSync(path: string, flag: string, mode?: string): file.File;\n  public static openSync(path: string, flag: string, mode?: number): file.File;\n  public static openSync(path: string, flag: string, mode: any = 0x1a4): file.File {\n    return fs.root.openSync(normalizePath(path), FileFlag.getFileFlag(flag), mode);\n  }\n\n  /**\n   * Asynchronously reads the entire contents of a file.\n   * @example Usage example\n   *   fs.readFile('/etc/passwd', function (err, data) {\n   *     if (err) throw err;\n   *     console.log(data);\n   *   });\n   * @param [String] filename\n   * @param [Object?] options\n   * @option options [String] encoding The string encoding for the file contents. Defaults to `null`.\n   * @option options [String] flag Defaults to `'r'`.\n   * @param [Function(BrowserFS.ApiError, String | BrowserFS.node.Buffer)] callback If no encoding is specified, then the raw buffer is returned.\n   */\n  public static readFile(filename: string, cb?: (err: api_error.ApiError, data?: any) => void ): void;\n  public static readFile(filename: string, options: {[opt: string]: any}, cb?: (err: api_error.ApiError, data?: any) => void ): void;\n  public static readFile(filename: string, encoding: string, cb?: (err: api_error.ApiError, data?: any) => void ): void;\n  public static readFile(filename: string, arg2: any = {}, cb: (err: api_error.ApiError, data?: any) => void = nopCb ) {\n    var options = normalizeOptions(arg2, null, 'r', null);\n    cb = typeof arg2 === 'function' ? arg2 : cb;\n    var newCb = <(err: api_error.ApiError, data?: any) => void> wrapCb(cb, 2);\n    try {\n      var flag = FileFlag.getFileFlag(options['flag']);\n      if (!flag.isReadable()) {\n        return newCb(new ApiError(ErrorCode.EINVAL, 'Flag passed to readFile must allow for reading.'));\n      }\n      return fs.root.readFile(normalizePath(filename), options.encoding, flag, newCb);\n    } catch (e) {\n      return newCb(e, null);\n    }\n  }\n\n  /**\n   * Synchronously reads the entire contents of a file.\n   * @param [String] filename\n   * @param [Object?] options\n   * @option options [String] encoding The string encoding for the file contents. Defaults to `null`.\n   * @option options [String] flag Defaults to `'r'`.\n   * @return [String | BrowserFS.node.Buffer]\n   */\n  public static readFileSync(filename: string, encoding?: string): NodeBuffer;\n  public static readFileSync(filename: string, options?: { encoding?: string; flag?: string; }): NodeBuffer;\n  public static readFileSync(filename: string, arg2: any = {}): NodeBuffer {\n    var options = normalizeOptions(arg2, null, 'r', null);\n    var flag = FileFlag.getFileFlag(options.flag);\n    if (!flag.isReadable()) {\n      throw new ApiError(ErrorCode.EINVAL, 'Flag passed to readFile must allow for reading.');\n    }\n    return fs.root.readFileSync(normalizePath(filename), options.encoding, flag);\n  }\n\n  /**\n   * Asynchronously writes data to a file, replacing the file if it already\n   * exists.\n   *\n   * The encoding option is ignored if data is a buffer.\n   *\n   * @example Usage example\n   *   fs.writeFile('message.txt', 'Hello Node', function (err) {\n   *     if (err) throw err;\n   *     console.log('It\\'s saved!');\n   *   });\n   * @param [String] filename\n   * @param [String | BrowserFS.node.Buffer] data\n   * @param [Object?] options\n   * @option options [String] encoding Defaults to `'utf8'`.\n   * @option options [Number] mode Defaults to `0644`.\n   * @option options [String] flag Defaults to `'w'`.\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static writeFile(filename: string, data: any, cb?: (err?: api_error.ApiError) => void): void;\n  public static writeFile(filename: string, data: any, encoding?: string, cb?: (err?: api_error.ApiError) => void): void;\n  public static writeFile(filename: string, data: any, options?: Object, cb?: (err?: api_error.ApiError) => void): void;\n  public static writeFile(filename: string, data: any, arg3: any = {}, cb: (err?: api_error.ApiError) => void = nopCb): void {\n    var options = normalizeOptions(arg3, 'utf8', 'w', 0x1a4);\n    cb = typeof arg3 === 'function' ? arg3 : cb;\n    var newCb = <(err?: api_error.ApiError) => void> wrapCb(cb, 1);\n    try {\n      var flag = FileFlag.getFileFlag(options.flag);\n      if (!flag.isWriteable()) {\n        return newCb(new ApiError(ErrorCode.EINVAL, 'Flag passed to writeFile must allow for writing.'));\n      }\n      return fs.root.writeFile(normalizePath(filename), data, options.encoding, flag, options.mode, newCb);\n    } catch (e) {\n      return newCb(e);\n    }\n  }\n\n  /**\n   * Synchronously writes data to a file, replacing the file if it already\n   * exists.\n   *\n   * The encoding option is ignored if data is a buffer.\n   * @param [String] filename\n   * @param [String | BrowserFS.node.Buffer] data\n   * @param [Object?] options\n   * @option options [String] encoding Defaults to `'utf8'`.\n   * @option options [Number] mode Defaults to `0644`.\n   * @option options [String] flag Defaults to `'w'`.\n   */\n  public static writeFileSync(filename: string, data: any, options?: Object): void;\n  public static writeFileSync(filename: string, data: any, encoding?: string): void;\n  public static writeFileSync(filename: string, data: any, arg3?: any): void {\n    var options = normalizeOptions(arg3, 'utf8', 'w', 0x1a4);\n    var flag = FileFlag.getFileFlag(options.flag);\n    if (!flag.isWriteable()) {\n      throw new ApiError(ErrorCode.EINVAL, 'Flag passed to writeFile must allow for writing.');\n    }\n    return fs.root.writeFileSync(normalizePath(filename), data, options.encoding, flag, options.mode);\n  }\n\n  /**\n   * Asynchronously append data to a file, creating the file if it not yet\n   * exists.\n   *\n   * @example Usage example\n   *   fs.appendFile('message.txt', 'data to append', function (err) {\n   *     if (err) throw err;\n   *     console.log('The \"data to append\" was appended to file!');\n   *   });\n   * @param [String] filename\n   * @param [String | BrowserFS.node.Buffer] data\n   * @param [Object?] options\n   * @option options [String] encoding Defaults to `'utf8'`.\n   * @option options [Number] mode Defaults to `0644`.\n   * @option options [String] flag Defaults to `'a'`.\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static appendFile(filename: string, data: any, cb?: (err: api_error.ApiError) => void): void;\n  public static appendFile(filename: string, data: any, options?: Object, cb?: (err: api_error.ApiError) => void): void;\n  public static appendFile(filename: string, data: any, encoding?: string, cb?: (err: api_error.ApiError) => void): void;\n  public static appendFile(filename: string, data: any, arg3?: any, cb: (err: api_error.ApiError) => void = nopCb): void {\n    var options = normalizeOptions(arg3, 'utf8', 'a', 0x1a4);\n    cb = typeof arg3 === 'function' ? arg3 : cb;\n    var newCb = <(err: api_error.ApiError) => void> wrapCb(cb, 1);\n    try {\n      var flag = FileFlag.getFileFlag(options.flag);\n      if (!flag.isAppendable()) {\n        return newCb(new ApiError(ErrorCode.EINVAL, 'Flag passed to appendFile must allow for appending.'));\n      }\n      fs.root.appendFile(normalizePath(filename), data, options.encoding, flag, options.mode, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Asynchronously append data to a file, creating the file if it not yet\n   * exists.\n   *\n   * @example Usage example\n   *   fs.appendFile('message.txt', 'data to append', function (err) {\n   *     if (err) throw err;\n   *     console.log('The \"data to append\" was appended to file!');\n   *   });\n   * @param [String] filename\n   * @param [String | BrowserFS.node.Buffer] data\n   * @param [Object?] options\n   * @option options [String] encoding Defaults to `'utf8'`.\n   * @option options [Number] mode Defaults to `0644`.\n   * @option options [String] flag Defaults to `'a'`.\n   */\n  public static appendFileSync(filename: string, data: any, options?: Object): void;\n  public static appendFileSync(filename: string, data: any, encoding?: string): void;\n  public static appendFileSync(filename: string, data: any, arg3?: any): void {\n    var options = normalizeOptions(arg3, 'utf8', 'a', 0x1a4);\n    var flag = FileFlag.getFileFlag(options.flag);\n    if (!flag.isAppendable()) {\n      throw new ApiError(ErrorCode.EINVAL, 'Flag passed to appendFile must allow for appending.');\n    }\n    return fs.root.appendFileSync(normalizePath(filename), data, options.encoding, flag, options.mode);\n  }\n\n  // FILE DESCRIPTOR METHODS\n\n  /**\n   * Asynchronous `fstat`.\n   * `fstat()` is identical to `stat()`, except that the file to be stat-ed is\n   * specified by the file descriptor `fd`.\n   * @param [BrowserFS.File] fd\n   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] callback\n   */\n  public static fstat(fd: file.File, cb: (err: api_error.ApiError, stats?: node_fs_stats.Stats) => any = nopCb): void {\n    var newCb = <(err: api_error.ApiError, stats?: node_fs_stats.Stats) => any> wrapCb(cb, 2);\n    try {\n      checkFd(fd);\n      fd.stat(newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `fstat`.\n   * `fstat()` is identical to `stat()`, except that the file to be stat-ed is\n   * specified by the file descriptor `fd`.\n   * @param [BrowserFS.File] fd\n   * @return [BrowserFS.node.fs.Stats]\n   */\n  public static fstatSync(fd: file.File): node_fs_stats.Stats {\n    checkFd(fd);\n    return fd.statSync();\n  }\n\n  /**\n   * Asynchronous close.\n   * @param [BrowserFS.File] fd\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static close(fd: file.File, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      checkFd(fd);\n      fd.close(newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous close.\n   * @param [BrowserFS.File] fd\n   */\n  public static closeSync(fd: file.File): void {\n    checkFd(fd);\n    return fd.closeSync();\n  }\n\n  /**\n   * Asynchronous ftruncate.\n   * @param [BrowserFS.File] fd\n   * @param [Number] len\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static ftruncate(fd: file.File, cb?:Function): void;\n  public static ftruncate(fd: file.File, len?: number, cb?:Function): void;\n  public static ftruncate(fd: file.File, arg2?: any, cb:Function = nopCb): void {\n    var length = typeof arg2 === 'number' ? arg2 : 0;\n    cb = typeof arg2 === 'function' ? arg2 : cb;\n    var newCb = wrapCb(cb, 1);\n    try {\n      checkFd(fd);\n      if (length < 0) {\n        throw new ApiError(ErrorCode.EINVAL);\n      }\n      fd.truncate(length, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous ftruncate.\n   * @param [BrowserFS.File] fd\n   * @param [Number] len\n   */\n  public static ftruncateSync(fd: file.File, len: number = 0) {\n    checkFd(fd);\n    return fd.truncateSync(len);\n  }\n\n  /**\n   * Asynchronous fsync.\n   * @param [BrowserFS.File] fd\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static fsync(fd: file.File, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      checkFd(fd);\n      fd.sync(newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous fsync.\n   * @param [BrowserFS.File] fd\n   */\n  public static fsyncSync(fd: file.File): void {\n    checkFd(fd);\n    return fd.syncSync();\n  }\n\n  /**\n   * Asynchronous fdatasync.\n   * @param [BrowserFS.File] fd\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static fdatasync(fd: file.File, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      checkFd(fd);\n      fd.datasync(newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous fdatasync.\n   * @param [BrowserFS.File] fd\n   */\n  public static fdatasyncSync(fd: file.File): void {\n    checkFd(fd);\n    fd.datasyncSync();\n  }\n\n  /**\n   * Write buffer to the file specified by `fd`.\n   * Note that it is unsafe to use fs.write multiple times on the same file\n   * without waiting for the callback.\n   * @param [BrowserFS.File] fd\n   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to\n   *   the file.\n   * @param [Number] offset Offset in the buffer to start reading data from.\n   * @param [Number] length The amount of bytes to write to the file.\n   * @param [Number] position Offset from the beginning of the file where this\n   *   data should be written. If position is null, the data will be written at\n   *   the current position.\n   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)]\n   *   callback The number specifies the number of bytes written into the file.\n   */\n  public static write(fd: file.File, buffer: NodeBuffer, offset: number, length: number, cb?: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any): void;\n  public static write(fd: file.File, buffer: NodeBuffer, offset: number, length: number, position?: number, cb?: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any): void;\n  public static write(fd: file.File, data: string, cb?: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any): void;\n  public static write(fd: file.File, data: string, position: number, cb?: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any): void;\n  public static write(fd: file.File, data: string, position: number, encoding: string, cb?: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any): void;\n  public static write(fd: file.File, arg2: any, arg3?: any, arg4?: any, arg5?: any, cb: (err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any = nopCb): void {\n    var buffer: NodeBuffer, offset: number, length: number, position: number = null;\n    if (typeof arg2 === 'string') {\n      // Signature 1: (fd, string, [position?, [encoding?]], cb?)\n      var encoding = 'utf8';\n      switch (typeof arg3) {\n        case 'function':\n          // (fd, string, cb)\n          cb = arg3;\n          break;\n        case 'number':\n          // (fd, string, position, encoding?, cb?)\n          position = arg3;\n          encoding = typeof arg4 === 'string' ? arg4 : 'utf8';\n          cb = typeof arg5 === 'function' ? arg5 : cb;\n          break;\n        default:\n          // ...try to find the callback and get out of here!\n          cb = typeof arg4 === 'function' ? arg4 : typeof arg5 === 'function' ? arg5 : cb;\n          return cb(new ApiError(ErrorCode.EINVAL, 'Invalid arguments.'));\n      }\n      buffer = new Buffer(arg2, encoding);\n      offset = 0;\n      length = buffer.length;\n    } else {\n      // Signature 2: (fd, buffer, offset, length, position?, cb?)\n      buffer = arg2;\n      offset = arg3;\n      length = arg4;\n      position = typeof arg5 === 'number' ? arg5 : null;\n      cb = typeof arg5 === 'function' ? arg5 : cb;\n    }\n\n    var newCb = <(err: api_error.ApiError, written?: number, buffer?: NodeBuffer) => any> wrapCb(cb, 3);\n    try {\n      checkFd(fd);\n      if (position == null) {\n        position = fd.getPos();\n      }\n      fd.write(buffer, offset, length, position, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Write buffer to the file specified by `fd`.\n   * Note that it is unsafe to use fs.write multiple times on the same file\n   * without waiting for it to return.\n   * @param [BrowserFS.File] fd\n   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to\n   *   the file.\n   * @param [Number] offset Offset in the buffer to start reading data from.\n   * @param [Number] length The amount of bytes to write to the file.\n   * @param [Number] position Offset from the beginning of the file where this\n   *   data should be written. If position is null, the data will be written at\n   *   the current position.\n   * @return [Number]\n   */\n  public static writeSync(fd: file.File, buffer: NodeBuffer, offset: number, length: number, position?: number): number;\n  public static writeSync(fd: file.File, data: string, position?: number, encoding?: string): number;\n  public static writeSync(fd: file.File, arg2: any, arg3?: any, arg4?: any, arg5?: any): number {\n    var buffer: NodeBuffer, offset: number = 0, length: number, position: number;\n    if (typeof arg2 === 'string') {\n      // Signature 1: (fd, string, [position?, [encoding?]])\n      position = typeof arg3 === 'number' ? arg3 : null;\n      var encoding = typeof arg4 === 'string' ? arg4 : 'utf8';\n      offset = 0;\n      buffer = new Buffer(arg2, encoding);\n      length = buffer.length;\n    } else {\n      // Signature 2: (fd, buffer, offset, length, position?)\n      buffer = arg2;\n      offset = arg3;\n      length = arg4;\n      position = typeof arg5 === 'number' ? arg5 : null;\n    }\n\n    checkFd(fd);\n    if (position == null) {\n      position = fd.getPos();\n    }\n    return fd.writeSync(buffer, offset, length, position);\n  }\n\n  /**\n   * Read data from the file specified by `fd`.\n   * @param [BrowserFS.File] fd\n   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be\n   *   written to.\n   * @param [Number] offset The offset within the buffer where writing will\n   *   start.\n   * @param [Number] length An integer specifying the number of bytes to read.\n   * @param [Number] position An integer specifying where to begin reading from\n   *   in the file. If position is null, data will be read from the current file\n   *   position.\n   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)]\n   *   callback The number is the number of bytes read\n   */\n  public static read(fd: file.File, length: number, position: number, encoding: string, cb?: (err: api_error.ApiError, data?: string, bytesRead?: number) => void): void;\n  public static read(fd: file.File, buffer: NodeBuffer, offset: number, length: number, position: number, cb?: (err: api_error.ApiError, bytesRead?: number, buffer?: NodeBuffer) => void): void;\n  public static read(fd: file.File, arg2: any, arg3: any, arg4: any, arg5?: any, cb: (err: api_error.ApiError, arg2?: any, arg3?: any) => void = nopCb): void {\n    var position: number, offset: number, length: number, buffer: NodeBuffer, newCb: (err: api_error.ApiError, bytesRead?: number, buffer?: NodeBuffer) => void;\n    if (typeof arg2 === 'number') {\n      // legacy interface\n      // (fd, length, position, encoding, callback)\n      length = arg2;\n      position = arg3;\n      var encoding = arg4;\n      cb = typeof arg5 === 'function' ? arg5 : cb;\n      offset = 0;\n      buffer = new Buffer(length);\n      // XXX: Inefficient.\n      // Wrap the cb so we shelter upper layers of the API from these\n      // shenanigans.\n      newCb = <(err: api_error.ApiError, bytesRead?: number, buffer?: NodeBuffer) => void> wrapCb((function(err: any, bytesRead: number, buf: Buffer) {\n        if (err) {\n          return cb(err);\n        }\n        cb(err, buf.toString(encoding), bytesRead);\n      }), 3);\n    } else {\n      buffer = arg2;\n      offset = arg3;\n      length = arg4;\n      position = arg5;\n      newCb = <(err: api_error.ApiError, bytesRead?: number, buffer?: NodeBuffer) => void> wrapCb(cb, 3);\n    }\n\n    try {\n      checkFd(fd);\n      if (position == null) {\n        position = fd.getPos();\n      }\n      fd.read(buffer, offset, length, position, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Read data from the file specified by `fd`.\n   * @param [BrowserFS.File] fd\n   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be\n   *   written to.\n   * @param [Number] offset The offset within the buffer where writing will\n   *   start.\n   * @param [Number] length An integer specifying the number of bytes to read.\n   * @param [Number] position An integer specifying where to begin reading from\n   *   in the file. If position is null, data will be read from the current file\n   *   position.\n   * @return [Number]\n   */\n  public static readSync(fd: file.File, length: number, position: number, encoding: string): string;\n  public static readSync(fd: file.File, buffer: NodeBuffer, offset: number, length: number, position: number): number;\n  public static readSync(fd: file.File, arg2: any, arg3: any, arg4: any, arg5?: any): any {\n    var shenanigans = false;\n    var buffer: NodeBuffer, offset: number, length: number, position: number;\n    if (typeof arg2 === 'number') {\n      length = arg2;\n      position = arg3;\n      var encoding = arg4;\n      offset = 0;\n      buffer = new Buffer(length);\n      shenanigans = true;\n    } else {\n      buffer = arg2;\n      offset = arg3;\n      length = arg4;\n      position = arg5;\n    }\n    checkFd(fd);\n    if (position == null) {\n      position = fd.getPos();\n    }\n\n    var rv = fd.readSync(buffer, offset, length, position);\n    if (!shenanigans) {\n      return rv;\n    } else {\n      return [buffer.toString(encoding), rv];\n    }\n  }\n\n  /**\n   * Asynchronous `fchown`.\n   * @param [BrowserFS.File] fd\n   * @param [Number] uid\n   * @param [Number] gid\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static fchown(fd: file.File, uid: number, gid: number, callback: Function = nopCb): void {\n    var newCb = wrapCb(callback, 1);\n    try {\n      checkFd(fd);\n      fd.chown(uid, gid, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `fchown`.\n   * @param [BrowserFS.File] fd\n   * @param [Number] uid\n   * @param [Number] gid\n   */\n  public static fchownSync(fd: file.File, uid: number, gid: number): void {\n    checkFd(fd);\n    return fd.chownSync(uid, gid);\n  }\n\n  /**\n   * Asynchronous `fchmod`.\n   * @param [BrowserFS.File] fd\n   * @param [Number] mode\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static fchmod(fd: file.File, mode: string, cb?: Function): void;\n  public static fchmod(fd: file.File, mode: number, cb?: Function): void;\n  public static fchmod(fd: file.File, mode: any, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n      checkFd(fd);\n      fd.chmod(mode, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `fchmod`.\n   * @param [BrowserFS.File] fd\n   * @param [Number] mode\n   */\n  public static fchmodSync(fd: file.File, mode: string): void;\n  public static fchmodSync(fd: file.File, mode: number): void;\n  public static fchmodSync(fd: file.File, mode: any): void {\n    mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n    checkFd(fd);\n    return fd.chmodSync(mode);\n  }\n\n  /**\n   * Change the file timestamps of a file referenced by the supplied file\n   * descriptor.\n   * @param [BrowserFS.File] fd\n   * @param [Date] atime\n   * @param [Date] mtime\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static futimes(fd: file.File, atime: number, mtime: number, cb: Function): void;\n  public static futimes(fd: file.File, atime: Date, mtime: Date, cb: Function): void;\n  public static futimes(fd: file.File, atime: any, mtime: any, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      checkFd(fd);\n      if (typeof atime === 'number') {\n        atime = new Date(atime * 1000);\n      }\n      if (typeof mtime === 'number') {\n        mtime = new Date(mtime * 1000);\n      }\n      fd.utimes(atime, mtime, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Change the file timestamps of a file referenced by the supplied file\n   * descriptor.\n   * @param [BrowserFS.File] fd\n   * @param [Date] atime\n   * @param [Date] mtime\n   */\n  public static futimesSync(fd: file.File, atime: number, mtime: number): void;\n  public static futimesSync(fd: file.File, atime: Date, mtime: Date): void;\n  public static futimesSync(fd: file.File, atime: any, mtime: any): void {\n    checkFd(fd);\n    if (typeof atime === 'number') {\n      atime = new Date(atime * 1000);\n    }\n    if (typeof mtime === 'number') {\n      mtime = new Date(mtime * 1000);\n    }\n    return fd.utimesSync(atime, mtime);\n  }\n\n  // DIRECTORY-ONLY METHODS\n\n  /**\n   * Asynchronous `rmdir`.\n   * @param [String] path\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static rmdir(path: string, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      path = normalizePath(path);\n      fs.root.rmdir(path, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `rmdir`.\n   * @param [String] path\n   */\n  public static rmdirSync(path: string): void {\n    path = normalizePath(path);\n    return fs.root.rmdirSync(path);\n  }\n\n  /**\n   * Asynchronous `mkdir`.\n   * @param [String] path\n   * @param [Number?] mode defaults to `0777`\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static mkdir(path: string, mode?: any, cb: Function = nopCb): void {\n    if (typeof mode === 'function') {\n      cb = mode;\n      mode = 0x1ff;\n    }\n    var newCb = wrapCb(cb, 1);\n    try {\n      path = normalizePath(path);\n      fs.root.mkdir(path, mode, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `mkdir`.\n   * @param [String] path\n   * @param [Number?] mode defaults to `0777`\n   */\n  public static mkdirSync(path: string, mode?: string): void;\n  public static mkdirSync(path: string, mode?: number): void;\n  public static mkdirSync(path: string, mode: any = 0x1ff): void {\n    mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n    path = normalizePath(path);\n    return fs.root.mkdirSync(path, mode);\n  }\n\n  /**\n   * Asynchronous `readdir`. Reads the contents of a directory.\n   * The callback gets two arguments `(err, files)` where `files` is an array of\n   * the names of the files in the directory excluding `'.'` and `'..'`.\n   * @param [String] path\n   * @param [Function(BrowserFS.ApiError, String[])] callback\n   */\n  public static readdir(path: string, cb: (err: api_error.ApiError, files?: string[]) => void = nopCb): void {\n    var newCb = <(err: api_error.ApiError, files?: string[]) => void> wrapCb(cb, 2);\n    try {\n      path = normalizePath(path);\n      fs.root.readdir(path, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `readdir`. Reads the contents of a directory.\n   * @param [String] path\n   * @return [String[]]\n   */\n  public static readdirSync(path: string): string[] {\n    path = normalizePath(path);\n    return fs.root.readdirSync(path);\n  }\n\n  // SYMLINK METHODS\n\n  /**\n   * Asynchronous `link`.\n   * @param [String] srcpath\n   * @param [String] dstpath\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static link(srcpath: string, dstpath: string, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      srcpath = normalizePath(srcpath);\n      dstpath = normalizePath(dstpath);\n      fs.root.link(srcpath, dstpath, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `link`.\n   * @param [String] srcpath\n   * @param [String] dstpath\n   */\n  public static linkSync(srcpath: string, dstpath: string): void {\n    srcpath = normalizePath(srcpath);\n    dstpath = normalizePath(dstpath);\n    return fs.root.linkSync(srcpath, dstpath);\n  }\n\n  /**\n   * Asynchronous `symlink`.\n   * @param [String] srcpath\n   * @param [String] dstpath\n   * @param [String?] type can be either `'dir'` or `'file'` (default is `'file'`)\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static symlink(srcpath: string, dstpath: string, cb?: Function): void;\n  public static symlink(srcpath: string, dstpath: string, type?: string, cb?: Function): void;\n  public static symlink(srcpath: string, dstpath: string, arg3?: any, cb: Function = nopCb): void {\n    var type = typeof arg3 === 'string' ? arg3 : 'file';\n    cb = typeof arg3 === 'function' ? arg3 : cb;\n    var newCb = wrapCb(cb, 1);\n    try {\n      if (type !== 'file' && type !== 'dir') {\n        return newCb(new ApiError(ErrorCode.EINVAL, \"Invalid type: \" + type));\n      }\n      srcpath = normalizePath(srcpath);\n      dstpath = normalizePath(dstpath);\n      fs.root.symlink(srcpath, dstpath, type, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `symlink`.\n   * @param [String] srcpath\n   * @param [String] dstpath\n   * @param [String?] type can be either `'dir'` or `'file'` (default is `'file'`)\n   */\n  public static symlinkSync(srcpath: string, dstpath: string, type?: string): void {\n    if (type == null) {\n      type = 'file';\n    } else if (type !== 'file' && type !== 'dir') {\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid type: \" + type);\n    }\n    srcpath = normalizePath(srcpath);\n    dstpath = normalizePath(dstpath);\n    return fs.root.symlinkSync(srcpath, dstpath, type);\n  }\n\n  /**\n   * Asynchronous readlink.\n   * @param [String] path\n   * @param [Function(BrowserFS.ApiError, String)] callback\n   */\n  public static readlink(path: string, cb: (err: api_error.ApiError, linkString: string) => any = nopCb): void {\n    var newCb = wrapCb(cb, 2);\n    try {\n      path = normalizePath(path);\n      fs.root.readlink(path, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous readlink.\n   * @param [String] path\n   * @return [String]\n   */\n  public static readlinkSync(path: string): string {\n    path = normalizePath(path);\n    return fs.root.readlinkSync(path);\n  }\n\n  // PROPERTY OPERATIONS\n\n  /**\n   * Asynchronous `chown`.\n   * @param [String] path\n   * @param [Number] uid\n   * @param [Number] gid\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static chown(path: string, uid: number, gid: number, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      path = normalizePath(path);\n      fs.root.chown(path, false, uid, gid, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `chown`.\n   * @param [String] path\n   * @param [Number] uid\n   * @param [Number] gid\n   */\n  public static chownSync(path: string, uid: number, gid: number): void {\n    path = normalizePath(path);\n    fs.root.chownSync(path, false, uid, gid);\n  }\n\n  /**\n   * Asynchronous `lchown`.\n   * @param [String] path\n   * @param [Number] uid\n   * @param [Number] gid\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static lchown(path: string, uid: number, gid: number, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      path = normalizePath(path);\n      fs.root.chown(path, true, uid, gid, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `lchown`.\n   * @param [String] path\n   * @param [Number] uid\n   * @param [Number] gid\n   */\n  public static lchownSync(path: string, uid: number, gid: number): void {\n    path = normalizePath(path);\n    return fs.root.chownSync(path, true, uid, gid);\n  }\n\n  /**\n   * Asynchronous `chmod`.\n   * @param [String] path\n   * @param [Number] mode\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static chmod(path: string, mode: string, cb?: Function): void;\n  public static chmod(path: string, mode: number, cb?: Function): void;\n  public static chmod(path: string, mode: any, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n      path = normalizePath(path);\n      fs.root.chmod(path, false, mode, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `chmod`.\n   * @param [String] path\n   * @param [Number] mode\n   */\n  public static chmodSync(path: string, mode: string): void;\n  public static chmodSync(path: string, mode: number): void;\n  public static chmodSync(path: string, mode: any): void {\n    mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n    path = normalizePath(path);\n    return fs.root.chmodSync(path, false, mode);\n  }\n\n  /**\n   * Asynchronous `lchmod`.\n   * @param [String] path\n   * @param [Number] mode\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static lchmod(path: string, mode: string, cb?: Function): void;\n  public static lchmod(path: string, mode: number, cb?: Function): void;\n  public static lchmod(path: string, mode: any, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n      path = normalizePath(path);\n      fs.root.chmod(path, true, mode, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `lchmod`.\n   * @param [String] path\n   * @param [Number] mode\n   */\n  public static lchmodSync(path: string, mode: number): void;\n  public static lchmodSync(path: string, mode: string): void;\n  public static lchmodSync(path: string, mode: any): void {\n    path = normalizePath(path);\n    mode = typeof mode === 'string' ? parseInt(mode, 8) : mode;\n    return fs.root.chmodSync(path, true, mode);\n  }\n\n  /**\n   * Change file timestamps of the file referenced by the supplied path.\n   * @param [String] path\n   * @param [Date] atime\n   * @param [Date] mtime\n   * @param [Function(BrowserFS.ApiError)] callback\n   */\n  public static utimes(path: string, atime: number, mtime: number, cb: Function): void;\n  public static utimes(path: string, atime: Date, mtime: Date, cb: Function): void;\n  public static utimes(path: string, atime: any, mtime: any, cb: Function = nopCb): void {\n    var newCb = wrapCb(cb, 1);\n    try {\n      path = normalizePath(path);\n      if (typeof atime === 'number') {\n        atime = new Date(atime * 1000);\n      }\n      if (typeof mtime === 'number') {\n        mtime = new Date(mtime * 1000);\n      }\n      fs.root.utimes(path, atime, mtime, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Change file timestamps of the file referenced by the supplied path.\n   * @param [String] path\n   * @param [Date] atime\n   * @param [Date] mtime\n   */\n  public static utimesSync(path: string, atime: number, mtime: number): void;\n  public static utimesSync(path: string, atime: Date, mtime: Date): void;\n  public static utimesSync(path: string, atime: any, mtime: any): void {\n    path = normalizePath(path);\n    if (typeof atime === 'number') {\n      atime = new Date(atime * 1000);\n    }\n    if (typeof mtime === 'number') {\n      mtime = new Date(mtime * 1000);\n    }\n    return fs.root.utimesSync(path, atime, mtime);\n  }\n\n  /**\n   * Asynchronous `realpath`. The callback gets two arguments\n   * `(err, resolvedPath)`. May use `process.cwd` to resolve relative paths.\n   *\n   * @example Usage example\n   *   var cache = {'/etc':'/private/etc'};\n   *   fs.realpath('/etc/passwd', cache, function (err, resolvedPath) {\n   *     if (err) throw err;\n   *     console.log(resolvedPath);\n   *   });\n   *\n   * @param [String] path\n   * @param [Object?] cache An object literal of mapped paths that can be used to\n   *   force a specific path resolution or avoid additional `fs.stat` calls for\n   *   known real paths.\n   * @param [Function(BrowserFS.ApiError, String)] callback\n   */\n  public static realpath(path: string, cb?: (err: api_error.ApiError, resolvedPath?: string) =>any): void;\n  public static realpath(path: string, cache: {[path: string]: string}, cb: (err: api_error.ApiError, resolvedPath?: string) =>any): void;\n  public static realpath(path: string, arg2?: any, cb: (err: api_error.ApiError, resolvedPath?: string) =>any = nopCb): void {\n    var cache = typeof arg2 === 'object' ? arg2 : {};\n    cb = typeof arg2 === 'function' ? arg2 : nopCb;\n    var newCb = <(err: api_error.ApiError, resolvedPath?: string) =>any> wrapCb(cb, 2);\n    try {\n      path = normalizePath(path);\n      fs.root.realpath(path, cache, newCb);\n    } catch (e) {\n      newCb(e);\n    }\n  }\n\n  /**\n   * Synchronous `realpath`.\n   * @param [String] path\n   * @param [Object?] cache An object literal of mapped paths that can be used to\n   *   force a specific path resolution or avoid additional `fs.stat` calls for\n   *   known real paths.\n   * @return [String]\n   */\n  public static realpathSync(path: string, cache: {[path: string]: string} = {}): string {\n    path = normalizePath(path);\n    return fs.root.realpathSync(path, cache);\n  }\n}\n\nexport = fs;\n",
    "/// <reference path=\"../DataView.d.ts\" />\n/// <reference path=\"../../bower_components/DefinitelyTyped/node/node-0.10.d.ts\" />\n// Import the type annotation from Node.\nimport fs = require('fs');\nimport file = require('./file');\nimport buffer = require('./buffer');\n\nvar Buffer = buffer.Buffer;\n\n/**\n * Indicates the type of the given file. Applied to 'mode'.\n */\nexport enum FileType {\n  FILE = 0x8000,\n  DIRECTORY = 0x4000,\n  SYMLINK = 0xA000\n}\n\n/**\n * Emulation of Node's `fs.Stats` object.\n *\n * Attribute descriptions are from `man 2 stat'\n * @see http://nodejs.org/api/fs.html#fs_class_fs_stats\n * @see http://man7.org/linux/man-pages/man2/stat.2.html\n * @class\n */\nexport class Stats implements fs.Stats {\n  public blocks: number;\n  /**\n   * UNSUPPORTED ATTRIBUTES\n   * I assume no one is going to need these details, although we could fake\n   * appropriate values if need be.\n   */\n  // ID of device containing file\n  public dev: number = 0;\n  // inode number\n  public ino: number = 0;\n  // device ID (if special file)\n  public rdev: number = 0;\n  // number of hard links\n  public nlink: number = 1;\n  // blocksize for file system I/O\n  public blksize: number = 4096;\n  // @todo Maybe support these? atm, it's a one-user filesystem.\n  // user ID of owner\n  public uid: number = 0;\n  // group ID of owner\n  public gid: number = 0;\n  // XXX: Some file systems stash data on stats objects.\n  public file_data: NodeBuffer;\n\n  /**\n   * Provides information about a particular entry in the file system.\n   * @param [Number] item_type type of the item (FILE, DIRECTORY, SYMLINK, or SOCKET)\n   * @param [Number] size Size of the item in bytes. For directories/symlinks,\n   *   this is normally the size of the struct that represents the item.\n   * @param [Number] mode Unix-style file mode (e.g. 0o644)\n   * @param [Date?] atime time of last access\n   * @param [Date?] mtime time of last modification\n   * @param [Date?] ctime time of creation\n   */\n  constructor(\n    item_type: FileType,\n    public size: number,\n    public mode?: number,\n    public atime: Date = new Date(),\n    public mtime: Date = new Date(),\n    public ctime: Date = new Date()) {\n    if (this.mode == null) {\n      switch(item_type) {\n        case FileType.FILE:\n          this.mode = 0x1a4;\n          break;\n        case FileType.DIRECTORY:\n        default:\n          this.mode = 0x1ff;\n      }\n    }\n    // number of 512B blocks allocated\n    this.blocks = Math.ceil(size / 512);\n    // Check if mode also includes top-most bits, which indicate the file's\n    // type.\n    if (this.mode < 0x1000) {\n      this.mode |= item_type;\n    }\n  }\n\n  public toBuffer(): Buffer {\n    var buffer = new Buffer(32);\n    buffer.writeUInt32LE(this.size, 0);\n    buffer.writeUInt32LE(this.mode, 4);\n    buffer.writeDoubleLE(this.atime.getTime(), 8);\n    buffer.writeDoubleLE(this.mtime.getTime(), 16);\n    buffer.writeDoubleLE(this.ctime.getTime(), 24);\n    return buffer;\n  }\n\n  public static fromBuffer(buffer: Buffer): Stats {\n    var size = buffer.readUInt32LE(0),\n      mode = buffer.readUInt32LE(4),\n      atime = buffer.readDoubleLE(8),\n      mtime = buffer.readDoubleLE(16),\n      ctime = buffer.readDoubleLE(24);\n\n    return new Stats(mode & 0xF000, size, mode & 0xFFF, new Date(atime), new Date(mtime), new Date(ctime));\n  }\n\n  /**\n   * **Nonstandard**: Clone the stats object.\n   * @return [BrowserFS.node.fs.Stats]\n   */\n  public clone(): Stats {\n    return new Stats(this.mode & 0xF000, this.size, this.mode & 0xFFF, this.atime, this.mtime, this.ctime);\n  }\n\n  /**\n   * @return [Boolean] True if this item is a file.\n   */\n  public isFile(): boolean {\n    return (this.mode & 0xF000) === FileType.FILE;\n  }\n\n  /**\n   * @return [Boolean] True if this item is a directory.\n   */\n  public isDirectory(): boolean {\n    return (this.mode & 0xF000) === FileType.DIRECTORY;\n  }\n\n  /**\n   * @return [Boolean] True if this item is a symbolic link (only valid through lstat)\n   */\n  public isSymbolicLink(): boolean {\n    return (this.mode & 0xF000) === FileType.SYMLINK;\n  }\n\n  /**\n   * Change the mode of the file. We use this helper function to prevent messing\n   * up the type of the file, which is encoded in mode.\n   */\n  public chmod(mode: number): void {\n    this.mode = (this.mode & 0xF000) | mode;\n  }\n\n  // We don't support the following types of files.\n\n  public isSocket(): boolean {\n    return false;\n  }\n\n  public isBlockDevice(): boolean {\n    return false;\n  }\n\n  public isCharacterDevice(): boolean {\n    return false;\n  }\n\n  public isFIFO(): boolean {\n    return false;\n  }\n}\n",
    "import node_process = require('./node_process');\nvar process = node_process.process;\n\n/**\n * Emulates Node's `path` module. This module contains utilities for handling and\n * transforming file paths. **All** of these methods perform only string\n * transformations. The file system is not consulted to check whether paths are\n * valid.\n * @see http://nodejs.org/api/path.html\n * @class\n */\nclass path {\n  /**\n   * Normalize a string path, taking care of '..' and '.' parts.\n   *\n   * When multiple slashes are found, they're replaced by a single one; when the path contains a trailing slash, it is preserved. On Windows backslashes are used.\n   * @example Usage example\n   *   path.normalize('/foo/bar//baz/asdf/quux/..')\n   *   // returns\n   *   '/foo/bar/baz/asdf'\n   * @param [String] p The path to normalize.\n   * @return [String]\n   */\n  public static normalize(p: string): string {\n    // Special case: '' -> '.'\n    if (p === '') {\n      p = '.';\n    }\n    // It's very important to know if the path is relative or not, since it\n    // changes how we process .. and reconstruct the split string.\n    var absolute = p.charAt(0) === path.sep;\n    // Remove repeated //s\n    p = path._removeDuplicateSeps(p);\n    // Try to remove as many '../' as possible, and remove '.' completely.\n    var components = p.split(path.sep);\n    var goodComponents: string[] = [];\n    for (var idx = 0; idx < components.length; idx++) {\n      var c = components[idx];\n      if (c === '.') {\n        continue;\n      } else if (c === '..' && (absolute || (!absolute && goodComponents.length > 0 && goodComponents[0] !== '..'))) {\n        // In the absolute case: Path is relative to root, so we may pop even if\n        // goodComponents is empty (e.g. /../ => /)\n        // In the relative case: We're getting rid of a directory that preceded\n        // it (e.g. /foo/../bar -> /bar)\n        goodComponents.pop();\n      } else {\n        goodComponents.push(c);\n      }\n    }\n\n    // Add in '.' when it's a relative path with no other nonempty components.\n    // Possible results: '.' and './' (input: [''] or [])\n    // @todo Can probably simplify this logic.\n    if (!absolute && goodComponents.length < 2) {\n      switch (goodComponents.length) {\n        case 1:\n          if (goodComponents[0] === '') {\n            goodComponents.unshift('.');\n          }\n          break;\n        default:\n          goodComponents.push('.');\n      }\n    }\n    p = goodComponents.join(path.sep);\n    if (absolute && p.charAt(0) !== path.sep) {\n      p = path.sep + p;\n    }\n    return p;\n  }\n\n  /**\n   * Join all arguments together and normalize the resulting path.\n   *\n   * Arguments must be strings.\n   * @example Usage\n   *   path.join('/foo', 'bar', 'baz/asdf', 'quux', '..')\n   *   // returns\n   *   '/foo/bar/baz/asdf'\n   *\n   *   path.join('foo', {}, 'bar')\n   *   // throws exception\n   *   TypeError: Arguments to path.join must be strings\n   * @param [String,...] paths Each component of the path\n   * @return [String]\n   */\n  public static join(...paths: any[]): string {\n    // Required: Prune any non-strings from the path. I also prune empty segments\n    // so we can do a simple join of the array.\n    var processed: string[] = [];\n    for (var i = 0; i < paths.length; i++) {\n      var segment = paths[i];\n      if (typeof segment !== 'string') {\n        throw new TypeError(\"Invalid argument type to path.join: \" + (typeof segment));\n      } else if (segment !== '') {\n        processed.push(segment);\n      }\n    }\n    return path.normalize(processed.join(path.sep));\n  }\n\n  /**\n   * Resolves to to an absolute path.\n   *\n   * If to isn't already absolute from arguments are prepended in right to left\n   * order, until an absolute path is found. If after using all from paths still\n   * no absolute path is found, the current working directory is used as well.\n   * The resulting path is normalized, and trailing slashes are removed unless\n   * the path gets resolved to the root directory. Non-string arguments are\n   * ignored.\n   *\n   * Another way to think of it is as a sequence of cd commands in a shell.\n   *\n   *     path.resolve('foo/bar', '/tmp/file/', '..', 'a/../subfile')\n   *\n   * Is similar to:\n   *\n   *     cd foo/bar\n   *     cd /tmp/file/\n   *     cd ..\n   *     cd a/../subfile\n   *     pwd\n   *\n   * The difference is that the different paths don't need to exist and may also\n   * be files.\n   * @example Usage example\n   *   path.resolve('/foo/bar', './baz')\n   *   // returns\n   *   '/foo/bar/baz'\n   *\n   *   path.resolve('/foo/bar', '/tmp/file/')\n   *   // returns\n   *   '/tmp/file'\n   *\n   *   path.resolve('wwwroot', 'static_files/png/', '../gif/image.gif')\n   *   // if currently in /home/myself/node, it returns\n   *   '/home/myself/node/wwwroot/static_files/gif/image.gif'\n   * @param [String,...] paths\n   * @return [String]\n   */\n  public static resolve(...paths: string[]): string {\n    // Monitor for invalid paths, throw out empty paths, and look for the *last*\n    // absolute path that we see.\n    var processed: string[] = [];\n    for (var i = 0; i < paths.length; i++) {\n      var p = paths[i];\n      if (typeof p !== 'string') {\n        throw new TypeError(\"Invalid argument type to path.join: \" + (typeof p));\n      } else if (p !== '') {\n        // Remove anything that has occurred before this absolute path, as it\n        // doesn't matter.\n        if (p.charAt(0) === path.sep) {\n          processed = [];\n        }\n        processed.push(p);\n      }\n    }\n    // Special: Remove trailing slash unless it's the root\n    var resolved = path.normalize(processed.join(path.sep));\n    if (resolved.length > 1 && resolved.charAt(resolved.length - 1) === path.sep) {\n      return resolved.substr(0, resolved.length - 1);\n    }\n    // Special: If it doesn't start with '/', it's relative and we need to append\n    // the current directory.\n    if (resolved.charAt(0) !== path.sep) {\n      // Remove ./, since we're going to append the current directory.\n      if (resolved.charAt(0) === '.' && (resolved.length === 1 || resolved.charAt(1) === path.sep)) {\n        resolved = resolved.length === 1 ? '' : resolved.substr(2);\n      }\n      // Append the current directory, which *must* be an absolute path.\n      var cwd = process.cwd();\n      if (resolved !== '') {\n        // cwd will never end in a /... unless it's the root.\n        resolved = this.normalize(cwd + (cwd !== '/' ? path.sep : '') + resolved);\n      } else {\n        resolved = cwd;\n      }\n    }\n    return resolved;\n  }\n\n  /**\n   * Solve the relative path from from to to.\n   *\n   * At times we have two absolute paths, and we need to derive the relative path\n   * from one to the other. This is actually the reverse transform of\n   * path.resolve, which means we see that:\n   *\n   *    path.resolve(from, path.relative(from, to)) == path.resolve(to)\n   *\n   * @example Usage example\n   *   path.relative('C:\\\\orandea\\\\test\\\\aaa', 'C:\\\\orandea\\\\impl\\\\bbb')\n   *   // returns\n   *   '..\\\\..\\\\impl\\\\bbb'\n   *\n   *   path.relative('/data/orandea/test/aaa', '/data/orandea/impl/bbb')\n   *   // returns\n   *   '../../impl/bbb'\n   * @param [String] from\n   * @param [String] to\n   * @return [String]\n   */\n  public static relative(from: string, to: string): string {\n    var i: number;\n    // Alright. Let's resolve these two to absolute paths and remove any\n    // weirdness.\n    from = path.resolve(from);\n    to = path.resolve(to);\n    var fromSegs = from.split(path.sep);\n    var toSegs = to.split(path.sep);\n    // Remove the first segment on both, as it's '' (both are absolute paths)\n    toSegs.shift();\n    fromSegs.shift();\n    // There are two segments to this path:\n    // * Going *up* the directory hierarchy with '..'\n    // * Going *down* the directory hierarchy with foo/baz/bat.\n    var upCount = 0;\n    var downSegs: string[] = [];\n    // Figure out how many things in 'from' are shared with 'to'.\n    for (i = 0; i < fromSegs.length; i++) {\n      var seg = fromSegs[i];\n      if (seg === toSegs[i]) {\n        continue;\n      }\n      // The rest of 'from', including the current element, indicates how many\n      // directories we need to go up.\n      upCount = fromSegs.length - i;\n      break;\n    }\n    // The rest of 'to' indicates where we need to change to. We place this\n    // outside of the loop, as toSegs.length may be greater than fromSegs.length.\n    downSegs = toSegs.slice(i);\n    // Special case: If 'from' is '/'\n    if (fromSegs.length === 1 && fromSegs[0] === '') {\n      upCount = 0;\n    }\n    // upCount can't be greater than the number of fromSegs\n    // (cd .. from / is still /)\n    if (upCount > fromSegs.length) {\n      upCount = fromSegs.length;\n    }\n    // Create the final string!\n    var rv = '';\n    for (i = 0; i < upCount; i++) {\n      rv += '../';\n    }\n    rv += downSegs.join(path.sep);\n    // Special case: Remove trailing '/'. Happens if it's all up and no down.\n    if (rv.length > 1 && rv.charAt(rv.length - 1) === path.sep) {\n      rv = rv.substr(0, rv.length - 1);\n    }\n    return rv;\n  }\n\n  /**\n   * Return the directory name of a path. Similar to the Unix `dirname` command.\n   *\n   * Note that BrowserFS does not validate if the path is actually a valid\n   * directory.\n   * @example Usage example\n   *   path.dirname('/foo/bar/baz/asdf/quux')\n   *   // returns\n   *   '/foo/bar/baz/asdf'\n   * @param [String] p The path to get the directory name of.\n   * @return [String]\n   */\n  public static dirname(p: string): string {\n    // We get rid of //, but we don't modify anything else (e.g. any extraneous .\n    // and ../ are kept intact)\n    p = path._removeDuplicateSeps(p);\n    var absolute = p.charAt(0) === path.sep;\n    var sections = p.split(path.sep);\n    // Do 1 if it's /foo/bar, 2 if it's /foo/bar/\n    if (sections.pop() === '' && sections.length > 0) {\n      sections.pop();\n    }\n    // # of sections needs to be > 1 if absolute, since the first section is '' for '/'.\n    // If not absolute, the first section is the first part of the path, and is OK\n    // to return.\n    if (sections.length > 1 || (sections.length === 1 && !absolute)) {\n      return sections.join(path.sep);\n    } else if (absolute) {\n      return path.sep;\n    } else {\n      return '.';\n    }\n  }\n\n  /**\n   * Return the last portion of a path. Similar to the Unix basename command.\n   * @example Usage example\n   *   path.basename('/foo/bar/baz/asdf/quux.html')\n   *   // returns\n   *   'quux.html'\n   *\n   *   path.basename('/foo/bar/baz/asdf/quux.html', '.html')\n   *   // returns\n   *   'quux'\n   * @param [String] p\n   * @param [String?] ext\n   * @return [String]\n   */\n  public static basename(p: string, ext: string = \"\"): string {\n    // Special case: Normalize will modify this to '.'\n    if (p === '') {\n      return p;\n    }\n    // Normalize the string first to remove any weirdness.\n    p = path.normalize(p);\n    // Get the last part of the string.\n    var sections = p.split(path.sep);\n    var lastPart = sections[sections.length - 1];\n    // Special case: If it's empty, then we have a string like so: foo/\n    // Meaning, 'foo' is guaranteed to be a directory.\n    if (lastPart === '' && sections.length > 1) {\n      return sections[sections.length - 2];\n    }\n    // Remove the extension, if need be.\n    if (ext.length > 0) {\n      var lastPartExt = lastPart.substr(lastPart.length - ext.length);\n      if (lastPartExt === ext) {\n        return lastPart.substr(0, lastPart.length - ext.length);\n      }\n    }\n    return lastPart;\n  }\n\n  /**\n   * Return the extension of the path, from the last '.' to end of string in the\n   * last portion of the path. If there is no '.' in the last portion of the path\n   * or the first character of it is '.', then it returns an empty string.\n   * @example Usage example\n   *   path.extname('index.html')\n   *   // returns\n   *   '.html'\n   *\n   *   path.extname('index.')\n   *   // returns\n   *   '.'\n   *\n   *   path.extname('index')\n   *   // returns\n   *   ''\n   * @param [String] p\n   * @return [String]\n   */\n  public static extname(p: string): string {\n    p = path.normalize(p);\n    var sections = p.split(path.sep);\n    p = sections.pop();\n    // Special case: foo/file.ext/ should return '.ext'\n    if (p === '' && sections.length > 0) {\n      p = sections.pop();\n    }\n    if (p === '..') {\n      return '';\n    }\n    var i = p.lastIndexOf('.');\n    if (i === -1 || i === 0) {\n      return '';\n    }\n    return p.substr(i);\n  }\n\n  /**\n   * Checks if the given path is an absolute path.\n   *\n   * Despite not being documented, this is a tested part of Node's path API.\n   * @param [String] p\n   * @return [Boolean] True if the path appears to be an absolute path.\n   */\n  public static isAbsolute(p: string): boolean {\n    return p.length > 0 && p.charAt(0) === path.sep;\n  }\n\n  /**\n   * Unknown. Undocumented.\n   */\n  public static _makeLong(p: string): string {\n    return p;\n  }\n\n  // The platform-specific file separator. BrowserFS uses `/`.\n  public static sep: string = '/';\n\n  private static _replaceRegex = new RegExp(\"//+\", 'g');\n\n  private static _removeDuplicateSeps(p: string): string {\n    p = p.replace(this._replaceRegex, this.sep);\n    return p;\n  }\n\n  // The platform-specific path delimiter. BrowserFS uses `:`.\n  private static delimiter = ':';\n}\n\nexport = path;\n",
    "import eventemitter = require('./node_eventemitter');\n// Path depends on process. Avoid a circular reference by dynamically including path when we need it.\nvar path: any = null;\n\nexport class TTY extends eventemitter.AbstractDuplexStream {\n  public isRaw: boolean = false;\n  public columns: number = 80;\n  public rows: number = 120;\n  public isTTY: boolean = true;\n\n  constructor() {\n    super(true, true);\n  }\n\n  /**\n   * Set read mode to 'true' to enable raw mode.\n   */\n  public setReadMode(mode: boolean): void {\n    if (this.isRaw !== mode) {\n      this.isRaw = mode;\n      // [BFS] TTY implementations can use this to change their event emitting\n      //       patterns.\n      this.emit('modeChange');\n    }\n  }\n\n  /**\n   * [BFS] Update the number of columns available on the terminal.\n   */\n  public changeColumns(columns: number): void {\n    if (columns !== this.columns) {\n      this.columns = columns;\n      // Resize event.\n      this.emit('resize');\n    }\n  }\n\n  /**\n   * [BFS] Update the number of rows available on the terminal.\n   */\n  public changeRows(rows: number): void {\n    if (rows !== this.rows) {\n      this.rows = rows;\n      // Resize event.\n      this.emit('resize');\n    }\n  }\n\n  /**\n   * Returns 'true' if the given object is a TTY.\n   */\n  public static isatty(fd: any): boolean {\n    return fd instanceof TTY;\n  }\n}\n\n/**\n * Partial implementation of Node's `process` module.\n * We implement the portions that are relevant for the filesystem.\n * @see http://nodejs.org/api/process.html\n * @class\n */\nexport class Process {\n  private startTime = Date.now();\n\n  private _cwd: string = '/';\n  /**\n   * Changes the current working directory.\n   *\n   * **Note**: BrowserFS does not validate that the directory actually exists.\n   *\n   * @example Usage example\n   *   console.log('Starting directory: ' + process.cwd());\n   *   process.chdir('/tmp');\n   *   console.log('New directory: ' + process.cwd());\n   * @param [String] dir The directory to change to.\n   */\n  public chdir(dir: string): void {\n    // XXX: Circular dependency hack.\n    if (path === null) {\n      path = require('./node_path');\n    }\n    this._cwd = path.resolve(dir);\n  }\n  /**\n   * Returns the current working directory.\n   * @example Usage example\n   *   console.log('Current directory: ' + process.cwd());\n   * @return [String] The current working directory.\n   */\n  public cwd(): string {\n    return this._cwd;\n  }\n  /**\n   * Returns what platform you are running on.\n   * @return [String]\n   */\n  public platform: string = 'browser';\n  /**\n   * Number of seconds BrowserFS has been running.\n   * @return [Number]\n   */\n  public uptime(): number {\n    return ((Date.now() - this.startTime) / 1000) | 0;\n  }\n\n  public argv: string[] = [];\n  public stdout = new TTY();\n  public stderr = new TTY();\n  public stdin = new TTY();\n}\n\n// process is a singleton.\nexport var process = new Process();\n",
    "import buffer = require(\"./buffer\");\n/**\n * Contains string utility functions, mainly for converting between JavaScript\n * strings and binary buffers of arbitrary encoding types.\n */\n\n/**\n * Encapsulates utility functions for a particular string encoding.\n */\nexport interface StringUtil {\n  /**\n   * Converts the string into its binary representation, and then writes the\n   * binary representation into the buffer at the given offset.\n   *\n   * We assume that the offset / length is pre-validated.\n   * @param [BrowserFS.node.Buffer] buf the buffer to write into\n   * @param [String] str the string that will be converted\n   * @param [Number] offset the offset to start writing into the buffer at\n   * @param [Number] length an upper bound on the length of the string that we\n   *   can write\n   * @return [Number] number of bytes written into the buffer\n   */\n  str2byte(str: string, buf: NodeBuffer): number;\n  /**\n   * Converts the data in the byte array into a string.\n   * @todo Is this the best API? Are we doing needless copying?\n   * @param [Array] byteArray an array of bytes\n   * @return [String] the array interpreted as a binary string\n   */\n  byte2str(buf: NodeBuffer): string;\n  /**\n   * Returns the number of bytes that the string will take up using the given\n   * encoding.\n   * @param [String] str the string to get the byte length for\n   * @return [Number] the number of bytes that the string will take up using the\n   * given encoding.\n   */\n  byteLength(str: string): number;\n}\n\n/**\n * Find the 'utility' object for the given string encoding. Throws an exception\n * if the encoding is invalid.\n * @param [String] encoding a string encoding\n * @return [BrowserFS.StringUtil.*] The StringUtil object for the given encoding\n */\nexport function FindUtil(encoding: string): StringUtil {\n  encoding = (function() {\n    switch (typeof encoding) {\n      case 'object':\n        return \"\" + encoding; // Implicitly calls toString on any object (Node does this)\n      case 'string':\n        return encoding; // No transformation needed.\n      default:\n        throw new Error('Invalid encoding argument specified');\n    }\n  })();\n  encoding = encoding.toLowerCase();\n  // This is the same logic as Node's source code.\n  switch (encoding) {\n    case 'utf8':\n    case 'utf-8':\n      return UTF8;\n    case 'ascii':\n      return ASCII;\n    case 'binary':\n      return BINARY;\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return UCS2;\n    case 'hex':\n      return HEX;\n    case 'base64':\n      return BASE64;\n    // Custom BFS: For efficiently representing data as JavaScript UTF-16\n    // strings.\n    case 'binary_string':\n      return BINSTR;\n    case 'binary_string_ie':\n      return BINSTRIE;\n    case 'extended_ascii':\n      return ExtendedASCII;\n    /**\n    @todo: Support the below encodings.\n    case 'binary':\n    case 'raw':\n    case 'raws':\n      return BINARY;\n    case 'buffer':\n      return BUFFER;\n    default:\n      return UTF8;\n    */\n    default:\n      // Node defaults to UTF8, but I put this here in case something\n      // significant uses an unsupported encoding; I don't want silent\n      // failures.\n      throw new Error(\"Unknown encoding: \" + encoding);\n  }\n}\n\n/**\n * String utility functions for UTF-8. Note that some UTF-8 strings *cannot* be\n * expressed in terms of JavaScript UTF-16 strings.\n * @see http://en.wikipedia.org/wiki/UTF-8\n */\nexport class UTF8 {\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var length = buf.length;\n    var i = 0;\n    var j = 0;\n    var maxJ = length;\n    var numChars = 0;\n    while (i < str.length && j < maxJ) {\n      var code = str.charCodeAt(i++);\n      var next = str.charCodeAt(i);\n      if (0xD800 <= code && code <= 0xDBFF && 0xDC00 <= next && next <= 0xDFFF) {\n        // 4 bytes: Surrogate pairs! UTF-16 fun time.\n        if (j + 3 >= maxJ) {\n          break;\n        } else {\n          numChars++;\n        }\n        // First pair: 10 bits of data, with an implicitly set 11th bit\n        // Second pair: 10 bits of data\n        var codePoint = (((code & 0x3FF) | 0x400) << 10) | (next & 0x3FF);\n        // Highest 3 bits in first byte\n        buf.writeUInt8((codePoint >> 18) | 0xF0, j++);\n        // Rest are all 6 bits\n        buf.writeUInt8(((codePoint >> 12) & 0x3F) | 0x80, j++);\n        buf.writeUInt8(((codePoint >> 6) & 0x3F) | 0x80, j++);\n        buf.writeUInt8((codePoint & 0x3F) | 0x80, j++);\n        i++;\n      } else if (code < 0x80) {\n        // One byte\n        buf.writeUInt8(code, j++);\n        numChars++;\n      } else if (code < 0x800) {\n        // Two bytes\n        if (j + 1 >= maxJ) {\n          break;\n        } else {\n          numChars++;\n        }\n        // Highest 5 bits in first byte\n        buf.writeUInt8((code >> 6) | 0xC0, j++);\n        // Lower 6 bits in second byte\n        buf.writeUInt8((code & 0x3F) | 0x80, j++);\n      } else if (code < 0x10000) {\n        // Three bytes\n        if (j + 2 >= maxJ) {\n          break;\n        } else {\n          numChars++;\n        }\n        // Highest 4 bits in first byte\n        buf.writeUInt8((code >> 12) | 0xE0, j++);\n        // Middle 6 bits in second byte\n        buf.writeUInt8(((code >> 6) & 0x3F) | 0x80, j++);\n        // Lowest 6 bits in third byte\n        buf.writeUInt8((code & 0x3F) | 0x80, j++);\n      }\n    }\n    return j;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var chars: string[] = [];\n    var i = 0;\n    while (i < buff.length) {\n      var code = buff.readUInt8(i++);\n      if (code < 0x80) {\n        chars.push(String.fromCharCode(code));\n      } else if (code < 0xC0) {\n        // This is the second byte of a multibyte character. This shouldn't be\n        // possible.\n        throw new Error('Found incomplete part of character in string.');\n      } else if (code < 0xE0) {\n        // 2 bytes: 5 and 6 bits\n        chars.push(String.fromCharCode(((code & 0x1F) << 6) | (buff.readUInt8(i++) & 0x3F)));\n      } else if (code < 0xF0) {\n        // 3 bytes: 4, 6, and 6 bits\n        chars.push(String.fromCharCode(((code & 0xF) << 12) | ((buff.readUInt8(i++) & 0x3F) << 6) | (buff.readUInt8(i++) & 0x3F)));\n      } else if (code < 0xF8) {\n        // 4 bytes: 3, 6, 6, 6 bits; surrogate pairs time!\n        // First 11 bits; remove 11th bit as per UTF-16 standard\n        var byte3 = buff.readUInt8(i + 2);\n        chars.push(String.fromCharCode(((((code & 0x7) << 8) | ((buff.readUInt8(i++) & 0x3F) << 2) | ((buff.readUInt8(i++) & 0x3F) >> 4)) & 0x3FF) | 0xD800));\n        // Final 10 bits\n        chars.push(String.fromCharCode((((byte3 & 0xF) << 6) | (buff.readUInt8(i++) & 0x3F)) | 0xDC00));\n      } else {\n        throw new Error('Unable to represent UTF-8 string as UTF-16 JavaScript string.');\n      }\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number {\n    // Matches only the 10.. bytes that are non-initial characters in a\n    // multi-byte sequence.\n    // @todo This may be slower than iterating through the string in some cases.\n    var m = encodeURIComponent(str).match(/%[89ABab]/g);\n    return str.length + (m ? m.length : 0);\n  }\n}\n\n/**\n * String utility functions for 8-bit ASCII. Like Node, we mask the high bits of\n * characters in JavaScript UTF-16 strings.\n * @see http://en.wikipedia.org/wiki/ASCII\n */\nexport class ASCII {\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var length = str.length > buf.length ? buf.length : str.length;\n    for (var i = 0; i < length; i++) {\n      buf.writeUInt8(str.charCodeAt(i) % 256, i);\n    }\n    return length;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var chars = new Array(buff.length);\n    for (var i = 0; i < buff.length; i++) {\n      chars[i] = String.fromCharCode(buff.readUInt8(i) & 0x7F);\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number { return str.length; }\n}\n\n/**\n * (Nonstandard) String utility function for 8-bit ASCII with the extended\n * character set. Unlike the ASCII above, we do not mask the high bits.\n * @see http://en.wikipedia.org/wiki/Extended_ASCII\n */\nexport class ExtendedASCII {\n  private static extendedChars = [ '\\u00C7', '\\u00FC', '\\u00E9', '\\u00E2', '\\u00E4',\n    '\\u00E0', '\\u00E5', '\\u00E7', '\\u00EA', '\\u00EB', '\\u00E8', '\\u00EF',\n    '\\u00EE', '\\u00EC', '\\u00C4', '\\u00C5', '\\u00C9', '\\u00E6', '\\u00C6',\n    '\\u00F4', '\\u00F6', '\\u00F2', '\\u00FB', '\\u00F9', '\\u00FF', '\\u00D6',\n    '\\u00DC', '\\u00F8', '\\u00A3', '\\u00D8', '\\u00D7', '\\u0192', '\\u00E1',\n    '\\u00ED', '\\u00F3', '\\u00FA', '\\u00F1', '\\u00D1', '\\u00AA', '\\u00BA',\n    '\\u00BF', '\\u00AE', '\\u00AC', '\\u00BD', '\\u00BC', '\\u00A1', '\\u00AB',\n    '\\u00BB', '_', '_', '_', '\\u00A6', '\\u00A6', '\\u00C1', '\\u00C2', '\\u00C0',\n    '\\u00A9', '\\u00A6', '\\u00A6', '+', '+', '\\u00A2', '\\u00A5', '+', '+', '-',\n    '-', '+', '-', '+', '\\u00E3', '\\u00C3', '+', '+', '-', '-', '\\u00A6', '-',\n    '+', '\\u00A4', '\\u00F0', '\\u00D0', '\\u00CA', '\\u00CB', '\\u00C8', 'i',\n    '\\u00CD', '\\u00CE', '\\u00CF', '+', '+', '_', '_', '\\u00A6', '\\u00CC', '_',\n    '\\u00D3', '\\u00DF', '\\u00D4', '\\u00D2', '\\u00F5', '\\u00D5', '\\u00B5',\n    '\\u00FE', '\\u00DE', '\\u00DA', '\\u00DB', '\\u00D9', '\\u00FD', '\\u00DD',\n    '\\u00AF', '\\u00B4', '\\u00AD', '\\u00B1', '_', '\\u00BE', '\\u00B6', '\\u00A7',\n    '\\u00F7', '\\u00B8', '\\u00B0', '\\u00A8', '\\u00B7', '\\u00B9', '\\u00B3',\n    '\\u00B2', '_', ' ' ];\n\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var length = str.length > buf.length ? buf.length : str.length;\n    for (var i = 0; i < length; i++) {\n      var charCode = str.charCodeAt(i);\n      if (charCode > 0x7F) {\n        // Check if extended ASCII.\n        var charIdx = ExtendedASCII.extendedChars.indexOf(str.charAt(i));\n        if (charIdx > -1) {\n          charCode = charIdx + 0x80;\n        }\n        // Otherwise, keep it as-is.\n      }\n      buf.writeUInt8(charCode, i);\n    }\n    return length;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var chars = new Array(buff.length);\n    for (var i = 0; i < buff.length; i++) {\n      var charCode = buff.readUInt8(i);\n      if (charCode > 0x7F) {\n        chars[i] = ExtendedASCII.extendedChars[charCode - 128]\n      } else {\n        chars[i] = String.fromCharCode(charCode);\n      }\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number { return str.length; }\n}\n\n/**\n * String utility functions for Node's BINARY strings, which represent a single\n * byte per character.\n */\nexport class BINARY {\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var length = str.length > buf.length ? buf.length : str.length;\n    for (var i = 0; i < length; i++) {\n      buf.writeUInt8(str.charCodeAt(i) & 0xFF, i);\n    }\n    return length;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var chars = new Array(buff.length);\n    for (var i = 0; i < buff.length; i++) {\n      chars[i] = String.fromCharCode(buff.readUInt8(i) & 0xFF);\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number { return str.length; }\n}\n\n/**\n * Contains string utility functions for base-64 encoding.\n *\n * Adapted from the StackOverflow comment linked below.\n * @see http://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript#246813\n * @see http://en.wikipedia.org/wiki/Base64\n * @todo Bake in support for btoa() and atob() if available.\n */\nexport class BASE64 {\n  private static b64chars = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '+', '/', '='];\n  private static num2b64: string[] = (function() {\n    var obj = new Array(BASE64.b64chars.length);\n    for (var idx = 0; idx < BASE64.b64chars.length; idx++) {\n      var i = BASE64.b64chars[idx];\n      obj[idx] = i;\n    }\n    return obj;\n  })();\n\n  private static b642num: {[chr: string]: number} = (function(): {[chr: string]: number} {\n    var obj: {[chr: string]: number} = {};\n    for (var idx = 0; idx < BASE64.b64chars.length; idx++) {\n      var i = BASE64.b64chars[idx];\n      obj[i] = idx;\n    }\n    obj['-'] = 62;\n    obj['_'] = 63;\n    return obj;\n  })();\n\n  public static byte2str(buff: NodeBuffer): string {\n    var output = '';\n    var i = 0;\n    while (i < buff.length) {\n      var chr1 = buff.readUInt8(i++);\n      var chr2 = i < buff.length ? buff.readUInt8(i++) : NaN;\n      var chr3 = i < buff.length ? buff.readUInt8(i++) : NaN;\n      var enc1 = chr1 >> 2;\n      var enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      var enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      var enc4 = chr3 & 63;\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n      output = output + BASE64.num2b64[enc1] + BASE64.num2b64[enc2] + BASE64.num2b64[enc3] + BASE64.num2b64[enc4];\n    }\n    return output;\n  }\n\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var length = buf.length;\n    var output = '';\n    var i = 0;\n    str = str.replace(/[^A-Za-z0-9\\+\\/\\=\\-\\_]/g, '');\n    var j = 0;\n    while (i < str.length) {\n      var enc1 = BASE64.b642num[str.charAt(i++)];\n      var enc2 = BASE64.b642num[str.charAt(i++)];\n      var enc3 = BASE64.b642num[str.charAt(i++)];\n      var enc4 = BASE64.b642num[str.charAt(i++)];\n      var chr1 = (enc1 << 2) | (enc2 >> 4);\n      var chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      var chr3 = ((enc3 & 3) << 6) | enc4;\n      buf.writeUInt8(chr1, j++);\n      if (j === length) {\n        break;\n      }\n      if (enc3 !== 64) {\n        output += buf.writeUInt8(chr2, j++);\n      }\n      if (j === length) {\n        break;\n      }\n      if (enc4 !== 64) {\n        output += buf.writeUInt8(chr3, j++);\n      }\n      if (j === length) {\n        break;\n      }\n    }\n    return j;\n  }\n\n  public static byteLength(str: string): number {\n    return Math.floor(((str.replace(/[^A-Za-z0-9\\+\\/\\-\\_]/g, '')).length * 6) / 8);\n  }\n}\n\n/**\n * String utility functions for the UCS-2 encoding. Note that our UCS-2 handling\n * is identical to our UTF-16 handling.\n *\n * Note: UCS-2 handling is identical to UTF-16.\n * @see http://en.wikipedia.org/wiki/UCS2\n */\nexport class UCS2 {\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var len = str.length;\n    // Clip length to longest string of valid characters that can fit in the\n    // byte range.\n    if (len * 2 > buf.length) {\n      len = buf.length % 2 === 1 ? (buf.length - 1) / 2 : buf.length / 2;\n    }\n    for (var i = 0; i < len; i++) {\n      buf.writeUInt16LE(str.charCodeAt(i), i * 2);\n    }\n    return len * 2;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    if (buff.length % 2 !== 0) {\n      throw new Error('Invalid UCS2 byte array.');\n    }\n    var chars = new Array(buff.length / 2);\n    for (var i = 0; i < buff.length; i += 2) {\n      chars[i / 2] = String.fromCharCode(buff.readUInt8(i) | (buff.readUInt8(i + 1) << 8));\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number {\n    return str.length * 2;\n  }\n}\n\n/**\n * Contains string utility functions for hex encoding.\n * @see http://en.wikipedia.org/wiki/Hexadecimal\n */\nexport class HEX {\n  private static HEXCHARS = '0123456789abcdef';\n\n  private static num2hex: string[] = (function() {\n    var obj = new Array(HEX.HEXCHARS.length);\n    for (var idx = 0; idx < HEX.HEXCHARS.length; idx++) {\n      var i = HEX.HEXCHARS[idx];\n      obj[idx] = i;\n    }\n    return obj;\n  })();\n\n  private static hex2num: {[chr: string]: number} = (function(): {[chr: string]: number} {\n    var idx: number, i: string;\n    var obj: {[chr: string]: number} = {};\n    for (idx = 0; idx < HEX.HEXCHARS.length; idx++) {\n      i = HEX.HEXCHARS[idx];\n      obj[i] = idx;\n    }\n    var capitals = 'ABCDEF';\n    for (idx = 0; idx < capitals.length; idx++) {\n      i = capitals[idx];\n      obj[i] = idx + 10;\n    }\n    return obj;\n  })();\n\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    if (str.length % 2 === 1) {\n      throw new Error('Invalid hex string');\n    }\n    // Each character is 1 byte encoded as two hex characters; so 1 byte becomes\n    // 2 bytes.\n    var numBytes = str.length >> 1;\n    if (numBytes > buf.length) {\n      numBytes = buf.length;\n    }\n    for (var i = 0; i < numBytes; i++) {\n      var char1 = this.hex2num[str.charAt(i << 1)];\n      var char2 = this.hex2num[str.charAt((i << 1) + 1)];\n      buf.writeUInt8((char1 << 4) | char2, i);\n    }\n    return numBytes;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var len = buff.length;\n    var chars = new Array(len << 1);\n    var j = 0;\n    for (var i = 0; i < len; i++) {\n      var hex2 = buff.readUInt8(i) & 0xF;\n      var hex1 = buff.readUInt8(i) >> 4;\n      chars[j++] = this.num2hex[hex1];\n      chars[j++] = this.num2hex[hex2];\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number {\n    // Assuming a valid string.\n    return str.length >> 1;\n  }\n}\n\n/**\n * Contains string utility functions for binary string encoding. This is where we\n * pack arbitrary binary data as a UTF-16 string.\n *\n * Each character in the string is two bytes. The first character in the string\n * is special: The first byte specifies if the binary data is of odd byte length.\n * If it is, then it is a 1 and the second byte is the first byte of data; if\n * not, it is a 0 and the second byte is 0.\n *\n * Everything is little endian.\n */\nexport class BINSTR {\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    // Special case: Empty string\n    if (str.length === 0) {\n      return 0;\n    }\n    var numBytes = BINSTR.byteLength(str);\n    if (numBytes > buf.length) {\n      numBytes = buf.length;\n    }\n    var j = 0;\n    var startByte = 0;\n    var endByte = startByte + numBytes;\n    // Handle first character separately\n    var firstChar = str.charCodeAt(j++);\n    if (firstChar !== 0) {\n      buf.writeUInt8(firstChar & 0xFF, 0);\n      startByte = 1;\n    }\n    for (var i = startByte; i < endByte; i += 2) {\n      var chr = str.charCodeAt(j++);\n      if (endByte - i === 1) {\n        // Write first byte of character\n        buf.writeUInt8(chr >> 8, i);\n      }\n      if (endByte - i >= 2) {\n        // Write both bytes in character\n        buf.writeUInt16BE(chr, i);\n      }\n    }\n    return numBytes;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var len = buff.length;\n    // Special case: Empty string\n    if (len === 0) {\n      return '';\n    }\n    var chars = new Array((len >> 1) + 1);\n    var j = 0;\n    for (var i = 0; i < chars.length; i++) {\n      if (i === 0) {\n        if (len % 2 === 1) {\n          chars[i] = String.fromCharCode((1 << 8) | buff.readUInt8(j++));\n        } else {\n          chars[i] = String.fromCharCode(0);\n        }\n      } else {\n        chars[i] = String.fromCharCode((buff.readUInt8(j++) << 8) | buff.readUInt8(j++));\n      }\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number {\n    if (str.length === 0) {\n      // Special case: Empty string.\n      return 0;\n    }\n    var firstChar = str.charCodeAt(0);\n    var bytelen = (str.length - 1) << 1;\n    if (firstChar !== 0) {\n      bytelen++;\n    }\n    return bytelen;\n  }\n}\n\n/**\n * IE/older FF version of binary string. One byte per character, offset by 0x20.\n */\nexport class BINSTRIE {\n  public static str2byte(str: string, buf: NodeBuffer): number {\n    var length = str.length > buf.length ? buf.length : str.length;\n    for (var i = 0; i < length; i++) {\n      buf.writeUInt8(str.charCodeAt(i) - 0x20, i);\n    }\n    return length;\n  }\n\n  public static byte2str(buff: NodeBuffer): string {\n    var chars = new Array(buff.length);\n    for (var i = 0; i < buff.length; i++) {\n      chars[i] = String.fromCharCode(buff.readUInt8(i) + 0x20);\n    }\n    return chars.join('');\n  }\n\n  public static byteLength(str: string): number {\n    return str.length;\n  }\n}\n",
    "/**\n * Grab bag of utility functions used across the code.\n */\n\n/**\n * Checks for any IE version, including IE11 which removed MSIE from the\n * userAgent string.\n */\nexport var isIE: boolean = typeof navigator !== \"undefined\" && (/(msie) ([\\w.]+)/.exec(navigator.userAgent.toLowerCase()) != null || navigator.userAgent.indexOf('Trident') !== -1);\n\n/**\n * Check if we're in a web worker.\n */\nexport var isWebWorker: boolean = typeof window === \"undefined\";\n",
    "/**\n * Defines an Emscripten file system object for use in the Emscripten virtual\n * filesystem. Allows you to use synchronous BrowserFS file systems from within\n * Emscripten.\n *\n * You can construct a BFSEmscriptenFS, mount it using its mount command,\n * and then mount it into Emscripten.\n *\n * Adapted from Emscripten's NodeFS:\n * https://raw.github.com/kripken/emscripten/master/src/library_nodefs.js\n */\nimport BrowserFS = require('../core/browserfs');\nimport fs = require('../core/node_fs');\nimport buffer = require('../core/buffer');\nimport buffer_core_arraybuffer = require('../core/buffer_core_arraybuffer');\nimport node_fs_stats = require('../core/node_fs_stats');\n\nimport Buffer = buffer.Buffer;\nimport BufferCoreArrayBuffer = buffer_core_arraybuffer.BufferCoreArrayBuffer;\n\nexport interface Stats {\n  dev: number;\n  ino: number;\n  mode: number;\n  nlink: number;\n  uid: number;\n  gid: number;\n  rdev: number;\n  size: number;\n  blksize: number;\n  blocks: number;\n  atime: Date;\n  mtime: Date;\n  ctime: Date;\n  timestamp?: number;\n}\n\nexport interface EmscriptenFSNode {\n  name: string;\n  mode: number;\n  parent: EmscriptenFSNode;\n  mount: {opts: {root: string}};\n  stream_ops: EmscriptenStreamOps;\n  node_ops: EmscriptenNodeOps;\n}\n\nexport interface EmscriptenStream {\n  node: EmscriptenFSNode;\n  nfd: any;\n  flags: string;\n  position: number;\n}\n\nexport interface EmscriptenNodeOps {\n  getattr(node: EmscriptenFSNode): Stats;\n  setattr(node: EmscriptenFSNode, attr: Stats): void;\n  lookup(parent: EmscriptenFSNode, name: string): EmscriptenFSNode;\n  mknod(parent: EmscriptenFSNode, name: string, mode: number, dev: any): EmscriptenFSNode;\n  rename(oldNode: EmscriptenFSNode, newDir: EmscriptenFSNode, newName: string): void;\n  unlink(parent: EmscriptenFSNode, name: string): void;\n  rmdir(parent: EmscriptenFSNode, name: string): void;\n  readdir(node: EmscriptenFSNode): string[];\n  symlink(parent: EmscriptenFSNode, newName: string, oldPath: string): void;\n  readlink(node: EmscriptenFSNode): string;\n}\n\nexport interface EmscriptenStreamOps {\n  open(stream: EmscriptenStream): void;\n  close(stream: EmscriptenStream): void;\n  read(stream: EmscriptenStream, buffer: Uint8Array, offset: number, length: number, position: number): number;\n  write(stream: EmscriptenStream, buffer: Uint8Array, offset: number, length: number, position: number): number;\n  llseek(stream: EmscriptenStream, offset: number, whence: number): number;\n}\n\nexport interface EmscriptenFS {\n  mount(mount: {opts: {root: string}}): EmscriptenFSNode;\n  createNode(parent: EmscriptenFSNode, name: string, mode: number, dev?: any): EmscriptenFSNode;\n  getMode(path: string): number;\n  realPath(node: EmscriptenFSNode): string;\n  node_ops: EmscriptenNodeOps;\n  stream_ops: EmscriptenStreamOps;\n}\n\nclass BFSEmscriptenStreamOps implements EmscriptenStreamOps {\n  private FS: any;\n  private PATH: any;\n  private ERRNO_CODES: any;\n\n  constructor(private fs: BFSEmscriptenFS) {\n    this.FS = fs.getFS();\n    this.PATH = fs.getPATH();\n    this.ERRNO_CODES = fs.getERRNO_CODES();\n  }\n\n  public open(stream: EmscriptenStream): void {\n    var path = this.fs.realPath(stream.node),\n      FS = this.FS;\n    try {\n      if (FS.isFile(stream.node.mode)) {\n        stream.nfd = fs.openSync(path, this.fs.flagsToPermissionString(stream.flags));\n      }\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public close(stream: EmscriptenStream): void {\n    var FS = this.FS;\n    try {\n      if (FS.isFile(stream.node.mode) && stream.nfd) {\n        fs.closeSync(stream.nfd);\n      }\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public read(stream: EmscriptenStream, buffer: Uint8Array, offset: number, length: number, position: number): number {\n    // Avoid copying overhead by reading directly into buffer.\n    var bcore = new BufferCoreArrayBuffer(buffer.buffer);\n    var nbuffer = new Buffer(bcore, buffer.byteOffset + offset, buffer.byteOffset + offset + length);\n    var res: number;\n    try {\n      res = fs.readSync(stream.nfd, nbuffer, 0, length, position);\n    } catch (e) {\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n    // No copying needed, since we wrote directly into UintArray.\n    return res;\n  }\n\n  public write(stream: EmscriptenStream, buffer: Uint8Array, offset: number, length: number, position: number): number {\n    // Avoid copying overhead; plug the buffer directly into a BufferCore.\n    var bcore = new BufferCoreArrayBuffer(buffer.buffer);\n    var nbuffer = new Buffer(bcore, buffer.byteOffset + offset, buffer.byteOffset + offset + length);\n    var res: number;\n    try {\n      res = fs.writeSync(stream.nfd, nbuffer, 0, length, position);\n    } catch (e) {\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n    return res;\n  }\n\n  public llseek(stream: EmscriptenStream, offset: number, whence: number): number {\n    var position = offset;\n    if (whence === 1) {  // SEEK_CUR.\n      position += stream.position;\n    } else if (whence === 2) {  // SEEK_END.\n      if (this.FS.isFile(stream.node.mode)) {\n        try {\n          var stat = fs.fstatSync(stream.nfd);\n          position += stat.size;\n        } catch (e) {\n          throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n        }\n      }\n    }\n\n    if (position < 0) {\n      throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);\n    }\n\n    stream.position = position;\n    return position;\n  }\n}\n\nclass BFSEmscriptenNodeOps implements EmscriptenNodeOps {\n  private FS: any;\n  private PATH: any;\n  private ERRNO_CODES: any;\n\n  constructor(private fs: BFSEmscriptenFS) {\n    this.FS = fs.getFS();\n    this.PATH = fs.getPATH();\n    this.ERRNO_CODES = fs.getERRNO_CODES();\n  }\n\n  public getattr(node: EmscriptenFSNode): Stats {\n    var path = this.fs.realPath(node);\n    var stat: node_fs_stats.Stats;\n    try {\n      stat = fs.lstatSync(path);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n    return {\n      dev: stat.dev,\n      ino: stat.ino,\n      mode: stat.mode,\n      nlink: stat.nlink,\n      uid: stat.uid,\n      gid: stat.gid,\n      rdev: stat.rdev,\n      size: stat.size,\n      atime: stat.atime,\n      mtime: stat.mtime,\n      ctime: stat.ctime,\n      blksize: stat.blksize,\n      blocks: stat.blocks\n    };\n  }\n\n  public setattr(node: EmscriptenFSNode, attr: Stats): void {\n    var path = this.fs.realPath(node);\n    try {\n      if (attr.mode !== undefined) {\n        fs.chmodSync(path, attr.mode);\n        // update the common node structure mode as well\n        node.mode = attr.mode;\n      }\n      if (attr.timestamp !== undefined) {\n        var date = new Date(attr.timestamp);\n        fs.utimesSync(path, date, date);\n      }\n    } catch (e) {\n      if (!e.code) throw e;\n      // Ignore not supported errors. Emscripten does utimesSync when it\n      // writes files, but never really requires the value to be set.\n      if (e.code !== \"ENOTSUP\") {\n        throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n      }\n    }\n    if (attr.size !== undefined) {\n      try {\n        fs.truncateSync(path, attr.size);\n      } catch (e) {\n        if (!e.code) throw e;\n        throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n      }\n    }\n  }\n\n  public lookup(parent: EmscriptenFSNode, name: string): EmscriptenFSNode {\n    var path = this.PATH.join2(this.fs.realPath(parent), name);\n    var mode = this.fs.getMode(path);\n    return this.fs.createNode(parent, name, mode);\n  }\n\n  public mknod(parent: EmscriptenFSNode, name: string, mode: number, dev: any): EmscriptenFSNode {\n    var node = this.fs.createNode(parent, name, mode, dev);\n    // create the backing node for this in the fs root as well\n    var path = this.fs.realPath(node);\n    try {\n      if (this.FS.isDir(node.mode)) {\n        fs.mkdirSync(path, node.mode);\n      } else {\n        fs.writeFileSync(path, '', { mode: node.mode });\n      }\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n    return node;\n  }\n\n  public rename(oldNode: EmscriptenFSNode, newDir: EmscriptenFSNode, newName: string): void {\n    var oldPath = this.fs.realPath(oldNode);\n    var newPath = this.PATH.join2(this.fs.realPath(newDir), newName);\n    try {\n      fs.renameSync(oldPath, newPath);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public unlink(parent: EmscriptenFSNode, name: string): void {\n    var path = this.PATH.join2(this.fs.realPath(parent), name);\n    try {\n      fs.unlinkSync(path);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public rmdir(parent: EmscriptenFSNode, name: string) {\n    var path = this.PATH.join2(this.fs.realPath(parent), name);\n    try {\n      fs.rmdirSync(path);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public readdir(node: EmscriptenFSNode): string[] {\n    var path = this.fs.realPath(node);\n    try {\n      return fs.readdirSync(path);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public symlink(parent: EmscriptenFSNode, newName: string, oldPath: string): void {\n    var newPath = this.PATH.join2(this.fs.realPath(parent), newName);\n    try {\n      fs.symlinkSync(oldPath, newPath);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n\n  public readlink(node: EmscriptenFSNode): string {\n    var path = this.fs.realPath(node);\n    try {\n      return fs.readlinkSync(path);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n  }\n}\n\nexport class BFSEmscriptenFS implements EmscriptenFS {\n  private FS: any;\n  private PATH: any;\n  private ERRNO_CODES: any;\n  constructor(_FS = (<any> self)['FS'], _PATH = (<any> self)['PATH'], _ERRNO_CODES = (<any> self)['ERRNO_CODES']) {\n    if (typeof BrowserFS === 'undefined') {\n      throw new Error(\"BrowserFS is not loaded. Please load it before this library.\");\n    }\n    this.FS = _FS;\n    this.PATH = _PATH;\n    this.ERRNO_CODES = _ERRNO_CODES;\n    this.node_ops = new BFSEmscriptenNodeOps(this);\n    this.stream_ops = new BFSEmscriptenStreamOps(this);\n  }\n\n  public mount(mount: {opts: {root: string}}): EmscriptenFSNode {\n    return this.createNode(null, '/', this.getMode(mount.opts.root), 0);\n  }\n\n  public createNode(parent: EmscriptenFSNode, name: string, mode: number, dev?: any): EmscriptenFSNode {\n    var FS = this.FS;\n    if (!FS.isDir(mode) && !FS.isFile(mode) && !FS.isLink(mode)) {\n      throw new FS.ErrnoError(this.ERRNO_CODES.EINVAL);\n    }\n    var node = FS.createNode(parent, name, mode);\n    node.node_ops = this.node_ops;\n    node.stream_ops = this.stream_ops;\n    return node;\n  }\n\n  public getMode(path: string): number {\n    var stat: node_fs_stats.Stats;\n    try {\n      stat = fs.lstatSync(path);\n    } catch (e) {\n      if (!e.code) throw e;\n      throw new this.FS.ErrnoError(this.ERRNO_CODES[e.code]);\n    }\n    return stat.mode;\n  }\n\n  public realPath(node: EmscriptenFSNode): string {\n    var parts: string[] = [];\n    while (node.parent !== node) {\n      parts.push(node.name);\n      node = node.parent;\n    }\n    parts.push(node.mount.opts.root);\n    parts.reverse();\n    return this.PATH.join.apply(null, parts);\n  }\n  // This maps the integer permission modes from http://linux.die.net/man/3/open\n  // to node.js-specific file open permission strings at http://nodejs.org/api/fs.html#fs_fs_open_path_flags_mode_callback\n  public flagsToPermissionStringMap = {\n    0/*O_RDONLY*/: 'r',\n    1/*O_WRONLY*/: 'r+',\n    2/*O_RDWR*/: 'r+',\n    64/*O_CREAT*/: 'r',\n    65/*O_WRONLY|O_CREAT*/: 'r+',\n    66/*O_RDWR|O_CREAT*/: 'r+',\n    129/*O_WRONLY|O_EXCL*/: 'rx+',\n    193/*O_WRONLY|O_CREAT|O_EXCL*/: 'rx+',\n    514/*O_RDWR|O_TRUNC*/: 'w+',\n    577/*O_WRONLY|O_CREAT|O_TRUNC*/: 'w',\n    578/*O_CREAT|O_RDWR|O_TRUNC*/: 'w+',\n    705/*O_WRONLY|O_CREAT|O_EXCL|O_TRUNC*/: 'wx',\n    706/*O_RDWR|O_CREAT|O_EXCL|O_TRUNC*/: 'wx+',\n    1024/*O_APPEND*/: 'a',\n    1025/*O_WRONLY|O_APPEND*/: 'a',\n    1026/*O_RDWR|O_APPEND*/: 'a+',\n    1089/*O_WRONLY|O_CREAT|O_APPEND*/: 'a',\n    1090/*O_RDWR|O_CREAT|O_APPEND*/: 'a+',\n    1153/*O_WRONLY|O_EXCL|O_APPEND*/: 'ax',\n    1154/*O_RDWR|O_EXCL|O_APPEND*/: 'ax+',\n    1217/*O_WRONLY|O_CREAT|O_EXCL|O_APPEND*/: 'ax',\n    1218/*O_RDWR|O_CREAT|O_EXCL|O_APPEND*/: 'ax+',\n    4096/*O_RDONLY|O_DSYNC*/: 'rs',\n    4098/*O_RDWR|O_DSYNC*/: 'rs+'\n  }\n\n  public flagsToPermissionString(flags: string): string {\n    if (flags in this.flagsToPermissionStringMap) {\n      return (<any> this.flagsToPermissionStringMap)[flags];\n    } else {\n      return flags;\n    }\n  }\n\n  public getFS() {\n    return this.FS;\n  }\n\n  public getPATH() {\n    return this.PATH;\n  }\n\n  public getERRNO_CODES() {\n    return this.ERRNO_CODES;\n  }\n\n  public node_ops: EmscriptenNodeOps;\n  public stream_ops: EmscriptenStreamOps;\n}\n\n// Make it available on the global BrowserFS object.\n(<any> BrowserFS)['EmscriptenFS'] = BFSEmscriptenFS;\n",
    "import node_fs_stats = require('../core/node_fs_stats');\nimport path = require('../core/node_path');\n\nvar Stats = node_fs_stats.Stats;\n\n/**\n * A simple class for storing a filesystem index. Assumes that all paths passed\n * to it are *absolute* paths.\n *\n * Can be used as a partial or a full index, although care must be taken if used\n * for the former purpose, especially when directories are concerned.\n */\nexport class FileIndex {\n  // Maps directory paths to directory inodes, which contain files.\n  private _index: {[path: string]: DirInode}\n\n  /**\n   * Constructs a new FileIndex.\n   */\n  constructor() {\n    // _index is a single-level key,value store that maps *directory* paths to\n    // DirInodes. File information is only contained in DirInodes themselves.\n    this._index = {};\n    // Create the root directory.\n    this.addPath('/', new DirInode());\n  }\n\n  /**\n   * Split into a (directory path, item name) pair\n   */\n  private _split_path(p: string): string[] {\n    var dirpath = path.dirname(p);\n    var itemname = p.substr(dirpath.length + (dirpath === \"/\" ? 0 : 1));\n    return [dirpath, itemname];\n  }\n\n  /**\n   * Runs the given function over all files in the index.\n   */\n  public fileIterator(cb: (file: node_fs_stats.Stats) => void): void {\n    for (var path in this._index) {\n      var dir = this._index[path];\n      var files = dir.getListing();\n      for (var i = 0; i < files.length; i++) {\n        var item = dir.getItem(files[i]);\n        if (item.isFile()) {\n          cb((<FileInode<node_fs_stats.Stats>> item).getData());\n        }\n      }\n    }\n  }\n\n  /**\n   * Adds the given absolute path to the index if it is not already in the index.\n   * Creates any needed parent directories.\n   * @param [String] path The path to add to the index.\n   * @param [BrowserFS.FileInode | BrowserFS.DirInode] inode The inode for the\n   *   path to add.\n   * @return [Boolean] 'True' if it was added or already exists, 'false' if there\n   *   was an issue adding it (e.g. item in path is a file, item exists but is\n   *   different).\n   * @todo If adding fails and implicitly creates directories, we do not clean up\n   *   the new empty directories.\n   */\n  public addPath(path: string, inode: Inode): boolean {\n    if (inode == null) {\n      throw new Error('Inode must be specified');\n    }\n    if (path[0] !== '/') {\n      throw new Error('Path must be absolute, got: ' + path);\n    }\n\n    // Check if it already exists.\n    if (this._index.hasOwnProperty(path)) {\n      return this._index[path] === inode;\n    }\n\n    var splitPath = this._split_path(path);\n    var dirpath = splitPath[0];\n    var itemname = splitPath[1];\n    // Try to add to its parent directory first.\n    var parent = this._index[dirpath];\n    if (parent === undefined && path !== '/') {\n      // Create parent.\n      parent = new DirInode();\n      if (!this.addPath(dirpath, parent)) {\n        return false;\n      }\n    }\n    // Add myself to my parent.\n    if (path !== '/') {\n      if (!parent.addItem(itemname, inode)) {\n        return false;\n      }\n    }\n    // If I'm a directory, add myself to the index.\n    if (!inode.isFile()) {\n      this._index[path] = <DirInode> inode;\n    }\n    return true;\n  }\n\n  /**\n   * Removes the given path. Can be a file or a directory.\n   * @return [BrowserFS.FileInode | BrowserFS.DirInode | null] The removed item,\n   *   or null if it did not exist.\n   */\n  public removePath(path: string): Inode {\n    var splitPath = this._split_path(path);\n    var dirpath = splitPath[0];\n    var itemname = splitPath[1];\n\n    // Try to remove it from its parent directory first.\n    var parent = this._index[dirpath];\n    if (parent === undefined) {\n      return null;\n    }\n    // Remove myself from my parent.\n    var inode = parent.remItem(itemname);\n    if (inode === null) {\n      return null;\n    }\n    // If I'm a directory, remove myself from the index, and remove my children.\n    if (!inode.isFile()) {\n      var dirInode = <DirInode> inode;\n      var children = dirInode.getListing();\n      for (var i = 0; i < children.length; i++) {\n        this.removePath(path + '/' + children[i]);\n      }\n\n      // Remove the directory from the index, unless it's the root.\n      if (path !== '/') {\n        delete this._index[path];\n      }\n    }\n    return inode;\n  }\n\n  /**\n   * Retrieves the directory listing of the given path.\n   * @return [String[]] An array of files in the given path, or 'null' if it does\n   *   not exist.\n   */\n  public ls(path: string): string[] {\n    var item = this._index[path];\n    if (item === undefined) {\n      return null;\n    }\n    return item.getListing();\n  }\n\n  /**\n   * Returns the inode of the given item.\n   * @param [String] path\n   * @return [BrowserFS.FileInode | BrowserFS.DirInode | null] Returns null if\n   *   the item does not exist.\n   */\n  public getInode(path: string): Inode {\n    var splitPath = this._split_path(path);\n    var dirpath = splitPath[0];\n    var itemname = splitPath[1];\n    // Retrieve from its parent directory.\n    var parent = this._index[dirpath];\n    if (parent === undefined) {\n      return null;\n    }\n    // Root case\n    if (dirpath === path) {\n      return parent;\n    }\n    return parent.getItem(itemname);\n  }\n\n  /**\n   * Static method for constructing indices from a JSON listing.\n   * @param [Object] listing Directory listing generated by tools/XHRIndexer.coffee\n   * @return [BrowserFS.FileIndex] A new FileIndex object.\n   */\n  public static from_listing(listing): FileIndex {\n    var idx = new FileIndex();\n    // Add a root DirNode.\n    var rootInode = new DirInode();\n    idx._index['/'] = rootInode;\n    var queue = [['', listing, rootInode]];\n    while (queue.length > 0) {\n      var inode;\n      var next = queue.pop();\n      var pwd = next[0];\n      var tree = next[1];\n      var parent = next[2];\n      for (var node in tree) {\n        var children = tree[node];\n        var name = \"\" + pwd + \"/\" + node;\n        if (children != null) {\n          idx._index[name] = inode = new DirInode();\n          queue.push([name, children, inode]);\n        } else {\n          // This inode doesn't have correct size information, noted with -1.\n          inode = new FileInode<node_fs_stats.Stats>(new Stats(node_fs_stats.FileType.FILE, -1, 0x16D));\n        }\n        if (parent != null) {\n          parent._ls[node] = inode;\n        }\n      }\n    }\n    return idx;\n  }\n}\n\n/**\n * Generic interface for file/directory inodes.\n * Note that Stats objects are what we use for file inodes.\n */\nexport interface Inode {\n  // Is this an inode for a file?\n  isFile(): boolean;\n  // Is this an inode for a directory?\n  isDir(): boolean;\n}\n\n/**\n * Inode for a file. Stores an arbitrary (filesystem-specific) data payload.\n */\nexport class FileInode<T> implements Inode {\n  constructor(private data: T) { }\n  public isFile(): boolean { return true; }\n  public isDir(): boolean { return false; }\n  public getData(): T { return this.data; }\n  public setData(data: T): void { this.data = data; }\n}\n\n/**\n * Inode for a directory. Currently only contains the directory listing.\n */\nexport class DirInode implements Inode {\n  private _ls: {[path: string]: Inode} = {};\n  /**\n   * Constructs an inode for a directory.\n   */\n  constructor() {}\n  public isFile(): boolean {\n    return false;\n  }\n  public isDir(): boolean {\n    return true;\n  }\n\n  /**\n   * Return a Stats object for this inode.\n   * @todo Should probably remove this at some point. This isn't the\n   *       responsibility of the FileIndex.\n   * @return [BrowserFS.node.fs.Stats]\n   */\n  public getStats(): node_fs_stats.Stats {\n    return new Stats(node_fs_stats.FileType.DIRECTORY, 4096, 0x16D);\n  }\n  /**\n   * Returns the directory listing for this directory. Paths in the directory are\n   * relative to the directory's path.\n   * @return [String[]] The directory listing for this directory.\n   */\n  public getListing(): string[] {\n    return Object.keys(this._ls);\n  }\n  /**\n   * Returns the inode for the indicated item, or null if it does not exist.\n   * @param [String] p Name of item in this directory.\n   * @return [BrowserFS.FileInode | BrowserFS.DirInode | null]\n   */\n  public getItem(p: string): Inode {\n    var _ref;\n    return (_ref = this._ls[p]) != null ? _ref : null;\n  }\n  /**\n   * Add the given item to the directory listing. Note that the given inode is\n   * not copied, and will be mutated by the DirInode if it is a DirInode.\n   * @param [String] p Item name to add to the directory listing.\n   * @param [BrowserFS.FileInode | BrowserFS.DirInode] inode The inode for the\n   *   item to add to the directory inode.\n   * @return [Boolean] True if it was added, false if it already existed.\n   */\n  public addItem(p: string, inode: Inode): boolean {\n    if (p in this._ls) {\n      return false;\n    }\n    this._ls[p] = inode;\n    return true;\n  }\n  /**\n   * Removes the given item from the directory listing.\n   * @param [String] p Name of item to remove from the directory listing.\n   * @return [BrowserFS.FileInode | BrowserFS.DirInode | null] Returns the item\n   *   removed, or null if the item did not exist.\n   */\n  public remItem(p: string): Inode {\n    var item = this._ls[p];\n    if (item === undefined) {\n      return null;\n    }\n    delete this._ls[p];\n    return item;\n  }\n}\n",
    "import node_fs_stats = require('../core/node_fs_stats');\nimport buffer = require('../core/buffer');\n/**\n * Generic inode definition that can easily be serialized.\n */\nclass Inode {\n  constructor(public id: string,\n    public size: number,\n    public mode: number,\n    public atime: number,\n    public mtime: number,\n    public ctime: number) { }\n\n  /**\n   * Handy function that converts the Inode to a Node Stats object.\n   */\n  public toStats(): node_fs_stats.Stats {\n    return new node_fs_stats.Stats(\n      (this.mode & 0xF000) === node_fs_stats.FileType.DIRECTORY ? node_fs_stats.FileType.DIRECTORY : node_fs_stats.FileType.FILE,\n      this.size, this.mode, new Date(this.atime), new Date(this.mtime), new Date(this.ctime));\n  }\n\n  /**\n   * Get the size of this Inode, in bytes.\n   */\n  public getSize(): number {\n    // ASSUMPTION: ID is ASCII (1 byte per char).\n    return 30 + this.id.length;\n  }\n\n  /**\n   * Writes the inode into the start of the buffer.\n   */\n  public toBuffer(buff: NodeBuffer = new buffer.Buffer(this.getSize())): NodeBuffer {\n    buff.writeUInt32LE(this.size, 0);\n    buff.writeUInt16LE(this.mode, 4);\n    buff.writeDoubleLE(this.atime, 6);\n    buff.writeDoubleLE(this.mtime, 14);\n    buff.writeDoubleLE(this.ctime, 22);\n    buff.write(this.id, 30, this.id.length, 'ascii');\n    return buff;\n  }\n\n  /**\n   * Updates the Inode using information from the stats object. Used by file\n   * systems at sync time, e.g.:\n   * - Program opens file and gets a File object.\n   * - Program mutates file. File object is responsible for maintaining\n   *   metadata changes locally -- typically in a Stats object.\n   * - Program closes file. File object's metadata changes are synced with the\n   *   file system.\n   * @return True if any changes have occurred.\n   */\n  public update(stats: node_fs_stats.Stats): boolean {\n    var hasChanged = false;\n    if (this.size !== stats.size) {\n      this.size = stats.size;\n      hasChanged = true;\n    }\n\n    if (this.mode !== stats.mode) {\n      this.mode = stats.mode;\n      hasChanged = true;\n    }\n\n    var atimeMs = stats.atime.getTime();\n    if (this.atime !== atimeMs) {\n      this.atime = atimeMs;\n      hasChanged = true;\n    }\n\n    var mtimeMs = stats.mtime.getTime();\n    if (this.mtime !== mtimeMs) {\n      this.mtime = mtimeMs;\n      hasChanged = true;\n    }\n\n    var ctimeMs = stats.ctime.getTime();\n    if (this.ctime !== ctimeMs) {\n      this.ctime = ctimeMs;\n      hasChanged = true;\n    }\n\n    return hasChanged;\n  }\n\n  /**\n   * Converts the buffer into an Inode.\n   */\n  public static fromBuffer(buffer: NodeBuffer): Inode {\n    if (buffer === undefined) {\n      throw new Error(\"NO\");\n    }\n    return new Inode(buffer.toString('ascii', 30),\n      buffer.readUInt32LE(0),\n      buffer.readUInt16LE(4),\n      buffer.readDoubleLE(6),\n      buffer.readDoubleLE(14),\n      buffer.readDoubleLE(22)\n    );\n  }\n\n  // XXX: Copied from Stats. Should reconcile these two into something more\n  //      compact.\n\n  /**\n   * @return [Boolean] True if this item is a file.\n   */\n  public isFile(): boolean {\n    return (this.mode & 0xF000) === node_fs_stats.FileType.FILE;\n  }\n\n  /**\n   * @return [Boolean] True if this item is a directory.\n   */\n  public isDirectory(): boolean {\n    return (this.mode & 0xF000) === node_fs_stats.FileType.DIRECTORY;\n  }\n}\n\nexport = Inode;\n",
    "import file_system = require('../core/file_system');\nimport api_error = require('../core/api_error');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport file = require('../core/file');\nimport file_flag = require('../core/file_flag');\nimport path = require('../core/node_path');\nimport Inode = require('../generic/inode');\nimport buffer = require('../core/buffer');\nimport preload_file = require('../generic/preload_file');\nvar ROOT_NODE_ID: string = \"/\",\n  ApiError = api_error.ApiError,\n  Buffer = buffer.Buffer;\n/**\n * Generates a random ID.\n */\nfunction GenerateRandomID(): string {\n  // From http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * Helper function. Checks if 'e' is defined. If so, it triggers the callback\n * with 'e' and returns false. Otherwise, returns true.\n */\nfunction noError(e: api_error.ApiError, cb: (e: api_error.ApiError) => void): boolean {\n  if (e) {\n    cb(e);\n    return false;\n  }\n  return true;\n}\n\n/**\n * Helper function. Checks if 'e' is defined. If so, it aborts the transaction,\n * triggers the callback with 'e', and returns false. Otherwise, returns true.\n */\nfunction noErrorTx(e: api_error.ApiError, tx: AsyncKeyValueRWTransaction, cb: (e: api_error.ApiError) => void): boolean {\n  if (e) {\n    tx.abort(() => {\n      cb(e);\n    });\n    return false;\n  }\n  return true;\n}\n\n/**\n * Represents a *synchronous* key-value store.\n */\nexport interface SyncKeyValueStore {\n  /**\n   * The name of the key-value store.\n   */\n  name(): string;\n  /**\n   * Empties the key-value store completely.\n   */\n  clear(): void;\n  /**\n   * Begins a new read-only transaction.\n   */\n  beginTransaction(type: \"readonly\"): SyncKeyValueROTransaction;\n  /**\n   * Begins a new read-write transaction.\n   */\n  beginTransaction(type: \"readwrite\"): SyncKeyValueRWTransaction;\n  beginTransaction(type: string): SyncKeyValueROTransaction;\n}\n\n/**\n * A read-only transaction for a synchronous key value store.\n */\nexport interface SyncKeyValueROTransaction {\n  /**\n   * Retrieves the data at the given key. Throws an ApiError if an error occurs\n   * or if the key does not exist.\n   * @param key The key to look under for data.\n   * @return The data stored under the key, or undefined if not present.\n   */\n  get(key: string): NodeBuffer;\n}\n\n/**\n * A read-write transaction for a synchronous key value store.\n */\nexport interface SyncKeyValueRWTransaction extends SyncKeyValueROTransaction {\n  /**\n   * Adds the data to the store under the given key.\n   * @param key The key to add the data under.\n   * @param data The data to add to the store.\n   * @param overwrite If 'true', overwrite any existing data. If 'false',\n   *   avoids storing the data if the key exists.\n   * @return True if storage succeeded, false otherwise.\n   */\n  put(key: string, data: NodeBuffer, overwrite: boolean): boolean;\n  /**\n   * Deletes the data at the given key.\n   * @param key The key to delete from the store.\n   */\n  delete(key: string): void;\n  /**\n   * Commits the transaction.\n   */\n  commit(): void;\n  /**\n   * Aborts and rolls back the transaction.\n   */\n  abort(): void;\n}\n\n/**\n * An interface for simple synchronous key-value stores that don't have special\n * support for transactions and such.\n */\nexport interface SimpleSyncStore {\n  get(key: string): NodeBuffer;\n  put(key: string, data: NodeBuffer, overwrite: boolean): boolean;\n  delete(key: string): void;\n}\n\n/**\n * A simple RW transaction for simple synchronous key-value stores.\n */\nexport class SimpleSyncRWTransaction implements SyncKeyValueRWTransaction {\n  constructor(private store: SimpleSyncStore) { }\n  /**\n   * Stores data in the keys we modify prior to modifying them.\n   * Allows us to roll back commits.\n   */\n  private originalData: { [key: string]: NodeBuffer } = {};\n  /**\n   * List of keys modified in this transaction, if any.\n   */\n  private modifiedKeys: string[] = [];\n  /**\n   * Stashes given key value pair into `originalData` if it doesn't already\n   * exist. Allows us to stash values the program is requesting anyway to\n   * prevent needless `get` requests if the program modifies the data later\n   * on during the transaction.\n   */\n  private stashOldValue(key: string, value: NodeBuffer) {\n    // Keep only the earliest value in the transaction.\n    if (!this.originalData.hasOwnProperty(key)) {\n      this.originalData[key] = value\n    }\n  }\n  /**\n   * Marks the given key as modified, and stashes its value if it has not been\n   * stashed already.\n   */\n  private markModified(key: string) {\n    if (this.modifiedKeys.indexOf(key) === -1) {\n      this.modifiedKeys.push(key);\n      if (!this.originalData.hasOwnProperty(key)) {\n        this.originalData[key] = this.store.get(key);\n      }\n    }\n  }\n\n  public get(key: string): NodeBuffer {\n    var val = this.store.get(key);\n    this.stashOldValue(key, val);\n    return val;\n  }\n\n  public put(key: string, data: NodeBuffer, overwrite: boolean): boolean {\n    this.markModified(key);\n    return this.store.put(key, data, overwrite);\n  }\n\n  public delete(key: string): void {\n    this.markModified(key);\n    this.store.delete(key);\n  }\n\n  public commit(): void {/* NOP */}\n  public abort(): void {\n    // Rollback old values.\n    var i: number, key: string, value: NodeBuffer;\n    for (i = 0; i < this.modifiedKeys.length; i++) {\n      key = this.modifiedKeys[i];\n      value = this.originalData[key];\n      if (value === null) {\n        // Key didn't exist.\n        this.store.delete(key);\n      } else {\n        // Key existed. Store old value.\n        this.store.put(key, value, true);\n      }\n    }\n  }\n}\n\nexport interface SyncKeyValueFileSystemOptions {\n  /**\n   * The actual key-value store to read from/write to.\n   */\n  store: SyncKeyValueStore;\n  /**\n   * Should the file system support properties (mtime/atime/ctime/chmod/etc)?\n   * Enabling this slightly increases the storage space per file, and adds\n   * atime updates every time a file is accessed, mtime updates every time\n   * a file is modified, and permission checks on every operation.\n   * \n   * Defaults to *false*.\n   */\n  //supportProps?: boolean;\n  /**\n   * Should the file system support links? \n   */\n  //supportLinks?: boolean;\n}\n\nexport class SyncKeyValueFile extends preload_file.PreloadFile implements file.File {\n  constructor(_fs: SyncKeyValueFileSystem, _path: string, _flag: file_flag.FileFlag, _stat: node_fs_stats.Stats, contents?: NodeBuffer) {\n    super(_fs, _path, _flag, _stat, contents);\n  }\n\n  public syncSync(): void {\n    if (this.isDirty()) {\n      (<SyncKeyValueFileSystem> this._fs)._syncSync(this.getPath(), this.getBuffer(), this.getStats());\n      this.resetDirty();\n    }\n  }\n\n  public closeSync(): void {\n    this.syncSync();\n  }\n}\n\n/**\n * A \"Synchronous key-value file system\". Stores data to/retrieves data from an\n * underlying key-value store.\n * \n * We use a unique ID for each node in the file system. The root node has a\n * fixed ID.\n * @todo Introduce Node ID caching.\n * @todo Check modes.\n */\nexport class SyncKeyValueFileSystem extends file_system.SynchronousFileSystem {\n  private store: SyncKeyValueStore;\n  constructor(options: SyncKeyValueFileSystemOptions) {\n    super();\n    this.store = options.store;\n    // INVARIANT: Ensure that the root exists.\n    this.makeRootDirectory();\n  }\n\n  public static isAvailable(): boolean { return true; }\n  public getName(): string { return this.store.name(); }\n  public isReadOnly(): boolean { return false; }\n  public supportsSymlinks(): boolean { return false; }\n  public supportsProps(): boolean { return false; }\n  public supportsSynch(): boolean { return true; }\n\n  /**\n   * Checks if the root directory exists. Creates it if it doesn't.\n   */\n  private makeRootDirectory() {\n    var tx = this.store.beginTransaction('readwrite');\n    if (tx.get(ROOT_NODE_ID) === undefined) {\n      // Create new inode.\n      var currTime = (new Date()).getTime(),\n        // Mode 0666\n        dirInode = new Inode(GenerateRandomID(), 4096, 511 | node_fs_stats.FileType.DIRECTORY, currTime, currTime, currTime);\n      // If the root doesn't exist, the first random ID shouldn't exist,\n      // either.\n      tx.put(dirInode.id, new Buffer(\"{}\"), false);\n      tx.put(ROOT_NODE_ID, dirInode.toBuffer(), false);\n      tx.commit();\n    }\n  }\n\n  /**\n   * Helper function for findINode.\n   * @param parent The parent directory of the file we are attempting to find.\n   * @param filename The filename of the inode we are attempting to find, minus\n   *   the parent.\n   * @return string The ID of the file's inode in the file system.\n   */\n  private _findINode(tx: SyncKeyValueROTransaction, parent: string, filename: string): string {\n    var read_directory = (inode: Inode): string => {\n      // Get the root's directory listing.\n      var dirList = this.getDirListing(tx, parent, inode);\n      // Get the file's ID.\n      if (dirList[filename]) {\n        return dirList[filename];\n      } else {\n        throw ApiError.ENOENT(path.resolve(parent, filename));\n      }\n    };\n    if (parent === '/') {\n      if (filename === '') {\n        // BASE CASE #1: Return the root's ID.\n        return ROOT_NODE_ID;\n      } else {\n        // BASE CASE #2: Find the item in the root ndoe.\n        return read_directory(this.getINode(tx, parent, ROOT_NODE_ID));\n      }\n    } else {\n      return read_directory(this.getINode(tx, parent + path.sep + filename, \n        this._findINode(tx, path.dirname(parent), path.basename(parent))));\n    }\n  }\n\n  /**\n   * Finds the Inode of the given path.\n   * @param p The path to look up.\n   * @return The Inode of the path p.\n   * @todo memoize/cache\n   */\n  private findINode(tx: SyncKeyValueROTransaction, p: string): Inode {\n    return this.getINode(tx, p, this._findINode(tx, path.dirname(p), path.basename(p)));\n  }\n\n  /**\n   * Given the ID of a node, retrieves the corresponding Inode.\n   * @param tx The transaction to use.\n   * @param p The corresponding path to the file (used for error messages).\n   * @param id The ID to look up.\n   */\n  private getINode(tx: SyncKeyValueROTransaction, p: string, id: string): Inode {\n    var inode = tx.get(id);\n    if (inode === undefined) {\n      throw ApiError.ENOENT(p);\n    }\n    return Inode.fromBuffer(inode);\n  }\n\n  /**\n   * Given the Inode of a directory, retrieves the corresponding directory\n   * listing.\n   */\n  private getDirListing(tx: SyncKeyValueROTransaction, p: string, inode: Inode): { [fileName: string]: string } {\n    if (!inode.isDirectory()) {\n      throw ApiError.ENOTDIR(p);\n    }\n    var data = tx.get(inode.id);\n    if (data === undefined) {\n      throw ApiError.ENOENT(p);\n    }\n    return JSON.parse(data.toString());\n  }\n\n  /**\n   * Creates a new node under a random ID. Retries 5 times before giving up in\n   * the exceedingly unlikely chance that we try to reuse a random GUID.\n   * @return The GUID that the data was stored under.\n   */\n  private addNewNode(tx: SyncKeyValueRWTransaction, data: NodeBuffer): string {\n    var retries = 0, currId: string;\n    while (retries < 5) {\n      try {\n        currId = GenerateRandomID();\n        tx.put(currId, data, false);\n        return currId;\n      } catch (e) {\n        // Ignore and reroll.\n      }\n    }\n    throw new ApiError(api_error.ErrorCode.EIO, 'Unable to commit data to key-value store.');\n  }\n\n  /**\n   * Commits a new file (well, a FILE or a DIRECTORY) to the file system with\n   * the given mode.\n   * Note: This will commit the transaction.\n   * @param p The path to the new file.\n   * @param type The type of the new file.\n   * @param mode The mode to create the new file with.\n   * @param data The data to store at the file's data node.\n   * @return The Inode for the new file.\n   */\n  private commitNewFile(tx: SyncKeyValueRWTransaction, p: string, type: node_fs_stats.FileType, mode: number, data: NodeBuffer): Inode {\n    var parentDir = path.dirname(p),\n      fname = path.basename(p),\n      parentNode = this.findINode(tx, parentDir),\n      dirListing = this.getDirListing(tx, parentDir, parentNode),\n      currTime = (new Date()).getTime();\n\n    // Invariant: The root always exists.\n    // If we don't check this prior to taking steps below, we will create a\n    // file with name '' in root should p == '/'.\n    if (p === '/') {\n      throw ApiError.EEXIST(p);\n    }\n\n    // Check if file already exists.\n    if (dirListing[fname]) {\n      throw ApiError.EEXIST(p);\n    }\n\n    try {\n      // Commit data.\n      var dataId = this.addNewNode(tx, data),\n        fileNode = new Inode(dataId, data.length, mode | type, currTime, currTime, currTime),\n        // Commit file node.\n        fileNodeId = this.addNewNode(tx, fileNode.toBuffer());\n      // Update and commit parent directory listing.\n      dirListing[fname] = fileNodeId;\n      tx.put(parentNode.id, new Buffer(JSON.stringify(dirListing)), true);\n    } catch (e) {\n      tx.abort();\n      throw e;\n    }\n    tx.commit();\n    return fileNode;\n  }\n\n  /**\n   * Delete all contents stored in the file system.\n   */\n  public empty(): void {\n    this.store.clear();\n    // INVARIANT: Root always exists.\n    this.makeRootDirectory();\n  }\n\n  public renameSync(oldPath: string, newPath: string): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      oldParent = path.dirname(oldPath), oldName = path.basename(oldPath),\n      newParent = path.dirname(newPath), newName = path.basename(newPath),\n      // Remove oldPath from parent's directory listing.\n      oldDirNode = this.findINode(tx, oldParent),\n      oldDirList = this.getDirListing(tx, oldParent, oldDirNode);\n    if (!oldDirList[oldName]) {\n      throw ApiError.ENOENT(oldPath);\n    }\n    var nodeId: string = oldDirList[oldName];\n    delete oldDirList[oldName];\n\n    // Invariant: Can't move a folder inside itself.\n    // This funny little hack ensures that the check passes only if oldPath\n    // is a subpath of newParent. We append '/' to avoid matching folders that\n    // are a substring of the bottom-most folder in the path.\n    if ((newParent + '/').indexOf(oldPath + '/') === 0) {\n      throw new ApiError(api_error.ErrorCode.EBUSY, oldParent);\n    }\n\n    // Add newPath to parent's directory listing.\n    var newDirNode: Inode, newDirList: typeof oldDirList;\n    if (newParent === oldParent) {\n      // Prevent us from re-grabbing the same directory listing, which still\n      // contains oldName.\n      newDirNode = oldDirNode;\n      newDirList = oldDirList;\n    } else {\n      newDirNode = this.findINode(tx, newParent);\n      newDirList = this.getDirListing(tx, newParent, newDirNode);\n    }\n\n    if (newDirList[newName]) {\n      // If it's a file, delete it.\n      var newNameNode = this.getINode(tx, newPath, newDirList[newName]);\n      if (newNameNode.isFile()) {\n        try {\n          tx.delete(newNameNode.id);\n          tx.delete(newDirList[newName]);\n        } catch (e) {\n          tx.abort();\n          throw e;\n        }\n      } else {\n        // If it's a directory, throw a permissions error.\n        throw ApiError.EPERM(newPath);\n      }\n    }\n    newDirList[newName] = nodeId;\n\n    // Commit the two changed directory listings.\n    try {\n      tx.put(oldDirNode.id, new Buffer(JSON.stringify(oldDirList)), true);\n      tx.put(newDirNode.id, new Buffer(JSON.stringify(newDirList)), true);\n    } catch (e) {\n      tx.abort();\n      throw e;\n    }\n\n    tx.commit();\n  }\n\n  public statSync(p: string, isLstat: boolean): node_fs_stats.Stats {\n    // Get the inode to the item, convert it into a Stats object.\n    return this.findINode(this.store.beginTransaction('readonly'), p).toStats();\n  }\n\n  public createFileSync(p: string, flag: file_flag.FileFlag, mode: number): file.File {\n    var tx = this.store.beginTransaction('readwrite'),\n      data = new Buffer(0),\n      newFile = this.commitNewFile(tx, p, node_fs_stats.FileType.FILE, mode, data);\n    // Open the file.\n    return new SyncKeyValueFile(this, p, flag, newFile.toStats(), data);\n  }\n\n  public openFileSync(p: string, flag: file_flag.FileFlag): file.File {\n    var tx = this.store.beginTransaction('readonly'),\n      node = this.findINode(tx, p),\n      data = tx.get(node.id);\n    if (data === undefined) {\n      throw ApiError.ENOENT(p);\n    }\n    return new SyncKeyValueFile(this, p, flag, node.toStats(), data);\n  }\n\n  /**\n   * Remove all traces of the given path from the file system.\n   * @param p The path to remove from the file system.\n   * @param isDir Does the path belong to a directory, or a file?\n   * @todo Update mtime.\n   */\n  private removeEntry(p: string, isDir: boolean): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      parent: string = path.dirname(p),\n      parentNode = this.findINode(tx, parent),\n      parentListing = this.getDirListing(tx, parent, parentNode),\n      fileName: string = path.basename(p);\n\n    if (!parentListing[fileName]) {\n      throw ApiError.ENOENT(p);\n    }\n\n    // Remove from directory listing of parent.\n    var fileNodeId = parentListing[fileName];\n    delete parentListing[fileName];\n\n    // Get file inode.\n    var fileNode = this.getINode(tx, p, fileNodeId);\n    if (!isDir && fileNode.isDirectory()) {\n      throw ApiError.EISDIR(p);\n    } else if (isDir && !fileNode.isDirectory()) {\n      throw ApiError.ENOTDIR(p);\n    }\n\n    try {\n      // Delete data.\n      tx.delete(fileNode.id);\n      // Delete node.\n      tx.delete(fileNodeId);\n      // Update directory listing.\n      tx.put(parentNode.id, new Buffer(JSON.stringify(parentListing)), true);\n    } catch (e) {\n      tx.abort();\n      throw e;\n    }\n    // Success.\n    tx.commit();\n  }\n\n  public unlinkSync(p: string): void {\n    this.removeEntry(p, false);\n  }\n\n  public rmdirSync(p: string): void {\n    this.removeEntry(p, true);\n  }\n\n  public mkdirSync(p: string, mode: number): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      data = new Buffer('{}');\n    this.commitNewFile(tx, p, node_fs_stats.FileType.DIRECTORY, mode, data);\n  }\n\n  public readdirSync(p: string): string[]{\n    var tx = this.store.beginTransaction('readonly');\n    return Object.keys(this.getDirListing(tx, p, this.findINode(tx, p)));\n  }\n\n  public _syncSync(p: string, data: NodeBuffer, stats: node_fs_stats.Stats): void {\n    // @todo Ensure mtime updates properly, and use that to determine if a data\n    //       update is required.\n    var tx = this.store.beginTransaction('readwrite'),\n      // We use the _findInode helper because we actually need the INode id.\n      fileInodeId = this._findINode(tx, path.dirname(p), path.basename(p)),\n      fileInode = this.getINode(tx, p, fileInodeId),\n      inodeChanged = fileInode.update(stats);\n\n    try {\n      // Sync data.\n      tx.put(fileInode.id, data, true);\n      // Sync metadata.\n      if (inodeChanged) {\n        tx.put(fileInodeId, fileInode.toBuffer(), true);\n      }\n    } catch (e) {\n      tx.abort();\n      throw e;\n    }\n    tx.commit();\n  }\n}\n\n/**\n * Represents an *asynchronous* key-value store.\n */\nexport interface AsyncKeyValueStore {\n  /**\n   * The name of the key-value store.\n   */\n  name(): string;\n  /**\n   * Empties the key-value store completely.\n   */\n  clear(cb: (e?: api_error.ApiError) => void): void;\n  /**\n   * Begins a read-write transaction.\n   */\n  beginTransaction(type: 'readwrite'): AsyncKeyValueRWTransaction;\n  /**\n   * Begins a read-only transaction.\n   */\n  beginTransaction(type: 'readonly'): AsyncKeyValueROTransaction;\n  beginTransaction(type: string): AsyncKeyValueROTransaction;\n}\n\n/**\n * Represents an asynchronous read-only transaction.\n */\nexport interface AsyncKeyValueROTransaction {\n  /**\n   * Retrieves the data at the given key.\n   * @param key The key to look under for data.\n   */\n  get(key: string, cb: (e: api_error.ApiError, data?: NodeBuffer) => void): void;\n}\n\n/**\n * Represents an asynchronous read-write transaction.\n */\nexport interface AsyncKeyValueRWTransaction extends AsyncKeyValueROTransaction {\n  /**\n   * Adds the data to the store under the given key. Overwrites any existing\n   * data.\n   * @param key The key to add the data under.\n   * @param data The data to add to the store.\n   * @param overwrite If 'true', overwrite any existing data. If 'false',\n   *   avoids writing the data if the key exists.\n   * @param cb Triggered with an error and whether or not the value was\n   *   committed.\n   */\n  put(key: string, data: NodeBuffer, overwrite: boolean, cb: (e: api_error.ApiError,\n    committed?: boolean) => void): void;\n  /**\n   * Deletes the data at the given key.\n   * @param key The key to delete from the store.\n   */\n  delete(key: string, cb: (e?: api_error.ApiError) => void): void;\n  /**\n   * Commits the transaction.\n   */\n  commit(cb: (e?: api_error.ApiError) => void): void;\n  /**\n   * Aborts and rolls back the transaction.\n   */\n  abort(cb: (e?: api_error.ApiError) => void): void;\n}\n\nexport class AsyncKeyValueFile extends preload_file.PreloadFile implements file.File {\n  constructor(_fs: AsyncKeyValueFileSystem, _path: string, _flag: file_flag.FileFlag, _stat: node_fs_stats.Stats, contents?: NodeBuffer) {\n    super(_fs, _path, _flag, _stat, contents);\n  }\n\n  public sync(cb: (e?: api_error.ApiError) => void): void {\n    if (this.isDirty()) {\n      (<AsyncKeyValueFileSystem> this._fs)._sync(this.getPath(), this.getBuffer(), this.getStats(), (e?: api_error.ApiError) => {\n        if (!e) {\n          this.resetDirty();\n        }\n        cb(e);\n      });\n    } else {\n      cb();      \n    }\n  }\n\n  public close(cb: (e?: api_error.ApiError) => void): void {\n    this.sync(cb);\n  }\n}\n\n/**\n * An \"Asynchronous key-value file system\". Stores data to/retrieves data from\n * an underlying asynchronous key-value store.\n */\nexport class AsyncKeyValueFileSystem extends file_system.BaseFileSystem {\n  private store: AsyncKeyValueStore;\n\n  /**\n   * Initializes the file system. Typically called by subclasses' async\n   * constructors.\n   */\n  public init(store: AsyncKeyValueStore, cb: (e?: api_error.ApiError) => void) {\n    this.store = store;\n    // INVARIANT: Ensure that the root exists.\n    this.makeRootDirectory(cb);\n  }\n\n  public static isAvailable(): boolean { return true; }\n  public getName(): string { return this.store.name(); }\n  public isReadOnly(): boolean { return false; }\n  public supportsSymlinks(): boolean { return false; }\n  public supportsProps(): boolean { return false; }\n  public supportsSynch(): boolean { return false; }\n\n  /**\n   * Checks if the root directory exists. Creates it if it doesn't.\n   */\n  private makeRootDirectory(cb: (e?: api_error.ApiError) => void) {\n    var tx = this.store.beginTransaction('readwrite');\n    tx.get(ROOT_NODE_ID, (e: api_error.ApiError, data?: NodeBuffer) => {\n      if (e || data === undefined) {\n        // Create new inode.\n        var currTime = (new Date()).getTime(),\n          // Mode 0666\n          dirInode = new Inode(GenerateRandomID(), 4096, 511 | node_fs_stats.FileType.DIRECTORY, currTime, currTime, currTime);\n        // If the root doesn't exist, the first random ID shouldn't exist,\n        // either.\n        tx.put(dirInode.id, new Buffer(\"{}\"), false, (e?: api_error.ApiError) => {\n          if (noErrorTx(e, tx, cb)) {\n            tx.put(ROOT_NODE_ID, dirInode.toBuffer(), false, (e?: api_error.ApiError) => {\n              if (e) {\n                tx.abort(() => { cb(e); });\n              } else {\n                tx.commit(cb);\n              }\n            });\n          }\n        });\n      } else {\n        // We're good.\n        tx.commit(cb);\n      }\n    });\n  }\n\n  /**\n   * Helper function for findINode.\n   * @param parent The parent directory of the file we are attempting to find.\n   * @param filename The filename of the inode we are attempting to find, minus\n   *   the parent.\n   * @param cb Passed an error or the ID of the file's inode in the file system.\n   */\n  private _findINode(tx: AsyncKeyValueROTransaction, parent: string, filename: string, cb: (e: api_error.ApiError, id?: string) => void): void {\n    var handle_directory_listings = (e: api_error.ApiError, inode?: Inode, dirList?: {[name: string]: string}): void => {\n      if (e) {\n        cb(e)\n      } else if (dirList[filename]) {\n        cb(null, dirList[filename]);\n      } else {\n        cb(ApiError.ENOENT(path.resolve(parent, filename)));\n      }\n    };\n\n    if (parent === '/') {\n      if (filename === '') {\n        // BASE CASE #1: Return the root's ID.\n        cb(null, ROOT_NODE_ID);\n      } else {\n        // BASE CASE #2: Find the item in the root node.\n        this.getINode(tx, parent, ROOT_NODE_ID, (e: api_error.ApiError, inode?: Inode): void => {\n          if (noError(e, cb)) {\n            this.getDirListing(tx, parent, inode, (e: api_error.ApiError, dirList?: {[name: string]: string}): void => {\n              // handle_directory_listings will handle e for us.\n              handle_directory_listings(e, inode, dirList);\n            });\n          }\n        });\n      }\n    } else {\n      // Get the parent directory's INode, and find the file in its directory\n      // listing.\n      this.findINodeAndDirListing(tx, parent, handle_directory_listings);\n    }\n  }\n\n  /**\n   * Finds the Inode of the given path.\n   * @param p The path to look up.\n   * @param cb Passed an error or the Inode of the path p.\n   * @todo memoize/cache\n   */\n  private findINode(tx: AsyncKeyValueROTransaction, p: string, cb: (e: api_error.ApiError, inode?: Inode) => void): void {\n    this._findINode(tx, path.dirname(p), path.basename(p), (e: api_error.ApiError, id?: string): void => {\n      if (noError(e, cb)) {\n        this.getINode(tx, p, id, cb);\n      }\n    });\n  }\n\n  /**\n   * Given the ID of a node, retrieves the corresponding Inode.\n   * @param tx The transaction to use.\n   * @param p The corresponding path to the file (used for error messages).\n   * @param id The ID to look up.\n   * @param cb Passed an error or the inode under the given id.\n   */\n  private getINode(tx: AsyncKeyValueROTransaction, p: string, id: string, cb: (e: api_error.ApiError, inode?: Inode) => void): void {\n    tx.get(id, (e: api_error.ApiError, data?: NodeBuffer): void => {\n      if (noError(e, cb)) {\n        if (data === undefined) {\n          cb(ApiError.ENOENT(p));\n        } else {\n          cb(null, Inode.fromBuffer(data));\n        }\n      }\n    });\n  }\n\n  /**\n   * Given the Inode of a directory, retrieves the corresponding directory\n   * listing.\n   */\n  private getDirListing(tx: AsyncKeyValueROTransaction, p: string, inode: Inode, cb: (e: api_error.ApiError, listing?: { [fileName: string]: string }) => void): void {\n    if (!inode.isDirectory()) {\n      cb(ApiError.ENOTDIR(p));\n    } else {\n      tx.get(inode.id, (e: api_error.ApiError, data?: NodeBuffer): void => {\n        if (noError(e, cb)) {\n          try {\n            cb(null, JSON.parse(data.toString()));\n          } catch (e) {\n            // Occurs when data is undefined, or corresponds to something other\n            // than a directory listing. The latter should never occur unless\n            // the file system is corrupted.\n            cb(ApiError.ENOENT(p));\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Given a path to a directory, retrieves the corresponding INode and\n   * directory listing.\n   */\n  private findINodeAndDirListing(tx: AsyncKeyValueROTransaction, p: string, cb: (e: api_error.ApiError, inode?: Inode, listing?: { [fileName: string]: string }) => void): void {\n    this.findINode(tx, p, (e: api_error.ApiError, inode?: Inode): void => {\n      if (noError(e, cb)) {\n        this.getDirListing(tx, p, inode, (e, listing?) => {\n          if (noError(e, cb)) {\n            cb(null, inode, listing);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Adds a new node under a random ID. Retries 5 times before giving up in\n   * the exceedingly unlikely chance that we try to reuse a random GUID.\n   * @param cb Passed an error or the GUID that the data was stored under.\n   */\n  private addNewNode(tx: AsyncKeyValueRWTransaction, data: NodeBuffer, cb: (e: api_error.ApiError, guid?: string) => void): void {\n    var retries = 0, currId: string,\n      reroll = () => {\n        if (++retries === 5) {\n          // Max retries hit. Return with an error.\n          cb(new ApiError(api_error.ErrorCode.EIO, 'Unable to commit data to key-value store.'));\n        } else {\n          // Try again.\n          currId = GenerateRandomID();\n          tx.put(currId, data, false, (e: api_error.ApiError, committed?: boolean) => {\n            if (e || !committed) {\n              reroll();\n            } else {\n              // Successfully stored under 'currId'.\n              cb(null, currId);\n            }\n          });\n        }\n      };\n    reroll();\n  }\n\n  /**\n   * Commits a new file (well, a FILE or a DIRECTORY) to the file system with\n   * the given mode.\n   * Note: This will commit the transaction.\n   * @param p The path to the new file.\n   * @param type The type of the new file.\n   * @param mode The mode to create the new file with.\n   * @param data The data to store at the file's data node.\n   * @param cb Passed an error or the Inode for the new file.\n   */\n  private commitNewFile(tx: AsyncKeyValueRWTransaction, p: string, type: node_fs_stats.FileType, mode: number, data: NodeBuffer, cb: (e: api_error.ApiError, inode?: Inode) => void): void {\n    var parentDir = path.dirname(p),\n      fname = path.basename(p),\n      currTime = (new Date()).getTime();\n\n    // Invariant: The root always exists.\n    // If we don't check this prior to taking steps below, we will create a\n    // file with name '' in root should p == '/'.\n    if (p === '/') {\n      return cb(ApiError.EEXIST(p));\n    }\n\n    // Let's build a pyramid of code!\n\n    // Step 1: Get the parent directory's inode and directory listing\n    this.findINodeAndDirListing(tx, parentDir, (e: api_error.ApiError, parentNode?: Inode, dirListing?: {[name: string]: string}): void => {\n      if (noErrorTx(e, tx, cb)) {\n        if (dirListing[fname]) {\n          // File already exists.\n          tx.abort(() => {\n            cb(ApiError.EEXIST(p));\n          });\n        } else {\n          // Step 2: Commit data to store.\n          this.addNewNode(tx, data, (e: api_error.ApiError, dataId?: string): void => {\n            if (noErrorTx(e, tx, cb)) {\n              // Step 3: Commit the file's inode to the store.\n              var fileInode = new Inode(dataId, data.length, mode | type, currTime, currTime, currTime);\n              this.addNewNode(tx, fileInode.toBuffer(), (e: api_error.ApiError, fileInodeId?: string): void => {\n                if (noErrorTx(e, tx, cb)) {\n                  // Step 4: Update parent directory's listing.\n                  dirListing[fname] = fileInodeId;\n                  tx.put(parentNode.id, new Buffer(JSON.stringify(dirListing)), true, (e: api_error.ApiError): void => {\n                    if (noErrorTx(e, tx, cb)) {\n                      // Step 5: Commit and return the new inode.\n                      tx.commit((e?: api_error.ApiError): void => {\n                        if (noErrorTx(e, tx, cb)) {\n                          cb(null, fileInode);\n                        }\n                      });\n                    }\n                  });\n                }\n              });\n            }\n          });\n        }\n      }\n    });\n  }\n\n  /**\n   * Delete all contents stored in the file system.\n   */\n  public empty(cb: (e?: api_error.ApiError) => void): void {\n    this.store.clear((e?) => {\n      if (noError(e, cb)) {\n        // INVARIANT: Root always exists.\n        this.makeRootDirectory(cb);\n      }\n    });\n  }\n\n  public rename(oldPath: string, newPath: string, cb: (e?: api_error.ApiError) => void): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      oldParent = path.dirname(oldPath), oldName = path.basename(oldPath),\n      newParent = path.dirname(newPath), newName = path.basename(newPath),\n      inodes: { [path: string]: Inode } = {},\n      lists: {\n        [path: string]: { [file: string]: string }\n      } = {},\n      errorOccurred: boolean = false;\n\n    // Invariant: Can't move a folder inside itself.\n    // This funny little hack ensures that the check passes only if oldPath\n    // is a subpath of newParent. We append '/' to avoid matching folders that\n    // are a substring of the bottom-most folder in the path.\n    if ((newParent + '/').indexOf(oldPath + '/') === 0) {\n      return cb(new ApiError(api_error.ErrorCode.EBUSY, oldParent));\n    }\n\n    /**\n     * Responsible for Phase 2 of the rename operation: Modifying and\n     * committing the directory listings. Called once we have successfully\n     * retrieved both the old and new parent's inodes and listings.\n     */\n    var theOleSwitcharoo = (): void => {\n      // Sanity check: Ensure both paths are present, and no error has occurred.\n      if (errorOccurred || !lists.hasOwnProperty(oldParent) || !lists.hasOwnProperty(newParent)) {\n        return;\n      }\n      var oldParentList = lists[oldParent], oldParentINode = inodes[oldParent],\n        newParentList = lists[newParent], newParentINode = inodes[newParent];\n\n      // Delete file from old parent.\n      if (!oldParentList[oldName]) {\n        cb(ApiError.ENOENT(oldPath));\n      } else {\n        var fileId = oldParentList[oldName];\n        delete oldParentList[oldName];\n\n        // Finishes off the renaming process by adding the file to the new\n        // parent.\n        var completeRename = () => {\n          newParentList[newName] = fileId;\n          // Commit old parent's list.\n          tx.put(oldParentINode.id, new Buffer(JSON.stringify(oldParentList)), true, (e: api_error.ApiError) => {\n            if (noErrorTx(e, tx, cb)) {\n              if (oldParent === newParent) {\n                // DONE!\n                tx.commit(cb);\n              } else {\n                // Commit new parent's list.\n                tx.put(newParentINode.id, new Buffer(JSON.stringify(newParentList)), true, (e: api_error.ApiError) => {\n                  if (noErrorTx(e, tx, cb)) {\n                    tx.commit(cb);\n                  }\n                });\n              }\n            }\n          });\n        };\n\n        if (newParentList[newName]) {\n          // 'newPath' already exists. Check if it's a file or a directory, and\n          // act accordingly.\n          this.getINode(tx, newPath, newParentList[newName], (e: api_error.ApiError, inode?: Inode) => {\n            if (noErrorTx(e, tx, cb)) {\n              if (inode.isFile()) {\n                // Delete the file and continue.\n                tx.delete(inode.id, (e?: api_error.ApiError) => {\n                  if (noErrorTx(e, tx, cb)) {\n                    tx.delete(newParentList[newName], (e?: api_error.ApiError) => {\n                      if (noErrorTx(e, tx, cb)) {\n                        completeRename();\n                      }\n                    });\n                  }\n                });\n              } else {\n                // Can't overwrite a directory using rename.\n                tx.abort((e?) => {\n                  cb(ApiError.EPERM(newPath));\n                });\n              }\n            }\n          });\n        } else {\n          completeRename();\n        }\n      }\n    };\n\n    /**\n     * Grabs a path's inode and directory listing, and shoves it into the\n     * inodes and lists hashes.\n     */\n    var processInodeAndListings = (p: string): void => {\n      this.findINodeAndDirListing(tx, p, (e: api_error.ApiError, node?: Inode, dirList?: {[name: string]: string}): void => {\n        if (e) {\n          if (!errorOccurred) {\n            errorOccurred = true;\n            tx.abort(() => {\n              cb(e);\n            });\n          }\n          // If error has occurred already, just stop here.\n        } else {\n          inodes[p] = node;\n          lists[p] = dirList;\n          theOleSwitcharoo();\n        }\n      });\n    };\n\n    processInodeAndListings(oldParent);\n    if (oldParent !== newParent) {\n      processInodeAndListings(newParent);\n    }\n  }\n\n  public stat(p: string, isLstat: boolean, cb: (err: api_error.ApiError, stat?: node_fs_stats.Stats) => void): void {\n    var tx = this.store.beginTransaction('readonly');\n    this.findINode(tx, p, (e: api_error.ApiError, inode?: Inode): void => {\n      if (noError(e, cb)) {\n        cb(null, inode.toStats());\n      }\n    });\n  }\n\n  public createFile(p: string, flag: file_flag.FileFlag, mode: number, cb: (e: api_error.ApiError, file?: file.File) => void): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      data = new Buffer(0);\n\n    this.commitNewFile(tx, p, node_fs_stats.FileType.FILE, mode, data, (e: api_error.ApiError, newFile?: Inode): void => {\n      if (noError(e, cb)) {\n        cb(null, new AsyncKeyValueFile(this, p, flag, newFile.toStats(), data));\n      }\n    });\n  }\n\n  public openFile(p: string, flag: file_flag.FileFlag, cb: (e: api_error.ApiError, file?: file.File) => void): void {\n    var tx = this.store.beginTransaction('readonly');\n    // Step 1: Grab the file's inode.\n    this.findINode(tx, p, (e: api_error.ApiError, inode?: Inode) => {\n      if (noError(e, cb)) {\n        // Step 2: Grab the file's data.\n        tx.get(inode.id, (e: api_error.ApiError, data?: NodeBuffer): void => {\n          if (noError(e, cb)) {\n            if (data === undefined) {\n              cb(ApiError.ENOENT(p));\n            } else {\n              cb(null, new AsyncKeyValueFile(this, p, flag, inode.toStats(), data));\n            }\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Remove all traces of the given path from the file system.\n   * @param p The path to remove from the file system.\n   * @param isDir Does the path belong to a directory, or a file?\n   * @todo Update mtime.\n   */\n  private removeEntry(p: string, isDir: boolean, cb: (e?: api_error.ApiError) => void): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      parent: string = path.dirname(p), fileName: string = path.basename(p);\n    // Step 1: Get parent directory's node and directory listing.\n    this.findINodeAndDirListing(tx, parent, (e: api_error.ApiError, parentNode?: Inode, parentListing?: {[name: string]: string}): void => {\n      if (noErrorTx(e, tx, cb)) {\n        if (!parentListing[fileName]) {\n          tx.abort(() => {\n            cb(ApiError.ENOENT(p));\n          });\n        } else {\n          // Remove from directory listing of parent.\n          var fileNodeId = parentListing[fileName];\n          delete parentListing[fileName];\n          // Step 2: Get file inode.\n          this.getINode(tx, p, fileNodeId, (e: api_error.ApiError, fileNode?: Inode): void => {\n            if (noErrorTx(e, tx, cb)) {\n              if (!isDir && fileNode.isDirectory()) {\n                tx.abort(() => {\n                  cb(ApiError.EISDIR(p));\n                });\n              } else if (isDir && !fileNode.isDirectory()) {\n                tx.abort(() => {\n                  cb(ApiError.ENOTDIR(p));\n                });\n              } else {\n                // Step 3: Delete data.\n                tx.delete(fileNode.id, (e?: api_error.ApiError): void => {\n                  if (noErrorTx(e, tx, cb)) {\n                    // Step 4: Delete node.\n                    tx.delete(fileNodeId, (e?: api_error.ApiError): void => {\n                      if (noErrorTx(e, tx, cb)) {\n                        // Step 5: Update directory listing.\n                        tx.put(parentNode.id, new Buffer(JSON.stringify(parentListing)), true, (e: api_error.ApiError): void => {\n                          if (noErrorTx(e, tx, cb)) {\n                            tx.commit(cb);\n                          }\n                        });\n                      }\n                    });\n                  }\n                });\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n\n  public unlink(p: string, cb: (e?: api_error.ApiError) => void): void {\n    this.removeEntry(p, false, cb);\n  }\n\n  public rmdir(p: string, cb: (e?: api_error.ApiError) => void): void {\n    this.removeEntry(p, true, cb);\n  }\n\n  public mkdir(p: string, mode: number, cb: (e?: api_error.ApiError) => void): void {\n    var tx = this.store.beginTransaction('readwrite'),\n      data = new Buffer('{}');\n    this.commitNewFile(tx, p, node_fs_stats.FileType.DIRECTORY, mode, data, cb);\n  }\n\n  public readdir(p: string, cb: (err: api_error.ApiError, files?: string[]) => void): void {\n    var tx = this.store.beginTransaction('readonly');\n    this.findINode(tx, p, (e: api_error.ApiError, inode?: Inode) => {\n      if (noError(e, cb)) {\n        this.getDirListing(tx, p, inode, (e: api_error.ApiError, dirListing?: {[name: string]: string}) => {\n          if (noError(e, cb)) {\n            cb(null, Object.keys(dirListing));\n          }\n        });\n      }\n    });\n  }\n\n  public _sync(p: string, data: NodeBuffer, stats: node_fs_stats.Stats, cb: (e?: api_error.ApiError) => void): void {\n    // @todo Ensure mtime updates properly, and use that to determine if a data\n    //       update is required.\n    var tx = this.store.beginTransaction('readwrite');\n    // Step 1: Get the file node's ID.\n    this._findINode(tx, path.dirname(p), path.basename(p), (e: api_error.ApiError, fileInodeId?: string): void => {\n      if (noErrorTx(e, tx, cb)) {\n        // Step 2: Get the file inode.\n        this.getINode(tx, p, fileInodeId, (e: api_error.ApiError, fileInode?: Inode): void => {\n          if (noErrorTx(e, tx, cb)) {\n            var inodeChanged: boolean = fileInode.update(stats);\n            // Step 3: Sync the data.\n            tx.put(fileInode.id, data, true, (e: api_error.ApiError): void => {\n              if (noErrorTx(e, tx, cb)) {\n                // Step 4: Sync the metadata (if it changed)!\n                if (inodeChanged) {\n                  tx.put(fileInodeId, fileInode.toBuffer(), true, (e: api_error.ApiError): void => {\n                    if (noErrorTx(e, tx, cb)) {\n                      tx.commit(cb);\n                    }\n                  });\n                } else {\n                  // No need to sync metadata; return.\n                  tx.commit(cb);\n                }\n              }\n            });\n          }\n        });\n      }\n    });\n  }\n}\n",
    "import file = require('../core/file');\nimport file_system = require('../core/file_system');\nimport node_fs_stats = require('../core/node_fs_stats');\nimport buffer = require('../core/buffer');\nimport file_flag = require('../core/file_flag');\nimport api_error = require('../core/api_error');\nimport fs = require('../core/node_fs');\n\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\nvar Buffer = buffer.Buffer;\n/**\n * An implementation of the File interface that operates on a file that is\n * completely in-memory. PreloadFiles are backed by a Buffer.\n *\n * This is also an abstract class, as it lacks an implementation of 'sync' and\n * 'close'. Each filesystem that wishes to use this file representation must\n * extend this class and implement those two methods.\n * @todo 'close' lever that disables functionality once closed.\n */\nexport class PreloadFile extends file.BaseFile {\n  private _pos: number = 0;\n  private _path: string;\n  protected _fs: file_system.FileSystem;\n  private _stat: node_fs_stats.Stats;\n  private _flag: file_flag.FileFlag;\n  private _buffer: NodeBuffer;\n  private _dirty: boolean = false;\n  /**\n   * Creates a file with the given path and, optionally, the given contents. Note\n   * that, if contents is specified, it will be mutated by the file!\n   * @param [BrowserFS.FileSystem] _fs The file system that created the file.\n   * @param [String] _path\n   * @param [BrowserFS.FileMode] _mode The mode that the file was opened using.\n   *   Dictates permissions and where the file pointer starts.\n   * @param [BrowserFS.node.fs.Stats] _stat The stats object for the given file.\n   *   PreloadFile will mutate this object. Note that this object must contain\n   *   the appropriate mode that the file was opened as.\n   * @param [BrowserFS.node.Buffer?] contents A buffer containing the entire\n   *   contents of the file. PreloadFile will mutate this buffer. If not\n   *   specified, we assume it is a new file.\n   */\n  constructor(_fs: file_system.FileSystem, _path: string, _flag: file_flag.FileFlag, _stat: node_fs_stats.Stats, contents?: NodeBuffer) {\n    super();\n    this._fs = _fs;\n    this._path = _path;\n    this._flag = _flag;\n    this._stat = _stat;\n    if (contents != null) {\n      this._buffer = contents;\n    } else {\n      // Empty buffer. It'll expand once we write stuff to it.\n      this._buffer = new Buffer(0);\n    }\n    // Note: This invariant is *not* maintained once the file starts getting\n    // modified.\n    // Note: Only actually matters if file is readable, as writeable modes may\n    // truncate/append to file.\n    if (this._stat.size !== this._buffer.length && this._flag.isReadable()) {\n      throw new Error(\"Invalid buffer: Buffer is \" + this._buffer.length + \" long, yet Stats object specifies that file is \" + this._stat.size + \" long.\");\n    }\n  }\n  \n  protected isDirty(): boolean {\n    return this._dirty;\n  }\n  \n  /**\n   * Resets the dirty bit. Should only be called after a sync has completed successfully.\n   */\n  protected resetDirty() {\n    this._dirty = false;\n  }\n\n  /**\n   * NONSTANDARD: Get the underlying buffer for this file. !!DO NOT MUTATE!! Will mess up dirty tracking.\n   */\n  public getBuffer(): Buffer {\n    return this._buffer;\n  }\n  \n  /**\n   * NONSTANDARD: Get underlying stats for this file. !!DO NOT MUTATE!!\n   */\n  public getStats(): node_fs_stats.Stats {\n    return this._stat;\n  }\n  \n  public getFlag(): file_flag.FileFlag {\n    return this._flag;\n  }\n\n  /**\n   * Get the path to this file.\n   * @return [String] The path to the file.\n   */\n  public getPath(): string {\n    return this._path;\n  }\n\n  /**\n   * Get the current file position.\n   *\n   * We emulate the following bug mentioned in the Node documentation:\n   * > On Linux, positional writes don't work when the file is opened in append\n   *   mode. The kernel ignores the position argument and always appends the data\n   *   to the end of the file.\n   * @return [Number] The current file position.\n   */\n  public getPos(): number {\n    if (this._flag.isAppendable()) {\n      return this._stat.size;\n    }\n    return this._pos;\n  }\n\n  /**\n   * Advance the current file position by the indicated number of positions.\n   * @param [Number] delta\n   */\n  public advancePos(delta: number): number {\n    return this._pos += delta;\n  }\n\n  /**\n   * Set the file position.\n   * @param [Number] newPos\n   */\n  public setPos(newPos: number): number {\n    return this._pos = newPos;\n  }\n\n  /**\n   * **Core**: Asynchronous sync. Must be implemented by subclasses of this\n   * class.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  public sync(cb: (e?: api_error.ApiError) => void): void {\n    try {\n      this.syncSync();\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  /**\n   * **Core**: Synchronous sync.\n   */\n  public syncSync(): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n\n  /**\n   * **Core**: Asynchronous close. Must be implemented by subclasses of this\n   * class.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  public close(cb: (e?: api_error.ApiError) => void): void {\n    try {\n      this.closeSync();\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  /**\n   * **Core**: Synchronous close.\n   */\n  public closeSync(): void {\n    throw new ApiError(ErrorCode.ENOTSUP);\n  }\n\n  /**\n   * Asynchronous `stat`.\n   * @param [Function(BrowserFS.ApiError, BrowserFS.node.fs.Stats)] cb\n   */\n  public stat(cb: (e: api_error.ApiError, stat?: node_fs_stats.Stats) => void): void {\n    try {\n      cb(null, this._stat.clone());\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  /**\n   * Synchronous `stat`.\n   */\n  public statSync(): node_fs_stats.Stats {\n    return this._stat.clone();\n  }\n\n  /**\n   * Asynchronous truncate.\n   * @param [Number] len\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  public truncate(len: number, cb: (e?: api_error.ApiError) => void): void {\n    try {\n      this.truncateSync(len);\n      if (this._flag.isSynchronous() && !fs.getRootFS().supportsSynch()) {\n        this.sync(cb);\n      }\n      cb();\n    } catch (e) {\n      return cb(e);\n    }\n  }\n\n  /**\n   * Synchronous truncate.\n   * @param [Number] len\n   */\n  public truncateSync(len: number): void {\n    this._dirty = true;\n    if (!this._flag.isWriteable()) {\n      throw new ApiError(ErrorCode.EPERM, 'File not opened with a writeable mode.');\n    }\n    this._stat.mtime = new Date();\n    if (len > this._buffer.length) {\n      var buf = new Buffer(len - this._buffer.length);\n      buf.fill(0);\n      // Write will set @_stat.size for us.\n      this.writeSync(buf, 0, buf.length, this._buffer.length);\n      if (this._flag.isSynchronous() && fs.getRootFS().supportsSynch()) {\n        this.syncSync();\n      }\n      return;\n    }\n    this._stat.size = len;\n    // Truncate buffer to 'len'.\n    var newBuff = new Buffer(len);\n    this._buffer.copy(newBuff, 0, 0, len);\n    this._buffer = newBuff;\n    if (this._flag.isSynchronous() && fs.getRootFS().supportsSynch()) {\n      this.syncSync();\n    }\n  }\n\n  /**\n   * Write buffer to the file.\n   * Note that it is unsafe to use fs.write multiple times on the same file\n   * without waiting for the callback.\n   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to\n   *  the file.\n   * @param [Number] offset Offset in the buffer to start reading data from.\n   * @param [Number] length The amount of bytes to write to the file.\n   * @param [Number] position Offset from the beginning of the file where this\n   *   data should be written. If position is null, the data will be written at\n   *   the current position.\n   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)]\n   *   cb The number specifies the number of bytes written into the file.\n   */\n  public write(buffer: NodeBuffer, offset: number, length: number, position: number, cb: (e: api_error.ApiError, len?: number, buff?: NodeBuffer) => void): void {\n    try {\n      cb(null, this.writeSync(buffer, offset, length, position), buffer);\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  /**\n   * Write buffer to the file.\n   * Note that it is unsafe to use fs.writeSync multiple times on the same file\n   * without waiting for the callback.\n   * @param [BrowserFS.node.Buffer] buffer Buffer containing the data to write to\n   *  the file.\n   * @param [Number] offset Offset in the buffer to start reading data from.\n   * @param [Number] length The amount of bytes to write to the file.\n   * @param [Number] position Offset from the beginning of the file where this\n   *   data should be written. If position is null, the data will be written at\n   *   the current position.\n   * @return [Number]\n   */\n  public writeSync(buffer: NodeBuffer, offset: number, length: number, position: number): number {\n    this._dirty = true;\n    if (position == null) {\n      position = this.getPos();\n    }\n    if (!this._flag.isWriteable()) {\n      throw new ApiError(ErrorCode.EPERM, 'File not opened with a writeable mode.');\n    }\n    var endFp = position + length;\n    if (endFp > this._stat.size) {\n      this._stat.size = endFp;\n      if (endFp > this._buffer.length) {\n        // Extend the buffer!\n        var newBuff = new Buffer(endFp);\n        this._buffer.copy(newBuff);\n        this._buffer = newBuff;\n      }\n    }\n    var len = buffer.copy(this._buffer, position, offset, offset + length);\n    this._stat.mtime = new Date();\n    if (this._flag.isSynchronous()) {\n      this.syncSync();\n      return len;\n    }\n    this.setPos(position + len);\n    return len;\n  }\n\n  /**\n   * Read data from the file.\n   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be\n   *   written to.\n   * @param [Number] offset The offset within the buffer where writing will\n   *   start.\n   * @param [Number] length An integer specifying the number of bytes to read.\n   * @param [Number] position An integer specifying where to begin reading from\n   *   in the file. If position is null, data will be read from the current file\n   *   position.\n   * @param [Function(BrowserFS.ApiError, Number, BrowserFS.node.Buffer)] cb The\n   *   number is the number of bytes read\n   */\n  public read(buffer: NodeBuffer, offset: number, length: number, position: number, cb: (e: api_error.ApiError, len?: number, buff?: NodeBuffer) => void): void {\n    try {\n      cb(null, this.readSync(buffer, offset, length, position), buffer);\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  /**\n   * Read data from the file.\n   * @param [BrowserFS.node.Buffer] buffer The buffer that the data will be\n   *   written to.\n   * @param [Number] offset The offset within the buffer where writing will\n   *   start.\n   * @param [Number] length An integer specifying the number of bytes to read.\n   * @param [Number] position An integer specifying where to begin reading from\n   *   in the file. If position is null, data will be read from the current file\n   *   position.\n   * @return [Number]\n   */\n  public readSync(buffer: NodeBuffer, offset: number, length: number, position: number): number {\n    if (!this._flag.isReadable()) {\n      throw new ApiError(ErrorCode.EPERM, 'File not opened with a readable mode.');\n    }\n    if (position == null) {\n      position = this.getPos();\n    }\n    var endRead = position + length;\n    if (endRead > this._stat.size) {\n      length = this._stat.size - position;\n    }\n    var rv = this._buffer.copy(buffer, offset, position, position + length);\n    this._stat.atime = new Date();\n    this._pos = position + length;\n    return rv;\n  }\n\n  /**\n   * Asynchronous `fchmod`.\n   * @param [Number|String] mode\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  public chmod(mode: number, cb: (e?: api_error.ApiError) => void): void {\n    try {\n      this.chmodSync(mode);\n      cb();\n    } catch (e) {\n      cb(e);\n    }\n  }\n\n  /**\n   * Asynchronous `fchmod`.\n   * @param [Number] mode\n   */\n  public chmodSync(mode: number): void {\n    if (!this._fs.supportsProps()) {\n      throw new ApiError(ErrorCode.ENOTSUP);\n    }\n    this._dirty = true;\n    this._stat.chmod(mode);\n    this.syncSync();\n  }\n}\n\n/**\n * File class for the InMemory and XHR file systems.\n * Doesn't sync to anything, so it works nicely for memory-only files.\n */\nexport class NoSyncFile extends PreloadFile implements file.File {\n  constructor(_fs: file_system.FileSystem, _path: string, _flag: file_flag.FileFlag, _stat: node_fs_stats.Stats, contents?: NodeBuffer) {\n    super(_fs, _path, _flag, _stat, contents);\n  }\n  /**\n   * Asynchronous sync. Doesn't do anything, simply calls the cb.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  public sync(cb: (e?: api_error.ApiError) => void): void {\n    cb();\n  }\n  /**\n   * Synchronous sync. Doesn't do anything.\n   */\n  public syncSync(): void {}\n  /**\n   * Asynchronous close. Doesn't do anything, simply calls the cb.\n   * @param [Function(BrowserFS.ApiError)] cb\n   */\n  public close(cb: (e?: api_error.ApiError) => void): void {\n    cb();\n  }\n  /**\n   * Synchronous close. Doesn't do anything.\n   */\n  public closeSync(): void {}\n}\n",
    "/**\n * Contains utility methods for performing a variety of tasks with\n * XmlHttpRequest across browsers.\n */\n\nimport util = require('../core/util');\nimport buffer = require('../core/buffer');\nimport api_error = require('../core/api_error');\n\nvar ApiError = api_error.ApiError;\nvar ErrorCode = api_error.ErrorCode;\nvar Buffer = buffer.Buffer;\n\n// See core/polyfills for the VBScript definition of these functions.\ndeclare var IEBinaryToArray_ByteStr: (vbarr: any) => string;\ndeclare var IEBinaryToArray_ByteStr_Last: (vbarr: any) => string;\n// Converts 'responseBody' in IE into the equivalent 'responseText' that other\n// browsers would generate.\nfunction getIEByteArray(IEByteArray: any): number[] {\n  var rawBytes = IEBinaryToArray_ByteStr(IEByteArray);\n  var lastChr = IEBinaryToArray_ByteStr_Last(IEByteArray);\n  var data_str = rawBytes.replace(/[\\s\\S]/g, function(match) {\n    var v = match.charCodeAt(0)\n    return String.fromCharCode(v&0xff, v>>8)\n  }) + lastChr;\n  var data_array = new Array(data_str.length);\n  for (var i = 0; i < data_str.length; i++) {\n    data_array[i] = data_str.charCodeAt(i);\n  }\n  return data_array;\n}\n\nfunction downloadFileIE(async: boolean, p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void {\n  switch(type) {\n    case 'buffer':\n      // Fallthrough\n    case 'json':\n      break;\n    default:\n      return cb(new ApiError(ErrorCode.EINVAL, \"Invalid download type: \" + type));\n  }\n\n  var req = new XMLHttpRequest();\n  req.open('GET', p, async);\n  req.setRequestHeader(\"Accept-Charset\", \"x-user-defined\");\n  req.onreadystatechange = function(e) {\n    var data_array;\n    if (req.readyState === 4) {\n      if (req.status === 200) {\n        switch(type) {\n          case 'buffer':\n            data_array = getIEByteArray(req.responseBody);\n            return cb(null, new Buffer(data_array));\n          case 'json':\n            return cb(null, JSON.parse(req.responseText));\n        }\n      } else {\n        return cb(new ApiError(req.status, \"XHR error.\"));\n      }\n    }\n  };\n  req.send();\n}\n\nfunction asyncDownloadFileIE(p: string, type: 'buffer', cb: (err: api_error.ApiError, data?: NodeBuffer) => void): void;\nfunction asyncDownloadFileIE(p: string, type: 'json', cb: (err: api_error.ApiError, data?: any) => void): void;\nfunction asyncDownloadFileIE(p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void;\nfunction asyncDownloadFileIE(p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void {\n  downloadFileIE(true, p, type, cb);\n}\n\nfunction syncDownloadFileIE(p: string, type: 'buffer'): NodeBuffer;\nfunction syncDownloadFileIE(p: string, type: 'json'): any;\nfunction syncDownloadFileIE(p: string, type: string): any;\nfunction syncDownloadFileIE(p: string, type: string): any {\n  var rv;\n  downloadFileIE(false, p, type, function(err: api_error.ApiError, data?: any) {\n    if (err) throw err;\n    rv = data;\n  });\n  return rv;\n}\n\nfunction asyncDownloadFileModern(p: string, type: 'buffer', cb: (err: api_error.ApiError, data?: NodeBuffer) => void): void;\nfunction asyncDownloadFileModern(p: string, type: 'json', cb: (err: api_error.ApiError, data?: any) => void): void;\nfunction asyncDownloadFileModern(p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void;\nfunction asyncDownloadFileModern(p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void {\n  var req = new XMLHttpRequest();\n  req.open('GET', p, true);\n  var jsonSupported = true;\n  switch(type) {\n    case 'buffer':\n      req.responseType = 'arraybuffer';\n      break;\n    case 'json':\n     // Some browsers don't support the JSON response type.\n     // They either reset responseType, or throw an exception.\n     // @see https://github.com/Modernizr/Modernizr/blob/master/src/testXhrType.js\n      try {\n        req.responseType = 'json';\n        jsonSupported = req.responseType === 'json';\n      } catch (e) {\n        jsonSupported = false;\n      }\n      break;\n    default:\n      return cb(new ApiError(ErrorCode.EINVAL, \"Invalid download type: \" + type));\n  }\n  req.onreadystatechange = function(e) {\n    if (req.readyState === 4) {\n      if (req.status === 200) {\n        switch(type) {\n          case 'buffer':\n            // XXX: WebKit-based browsers return *null* when XHRing an empty file.\n            return cb(null, new Buffer(req.response ? req.response : 0));\n          case 'json':\n            if (jsonSupported) {\n              return cb(null, req.response);\n            } else {\n              return cb(null, JSON.parse(req.responseText));\n            }\n        }\n      } else {\n        return cb(new ApiError(req.status, \"XHR error.\"));\n      }\n    }\n  };\n  req.send();\n}\n\nfunction syncDownloadFileModern(p: string, type: 'buffer'): NodeBuffer;\nfunction syncDownloadFileModern(p: string, type: 'json'): any;\nfunction syncDownloadFileModern(p: string, type: string): any;\nfunction syncDownloadFileModern(p: string, type: string): any {\n  var req = new XMLHttpRequest();\n  req.open('GET', p, false);\n\n  // On most platforms, we cannot set the responseType of synchronous downloads.\n  // @todo Test for this; IE10 allows this, as do older versions of Chrome/FF.\n  var data = null;\n  var err = null;\n  // Classic hack to download binary data as a string.\n  req.overrideMimeType('text/plain; charset=x-user-defined');\n  req.onreadystatechange = function(e) {\n    if (req.readyState === 4) {\n      if (req.status === 200) {\n        switch(type) {\n          case 'buffer':\n            // Convert the text into a buffer.\n            var text = req.responseText;\n            data = new Buffer(text.length);\n            // Throw away the upper bits of each character.\n            for (var i = 0; i < text.length; i++) {\n              // This will automatically throw away the upper bit of each\n              // character for us.\n              data.writeUInt8(text.charCodeAt(i), i);\n            }\n            return;\n          case 'json':\n            data = JSON.parse(req.responseText);\n            return;\n        }\n      } else {\n        err = new ApiError(req.status, \"XHR error.\");\n        return;\n      }\n    }\n  };\n  req.send();\n  if (err) {\n    throw err;\n  }\n  return data;\n}\n\n/**\n * IE10 allows us to perform synchronous binary file downloads.\n * @todo Feature detect this, as older versions of FF/Chrome do too!\n */\nfunction syncDownloadFileIE10(p: string, type: 'buffer'): NodeBuffer;\nfunction syncDownloadFileIE10(p: string, type: 'json'): any;\nfunction syncDownloadFileIE10(p: string, type: string): any;\nfunction syncDownloadFileIE10(p: string, type: string): any {\n  var req = new XMLHttpRequest();\n  req.open('GET', p, false);\n  switch(type) {\n    case 'buffer':\n      req.responseType = 'arraybuffer';\n      break;\n    case 'json':\n      // IE10 does not support the JSON type.\n      break;\n    default:\n      throw new ApiError(ErrorCode.EINVAL, \"Invalid download type: \" + type);\n  }\n  var data;\n  var err;\n  req.onreadystatechange = function(e) {\n    if (req.readyState === 4) {\n      if (req.status === 200) {\n        switch(type) {\n          case 'buffer':\n            data = new Buffer(req.response);\n            break;\n          case 'json':\n            data = JSON.parse(req.response);\n            break;\n        }\n      } else {\n        err = new ApiError(req.status, \"XHR error.\");\n      }\n    }\n  };\n  req.send();\n  if (err) {\n    throw err;\n  }\n  return data;\n}\n\nfunction getFileSize(async: boolean, p: string, cb: (err: api_error.ApiError, size?: number) => void): void {\n  var req = new XMLHttpRequest();\n  req.open('HEAD', p, async);\n  req.onreadystatechange = function(e) {\n    if (req.readyState === 4) {\n      if (req.status == 200) {\n        try {\n          return cb(null, parseInt(req.getResponseHeader('Content-Length'), 10));\n        } catch(e) {\n          // In the event that the header isn't present or there is an error...\n          return cb(new ApiError(ErrorCode.EIO, \"XHR HEAD error: Could not read content-length.\"));\n        }\n      } else {\n        return cb(new ApiError(req.status, \"XHR HEAD error.\"));\n      }\n    }\n  };\n  req.send();\n}\n\n/**\n * Asynchronously download a file as a buffer or a JSON object.\n * Note that the third function signature with a non-specialized type is\n * invalid, but TypeScript requires it when you specialize string arguments to\n * constants.\n */\nexport var asyncDownloadFile: {\n  (p: string, type: 'buffer', cb: (err: api_error.ApiError, data?: NodeBuffer) => void): void;\n  (p: string, type: 'json', cb: (err: api_error.ApiError, data?: any) => void): void;\n  (p: string, type: string, cb: (err: api_error.ApiError, data?: any) => void): void;\n} = (util.isIE && typeof Blob === 'undefined') ? asyncDownloadFileIE : asyncDownloadFileModern;\n\n/**\n * Synchronously download a file as a buffer or a JSON object.\n * Note that the third function signature with a non-specialized type is\n * invalid, but TypeScript requires it when you specialize string arguments to\n * constants.\n */\nexport var syncDownloadFile: {\n  (p: string, type: 'buffer'): NodeBuffer;\n  (p: string, type: 'json'): any;\n  (p: string, type: string): any;\n} = (util.isIE && typeof Blob === 'undefined') ? syncDownloadFileIE : (util.isIE && typeof Blob !== 'undefined') ? syncDownloadFileIE10 : syncDownloadFileModern;\n\n/**\n * Synchronously retrieves the size of the given file in bytes.\n */\nexport function getFileSizeSync(p: string): number {\n  var rv: number;\n  getFileSize(false, p, function(err: api_error.ApiError, size?: number) {\n    if (err) {\n      throw err;\n    }\n    rv = size;\n  });\n  return rv;\n}\n\n/**\n * Asynchronously retrieves the size of the given file in bytes.\n */\nexport function getFileSizeAsync(p: string, cb: (err: api_error.ApiError, size?: number) => void): void {\n  getFileSize(true, p, cb);\n}\n",
    "/// <reference path=\"./DataView.d.ts\" />\n/// <reference path=\"../bower_components/DefinitelyTyped/node/node-0.10.d.ts\" />\n/**\n * This file serves as the template for BrowserFS's main entry point.\n * It installs all of the needed polyfills, and requires() all of our backends.\n */\nimport global = require('./core/global');\n\n// IE < 9 does not define this function.\nif (!Date.now) {\n  Date.now = function now() {\n    return new Date().getTime();\n  };\n}\n\n// IE < 9 does not define this function.\nif(!Array.isArray) {\n  Array.isArray = function (vArg) {\n    return Object.prototype.toString.call(vArg) === \"[object Array]\";\n  };\n}\n\n// IE < 9 does not define this function.\n// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\nif (!Object.keys) {\n  Object.keys = (function () {\n    'use strict';\n    var hasOwnProperty = Object.prototype.hasOwnProperty,\n        hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),\n        dontEnums = [\n          'toString',\n          'toLocaleString',\n          'valueOf',\n          'hasOwnProperty',\n          'isPrototypeOf',\n          'propertyIsEnumerable',\n          'constructor'\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    return function (obj: any) {\n      if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n        throw new TypeError('Object.keys called on non-object');\n      }\n\n      var result: string[] = [], prop: string, i: number;\n\n      for (prop in obj) {\n        if (hasOwnProperty.call(obj, prop)) {\n          result.push(prop);\n        }\n      }\n\n      if (hasDontEnumBug) {\n        for (i = 0; i < dontEnumsLength; i++) {\n          if (hasOwnProperty.call(obj, dontEnums[i])) {\n            result.push(dontEnums[i]);\n          }\n        }\n      }\n      return result;\n    };\n  }());\n}\n\n// IE substr does not support negative indices\nif ('ab'.substr(-1) !== 'b') {\n  String.prototype.substr = function(substr: (start: number, length?: number) => string) {\n    return function(start: number, length?: number): string {\n      // did we get a negative start, calculate how much it is from the\n      // beginning of the string\n      if (start < 0) start = this.length + start;\n      // call the original function\n      return substr.call(this, start, length);\n    }\n  }(String.prototype.substr);\n}\n\n// IE < 9 does not support forEach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function(fn: (value: string, index: number, array: string[]) => void, scope?: any): void {\n    for (var i = 0; i < this.length; ++i) {\n      if (i in this) {\n        fn.call(scope, this[i], i, this);\n      }\n    }\n  };\n}\n\n// Only IE10 has setImmediate.\n// @todo: Determine viability of switching to the 'proper' polyfill for this.\nif (typeof setImmediate === 'undefined') {\n  var gScope = global;\n  var timeouts: (() => void)[] = [];\n  var messageName = \"zero-timeout-message\";\n  var canUsePostMessage = function() {\n    if (typeof gScope.importScripts !== 'undefined' || !gScope.postMessage) {\n      return false;\n    }\n    var postMessageIsAsync = true;\n    var oldOnMessage = gScope.onmessage;\n    gScope.onmessage = function() {\n      postMessageIsAsync = false;\n    };\n    gScope.postMessage('', '*');\n    gScope.onmessage = oldOnMessage;\n    return postMessageIsAsync;\n  };\n  if (canUsePostMessage()) {\n    gScope.setImmediate = function(fn: () => void) {\n      timeouts.push(fn);\n      gScope.postMessage(messageName, \"*\");\n    };\n    var handleMessage = function(event: MessageEvent) {\n      if (event.source === self && event.data === messageName) {\n        if (event.stopPropagation) {\n          event.stopPropagation();\n        } else {\n          event.cancelBubble = true;\n        }\n        if (timeouts.length > 0) {\n          var fn = timeouts.shift();\n          return fn();\n        }\n      }\n    };\n    if (gScope.addEventListener) {\n      gScope.addEventListener('message', handleMessage, true);\n    } else {\n      gScope.attachEvent('onmessage', handleMessage);\n    }\n  } else if (gScope.MessageChannel) {\n    // WebWorker MessageChannel\n    var channel = new gScope.MessageChannel();\n    channel.port1.onmessage = (event: any) => {\n      if (timeouts.length > 0) {\n        return timeouts.shift()();\n      }\n    };\n    gScope.setImmediate = (fn: () => void) => {\n      timeouts.push(fn);\n      channel.port2.postMessage('');\n    };\n  } else {\n    gScope.setImmediate = function(fn: () => void) {\n      return setTimeout(fn, 0);\n      var scriptEl = window.document.createElement(\"script\");\n      (<any> scriptEl).onreadystatechange = function(): any {\n        fn();\n        (<any> scriptEl).onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        return scriptEl = null;\n      };\n      gScope.document.documentElement.appendChild(scriptEl);\n    };\n  }\n}\n\n// IE<9 does not define indexOf.\n// From: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf) {\n  Array.prototype.indexOf = function(searchElement: any, fromIndex: number = 0): number {\n    if (!this) {\n      throw new TypeError();\n    }\n\n    var length = this.length;\n    if (length === 0 || pivot >= length) {\n      return -1;\n    }\n\n    var pivot = fromIndex;\n    if (pivot < 0) {\n      pivot = length + pivot;\n    }\n\n    for (var i = pivot; i < length; i++) {\n      if (this[i] === searchElement) {\n        return i;\n      }\n    }\n    return -1;\n  };\n}\n\n// IE<9 does not support forEach\n// From: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function(fn: (value: string, index: number, array: string[]) => void, scope?: any) {\n    var i: number, len: number;\n    for (i = 0, len = this.length; i < len; ++i) {\n      if (i in this) {\n        fn.call(scope, this[i], i, this);\n      }\n    }\n  };\n}\n\n// IE<9 does not support map\n// From: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\nif (!Array.prototype.map) {\n  Array.prototype.map = function(callback: (value: string, index: number, array: string[]) => any, thisArg?: any): any[] {\n    var T: any, A: any, k: any;\n    if (this == null) {\n      throw new TypeError(\" this is null or not defined\");\n    }\n    // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n    var O = Object(this);\n    // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n    // 3. Let len be ToUint32(lenValue).\n    var len = O.length >>> 0;\n    // 4. If IsCallable(callback) is false, throw a TypeError exception.\n    // See: http://es5.github.com/#x9.11\n    if (typeof callback !== \"function\") {\n      throw new TypeError(callback + \" is not a function\");\n    }\n    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n    if (thisArg) {\n      T = thisArg;\n    }\n    // 6. Let A be a new array created as if by the expression new Array(len) where Array is\n    // the standard built-in constructor with that name and len is the value of len.\n    A = new Array(len);\n    // 7. Let k be 0\n    k = 0;\n    // 8. Repeat, while k < len\n    while(k < len) {\n      var kValue: any, mappedValue: any;\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      if (k in O) {\n        // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n        kValue = O[k];\n        // ii. Let mappedValue be the result of calling the Call internal method of callback\n        // with T as the this value and argument list containing kValue, k, and O.\n        mappedValue = callback.call(T, kValue, k, O);\n        // iii. Call the DefineOwnProperty internal method of A with arguments\n        // Pk, Property Descriptor {Value: mappedValue, : true, Enumerable: true, Configurable: true},\n        // and false.\n        // In browsers that support Object.defineProperty, use the following:\n        // Object.defineProperty(A, Pk, { value: mappedValue, writable: true, enumerable: true, configurable: true });\n        // For best browser support, use the following:\n        A[k] = mappedValue;\n      }\n      // d. Increase k by 1.\n      k++;\n    }\n    // 9. return A\n    return A;\n  };\n}\n\n/**\n * IE9 and below only: Injects a VBScript function that converts the\n * 'responseBody' attribute of an XMLHttpRequest into a bytestring.\n * From: http://miskun.com/javascript/internet-explorer-and-binary-files-data-access/#comment-17\n *\n * This must be performed *before* the page finishes loading, otherwise\n * document.write will refresh the page. :(\n *\n * This is harmless to inject into non-IE browsers.\n */\nif (typeof document !== 'undefined' && (<any> window)['chrome'] === undefined) {\n  document.write(\"<!-- IEBinaryToArray_ByteStr -->\\r\\n\"+\n    \"<script type='text/vbscript'>\\r\\n\"+\n    \"Function IEBinaryToArray_ByteStr(Binary)\\r\\n\"+\n    \" IEBinaryToArray_ByteStr = CStr(Binary)\\r\\n\"+\n    \"End Function\\r\\n\"+\n    \"Function IEBinaryToArray_ByteStr_Last(Binary)\\r\\n\"+\n    \" Dim lastIndex\\r\\n\"+\n    \" lastIndex = LenB(Binary)\\r\\n\"+\n    \" if lastIndex mod 2 Then\\r\\n\"+\n    \" IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\\r\\n\"+\n    \" Else\\r\\n\"+\n    \" IEBinaryToArray_ByteStr_Last = \"+'\"\"'+\"\\r\\n\"+\n    \" End If\\r\\n\"+\n    \"End Function\\r\\n\"+\n    \"</script>\\r\\n\");\n}\n\nrequire('./generic/emscripten_fs');\nrequire('./backend/IndexedDB.d');\nrequire('./backend/IndexedDB');\nrequire('./backend/XmlHttpRequest.d');\nrequire('./backend/XmlHttpRequest');\nrequire('./backend/async_mirror.d');\nrequire('./backend/async_mirror');\nrequire('./backend/dropbox.d');\nrequire('./backend/dropbox');\nrequire('./backend/html5fs.d');\nrequire('./backend/html5fs');\nrequire('./backend/in_memory.d');\nrequire('./backend/in_memory');\nrequire('./backend/localStorage.d');\nrequire('./backend/localStorage');\nrequire('./backend/mountable_file_system.d');\nrequire('./backend/mountable_file_system');\nrequire('./backend/overlay.d');\nrequire('./backend/overlay');\nrequire('./backend/workerfs.d');\nrequire('./backend/workerfs');\nrequire('./backend/zipfs.d');\nrequire('./backend/zipfs');\nexport = require('./core/browserfs');"
  ]
}